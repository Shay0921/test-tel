webpackJsonp([35],{"/FDz":function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("mvHQ"),o=t.n(l),n=(t("7t+N"),t("gEXf")),i=t("NZyr"),s={data:function(){return{showOverlay:!1,showConfirmDel:!1,showConfirmCopy:!1,showAddTalkModal:!1,robottalkTab:"all",searchTalk:"",talkTableData:[{id:1,icon:"icon-hulianwang",title:"金融-金融贷款(标准版)20181018-134105",demo:"张思",sound:"Lisa 陈俊豪",name:"shay",state:"2",date:"2016-05-03"},{id:2,icon:"icon-hulianwang",title:"金融-金融贷款(标准版)20181018-134105",demo:"张思",sound:"Lisa 陈俊豪",name:"shay",state:"2",date:"2016-05-03"},{id:3,icon:"icon-hulianwang",title:"金融-金融贷款(标准版)20181018-134105",demo:"张思",sound:"Lisa 陈俊豪",name:"shay",state:"2",date:"2016-05-03"}],checkId:null,checkIndex:null,currentPage:1,pageSize:100,tableTotal:400,talkModalTitle:"新建话术",addTalkForm:{title:"",industry:"",mould:[],desp:""},addTalkRules:{title:[{required:!0,message:"请输入AI话术名称",trigger:"blur"}],industry:[{required:!0,message:"请选择话术行业",trigger:"change"}]},industryOp:[{value:"1",label:"转介绍"},{value:"2",label:"线上注册"},{value:"3",label:"线上咨询"},{value:"4",label:"404咨询"}],mouldOp:[{value:"1",label:"保险行业",children:[{value:"1.1",label:"人寿险"},{value:"1.2",label:"保险代理"}]},{value:"2",label:"电子商务",children:[{value:"2.1",label:"售后回访"}]},{value:"3",label:"房地产",children:[{value:"3.1",label:"装饰装修"}]}]}},created:function(){this.$nextTick(function(){})},mounted:function(){this.$nextTick(function(){})},methods:{changeTabClick:function(a){"all"===a?this.talkTableData=[{id:1,icon:"icon-hulianwang",title:"金融-金融贷款(标准版)20181018-134105",demo:"张思",sound:"Lisa 陈俊豪",name:"xin",state:"1",date:"2016-05-03"}]:"config"===a&&(this.talkTableData=[{id:1,icon:"icon-hulianwang",title:"金融-金融贷款(标准版)20181018-134105",demo:"张思",sound:"Lisa 陈俊豪",name:"liu",state:"2",date:"2016-05-03"},{id:4,icon:"icon-hulianwang",title:"金融-金融贷款(标准版)20181018-134105",demo:"张思",sound:"Lisa 陈俊豪",name:"liu",state:"2",date:"2016-05-03"}])},addTalkRouter:function(a){var e=a.currentTarget.innerHTML,t=a.currentTarget.getAttribute("data-id"),l="/talkRobotItem/"+t;Object(i.c)(l,e,"hgicon-order")},deleteRow:function(a,e){e.splice(a,1)},handleCommand:function(a){a.indexOf("del")>=0?(this.checkIndex=a.split("del")[1],this.checkId=this.talkTableData[this.checkIndex].id,this.showOverlay=!0,this.showConfirmDel=!0):a.indexOf("copy")>=0&&(this.checkIndex=a.split("copy")[1],this.checkId=this.talkTableData[this.checkIndex].id,this.showOverlay=!0,this.showConfirmCopy=!0)},cancelModal:function(){this.showOverlay=!1,this.showConfirmDel=!1,this.showConfirmCopy=!1},talkDel:function(){this.talkTableData.splice(this.checkIndex,1),this.$message({message:"删除成功",type:"success"}),this.cancelModal()},talkCopy:function(){var a=this.talkTableData[this.checkIndex];this.talkTableData.push(a),this.$message({message:"复制成功",type:"success"}),this.cancelModal()},clickShowTalkModal:function(a,e){"add"===a?this.talkModalTitle="新建话术":(this.talkModalTitle="编辑话术",this.addTalkForm=JSON.parse(o()(this.talkTableData[e]))),this.showAddTalkModal=!0},cancelAddTalk:function(){this.showAddTalkModal=!1,this.$refs.addTalkForm.resetFields()},addTalkBtn:function(){var a=this;this.$refs.addTalkForm.validate(function(e){if(e){var t=JSON.parse(o()(a.addTalkForm));if("新建话术"===a.talkModalTitle)a.talkTableData.push(t),a.$message({message:"新建成功",type:"success"});else if("编辑话术"===a.talkModalTitle){for(var l=0;l<a.talkTableData.length;l++)a.talkTableData[l].id===t.id&&a.$set(a.talkTableData,l,t);a.$message({message:"编辑成功",type:"success"})}a.cancelAddTalk()}})},handleSizeChange:function(a){},handleCurrentChange:function(a){}},components:{"v-confirmModal":n.a}},d={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"robottalk"},[t("div",{staticClass:"haigui-section scrollbar"},[t("div",{staticClass:"robottalk-title"},[t("el-radio-group",{staticStyle:{"margin-bottom":"30px"},attrs:{size:"small"},on:{change:a.changeTabClick},model:{value:a.robottalkTab,callback:function(e){a.robottalkTab=e},expression:"robottalkTab"}},[t("el-radio-button",{attrs:{label:"all"}},[a._v("全部")]),a._v(" "),t("el-radio-button",{attrs:{label:"config"}},[a._v("配置中")]),a._v(" "),t("el-radio-button",{attrs:{label:"online"}},[a._v("上线")])],1),a._v(" "),t("el-input",{attrs:{placeholder:"搜索话术",size:"small","suffix-icon":"el-icon-search"},model:{value:a.searchTalk,callback:function(e){a.searchTalk=e},expression:"searchTalk"}}),a._v(" "),t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(e){a.clickShowTalkModal("add")}}},[a._v("新建话术")])],1),a._v(" "),t("div",{staticClass:"robottalk-content"},[t("el-table",{ref:"talkTable",staticStyle:{width:"100%"},attrs:{data:a.talkTableData}},[t("el-table-column",{attrs:{label:"",width:"20"}}),a._v(" "),t("el-table-column",{attrs:{label:"",width:"80"},scopedSlots:a._u([{key:"default",fn:function(a){return[t("i",{class:[a.row.icon,"iconfont"]})]}}])}),a._v(" "),t("el-table-column",{attrs:{label:"话术名称","min-width":"250"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("div",{staticClass:"talkNameTitle"},[t("span",{attrs:{"data-id":e.row.id},on:{click:a.addTalkRouter}},[a._v(a._s(e.row.title))]),a._v(" "),t("b",[a._v("Demo负责人："+a._s(e.row.demo)+"  录音："+a._s(e.row.sound))])])]}}])}),a._v(" "),t("el-table-column",{attrs:{prop:"name",label:"创建者","min-width":"120"}}),a._v(" "),t("el-table-column",{attrs:{prop:"state",label:"状态","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-tag",{attrs:{size:"normal",type:"1"===e.row.state?"success":"danger"},domProps:{textContent:a._s("1"===e.row.state?"上线":"配置中")}})]}}])}),a._v(" "),t("el-table-column",{attrs:{label:"更新时间","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("i",{staticClass:"el-icon-time"}),a._v(" "),t("span",[a._v(a._s(e.row.date))])]}}])}),a._v(" "),t("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){a.clickShowTalkModal("edit",e.$index)}}},[a._v("编辑")]),a._v(" | \n            "),t("el-dropdown",{on:{command:a.handleCommand}},[t("span",{staticClass:"el-dropdown-link"},[a._v("\n                更多"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"del"+e.$index}},[a._v("删除")]),a._v(" "),t("el-dropdown-item",{attrs:{command:"copy"+e.$index}},[a._v("复制")])],1)],1)]}}])})],1),a._v(" "),t("el-pagination",{attrs:{"current-page":a.currentPage,"page-sizes":[100,200,300,400],"page-size":a.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.tableTotal},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)]),a._v(" "),a.showOverlay?t("div",{staticClass:"overlay"}):a._e(),a._v(" "),a.showConfirmDel?t("v-confirmModal",{attrs:{titleMsg:"删除话术",contentMsg:"确认要删除此话术吗?"},on:{close:a.cancelModal,confirm:a.talkDel}}):a._e(),a._v(" "),a.showConfirmCopy?t("v-confirmModal",{attrs:{titleMsg:"复制话术",contentMsg:"确认要复制此话术吗?"},on:{close:a.cancelModal,confirm:a.talkCopy}}):a._e(),a._v(" "),t("el-dialog",{attrs:{width:"500px",title:a.talkModalTitle,visible:a.showAddTalkModal,"before-close":a.cancelAddTalk},on:{"update:visible":function(e){a.showAddTalkModal=e}}},[t("el-form",{ref:"addTalkForm",attrs:{model:a.addTalkForm,rules:a.addTalkRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"话术名称",prop:"title"}},[t("el-input",{attrs:{maxlength:25,placeholder:"输入AI话术名称"},model:{value:a.addTalkForm.title,callback:function(e){a.$set(a.addTalkForm,"title",e)},expression:"addTalkForm.title"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"所属行业",prop:"industry"}},[t("el-select",{attrs:{placeholder:"请选择话术行业"},model:{value:a.addTalkForm.industry,callback:function(e){a.$set(a.addTalkForm,"industry",e)},expression:"addTalkForm.industry"}},a._l(a.industryOp,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1),a._v(" "),t("el-form-item",{attrs:{label:"话术模板",prop:"mould"}},[t("el-cascader",{attrs:{placeholder:"请选择话术模板",options:a.mouldOp,filterable:"","change-on-select":""},model:{value:a.addTalkForm.mould,callback:function(e){a.$set(a.addTalkForm,"mould",e)},expression:"addTalkForm.mould"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"话术描述",prop:"desp"}},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入话术描述"},model:{value:a.addTalkForm.desp,callback:function(e){a.$set(a.addTalkForm,"desp",e)},expression:"addTalkForm.desp"}})],1)],1),a._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:a.cancelAddTalk}},[a._v("取 消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.addTalkBtn}},[a._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=t("VU/8")(s,d,!1,function(a){t("zNGU")},null,null);e.default=r.exports},zNGU:function(a,e){}});