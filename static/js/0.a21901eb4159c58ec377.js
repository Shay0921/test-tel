webpackJsonp([0],{"+c/5":function(e,t,a){"use strict";(function(e){var i=a("mvHQ"),l=a.n(i),r=a("gEXf"),s=a("pXf9"),o=a("6daL");t.a={props:["visible","sliderObj","pageType"],data:function(){var e=function(e,t,a){if(""===t)a();else{/^(\d{3}-\d{8}|\d{4}-\d{7}|\d{4}-\d{8})$/.test(t)?a():a(new Error("请输入正确的座机(需要区号并带“-”符号)"))}},t=function(e,t,a){if(""===t)a(new Error("请输入手机号"));else{/^[1][3,4,5,6,7,8][0-9]{9}$/.test(t)?a():a(new Error("请输入正确的手机号"))}},a=function(e,t,a){if(""===t)a();else{/^[0-9]+$/.test(t)?a():a(new Error("请输入正确QQ号码"))}},i=function(e,t,a){if(""===t)a();else{/[\u4e00-\u9fa5]/.test(t)?a(new Error("禁止输入中文")):a()}};return{callClientOp:[{value:1,label:"A级(有明确意向)"},{value:2,label:"B级(可能有意向)"},{value:3,label:"C级(明确拒绝)"},{value:4,label:"D级(用户忙)"},{value:5,label:"E级(拨打失败)"},{value:6,label:"F级(无效客户)"}],roleOp:[{value:1,label:"角色1"},{value:2,label:"角色2"}],roleStateOp:[{value:1,label:"在职员工"},{value:2,label:"已离职"}],AITaskOp:[{value:1,label:"外呼1"},{value:2,label:"外呼2"}],messageMouldOp:[{value:1,label:"模板1"},{value:2,label:"模板2"}],emailMouldOp:[{value:1,label:"模板1"},{value:2,label:"模板2"}],showSliderDial:this.visible,showSliderRight:this.visible,getCheckVisible:!1,showAddContact:!1,showAsiderAudio:!1,clickSliderData:{id:this.sliderObj.id,index:this.sliderObj.index},clickContactId:"",recordTabsTitle:"跟进记录",recordTabsId:"all",dialSliderData:{company:"北京海硅信息技术有限公司",contacts:[{id:1,contact:"shay",company:"北京海硅信息技术有限公司",sex:1,posi:"员工",depa:"技术部",role:1,state:1,tel:"010-88527628",phone:[{value:"18211103898",key:0,rules:{required:!0,validator:t,trigger:"blur"}},{value:"18311392166",key:1,rules:{required:!0,validator:t,trigger:"blur"}}],email:"18211103898@qq.com",wechat:"18211103898",qq:"18211103898",address:"北京市海淀区永定路",zipcode:"100039"},{id:2,contact:"刘欣雨",company:"北京海硅信息技术有限公司",sex:2,posi:"员工",depa:"技术部",role:1,state:2,tel:"010-88258852",phone:[{value:"18211103898",key:0,rules:{required:!0,validator:t,trigger:"blur"}},{value:"18311392166",key:1,rules:{required:!0,validator:t,trigger:"blur"}}],email:"18211103898@qq.com",wechat:"18211103898",qq:"18211103898",address:"北京市海淀区永定路",zipcode:"100039"},{id:3,contact:"张三",company:"北京海硅信息技术有限公司",sex:2,posi:"员工",depa:"客服部",role:2,state:2,tel:"010-000000",phone:[{value:"18211103898",key:0,rules:{required:!0,validator:t,trigger:"blur"}},{value:"18311392166",key:1,rules:{required:!0,validator:t,trigger:"blur"}}],email:"18211103898@qq.com",wechat:"18211103898",qq:"18211103898",address:"北京市海淀区永定路",zipcode:"100039"}],clientLevel:1,tag:[],isShare:1,clientState:3,dynamicTotal:3,uploadTime:"4小时",dynamicList:[{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"跟进记录",content:"网络拜访客户需要200用户",time:"2018-11-26 16:15:57",id:"841235510",record:"",download:""},{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"通话记录",content:"网络拜访客户需要200用户",time:"2018-11-26 16:15:57",id:"841235569",record:"",download:""}],log:[{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"联系人",content:"信息更新",time:"2018-11-26 16:15:57"},{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"意向等级",content:"修改为  无人接听   D级",time:"2018-11-26 16:15:57"}]},contactAddForm:{sex:1,contact:"",tel:"",phone:[{value:"",key:0,rules:{required:!0,validator:t,trigger:"blur"}}],email:"",wechat:"",qq:"",dep:"",posi:"",role:""},contactddRules:{sex:[],contact:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],tel:[{validator:e,trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],wechat:[{validator:i,trigger:"blur"}],qq:[{validator:a,trigger:"blur"}],dep:[{message:"请输入联系人部门",trigger:"blur"}],posi:[{message:"请输入联系人职位",trigger:"blur"}],role:[{required:!0,message:"请选择联系人角色",trigger:"change"}]},inputTagVisible:!1,inputTagValue:"",dynamicVal:{text:"",radio:1},dialBasicState:"show",dialBasicData:{company:"北京海硅信息技术有限公司",phone:"18211103898",wechat:"18211103898",qq:"18211103898",email:"18211103898@qq.com",ps:"18211103898",follow:"18211103898"},dialBasicForm:{company:"",phone:"",wechat:"",qq:"",email:"",ps:"",follow:""},dialBasicRules:{company:[{required:!0,message:"请输入客户名称",trigger:"blur"}],phone:[{required:!0,validator:t,trigger:"blur"}],wechat:[{validator:i,trigger:"blur"}],qq:[{validator:a,trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},sliderContactState:"show",contacVisible:!1,sliderContactData:{id:1,contact:"shay",company:"北京海硅信息技术有限公司",sex:1,posi:"员工",depa:"技术部",role:1,state:1,tel:"010-88527628",phone:[{value:"18211103898",key:0,rules:{required:!0,validator:t,trigger:"blur"}},{value:"18311392166",key:1,rules:{required:!0,validator:t,trigger:"blur"}}],email:"18211103898@qq.com",wechat:"18211103898",qq:"18211103898",address:"北京市海淀区永定路",zipcode:"100039"},sliderContactForm:{contact:"",sex:1,posi:"",depa:"",role:1,state:1,tel:"",phone:[],email:"",wechat:"",qq:"",address:"",zipcode:""},sliderContactRules:{contact:[{required:!0,message:"请输入姓名",trigger:"blur"}],tel:[{validator:e,trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],wechat:[{validator:i,trigger:"blur"}],qq:[{validator:a,trigger:"blur"}]},dialSliderRecord:{id:"843758264",audio:{url:"../../../static/image/radio.mp3",preload:""},download:""},callChat:[{type:1,content:"您好，我这边是慧之声软件服务中心，您这边对财务软件，仓库进销存软件，办公软件等有需要吗？",time:"12:12:12"},{type:2,content:"不需要",time:"12:12:12"},{type:3,mate:"否定语境",keyword:"不需要"},{type:1,content:"再见",time:"12:12:12"}],showAsiderMask:!1,showSendAITask:!1,showSendMessage:!1,showSendEmail:!1,showTransferModal:!1,showSliderConfirmSea:!1,showSliderConfirmDownload:!1,showSliderOverlay:!1,showAddTag:!1,asiderAITaskForm:{task:""},asiderAITaskRules:{task:[{required:!0,message:"请选择AI外呼任务",trigger:"change"}]},asiderMessageForm:{message:""},asiderMessageRules:{message:[{required:!0,message:"请选择短信模板",trigger:"change"}]},asiderEmailForm:{email:""},asiderEmailRules:{email:[{required:!0,message:"请选择邮件模板",trigger:"change"}]},transferModalForm:{tab:"third",checkId:[],checkNode:""},addTagData:[{id:1,checked:!1,type:"system",name:"意向",color:"#F56C6C"},{id:2,checked:!1,type:"system",name:"目标客户",color:"#FFA700"},{id:3,checked:!1,type:"custom",name:"网站",color:"#67C23A"},{id:4,checked:!1,type:"custom",name:"邮箱客户",color:"#C71585"}],showSliderRemindModal:!1,setSliderRemind:{type:"set",companyText:"",companyId:[],remindDate:"",remindContent:"",remindClass:"",remindRangeKey:[],remindRangeNode:[]}}},watch:{visible:function(e){this.showSliderDial=e,this.showSliderRight=e,e&&this.renderSlider()},sliderObj:function(e){this.clickSliderData=e}},computed:{callPhone:{get:function(){return this.$store.getters.callPhone},set:function(e){this.$store.getters.callPhone=e}}},filters:{filterSex:function(e){return 1===e?"男":"女"},filterRole:function(e,t){for(var a="",i=0;i<t.length;i++)e===t[i].value&&(a=t[i].label);return a},filterRoleState:function(e,t){for(var a="",i=0;i<t.length;i++)e===t[i].value&&(a=t[i].label);return a},filtersLevel:function(e,t){for(var a="",i=0;i<t.length;i++)e===t[i].value&&(a=t[i].label);return a}},methods:{renderSlider:function(){var e=function(e,t,a){if(""===t)a(new Error("请输入手机号"));else{/^[1][3,4,5,6,7,8][0-9]{9}$/.test(t)?a():a(new Error("请输入正确的手机号"))}};this.dialSliderData={company:"北京海硅信息技术有限公司",contacts:[{id:1,contact:"shay",company:"北京海硅信息技术有限公司",sex:1,posi:"员工",depa:"技术部",role:1,state:1,tel:"010-88527628",phone:[{value:"18211103898",key:0,rules:{required:!0,validator:e,trigger:"blur"}},{value:"18311392166",key:1,rules:{required:!0,validator:e,trigger:"blur"}}],email:"18211103898@qq.com",wechat:"18211103898",qq:"18211103898",address:"北京市海淀区永定路",zipcode:"100039"},{id:2,contact:"刘欣雨",company:"北京海硅信息技术有限公司",sex:2,posi:"员工",depa:"技术部",role:1,state:2,tel:"010-88258852",phone:[{value:"18211103898",key:0,rules:{required:!0,validator:e,trigger:"blur"}},{value:"18311392166",key:1,rules:{required:!0,validator:e,trigger:"blur"}}],email:"18211103898@qq.com",wechat:"18211103898",qq:"18211103898",address:"北京市海淀区永定路",zipcode:"100039"},{id:3,contact:"张三",company:"北京海硅信息技术有限公司",sex:2,posi:"员工",depa:"客服部",role:2,state:2,tel:"010-000000",phone:[{value:"18211103898",key:0,rules:{required:!0,validator:e,trigger:"blur"}},{value:"18311392166",key:1,rules:{required:!0,validator:e,trigger:"blur"}}],email:"18211103898@qq.com",wechat:"18211103898",qq:"18211103898",address:"北京市海淀区永定路",zipcode:"100039"}],clientLevel:1,tag:[],isShare:1,clientState:3,dynamicTotal:3,uploadTime:"4小时",dynamicList:[{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"跟进记录",content:"网络拜访客户需要200用户",time:"2018-11-26 16:15:57",id:"841235510",record:"",download:""},{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"通话记录",content:"网络拜访客户需要200用户",time:"2018-11-26 16:15:57",id:"841235569",record:"",download:""}],log:[{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"联系人",content:"信息更新",time:"2018-11-26 16:15:57"},{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"意向等级",content:"修改为  无人接听   D级",time:"2018-11-26 16:15:57"}]},this.clickContactId=this.dialSliderData.contacts[0].id},clickHiddenMask:function(){this.$emit("update:visible",!1),this.showSliderRight=!1,this.showAsiderAudio=!1},clickSliderGetCheckSea:function(){this.$emit("sendIndex",this.clickSliderData.index),this.$message.success("领取成功"),this.clickHiddenMask()},clickShowContact:function(e){var t=JSON.parse(l()(e));this.clickContactId=t.id,this.sliderContactData=t,this.showSliderRight=!0},clickAddContact:function(){this.showAddContact=!0;this.contactAddForm.phone=[{value:"",key:0,rules:{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入手机号")):/^[1][3,4,5,6,7,8][0-9]{9}$/.test(t)?a():a(new Error("请输入正确的手机号"))},trigger:"blur"}}]},addContactPhone:function(e){if(this[e].phone.length<3){this[e].phone.push({value:"",key:Date.now(),rules:{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入手机号")):/^[1][3,4,5,6,7,8][0-9]{9}$/.test(t)?a():a(new Error("请输入正确的手机号"))},trigger:"blur"}})}else this.$message.error("只能添加3个手机号")},removeContactPhone:function(e,t){var a=this[t].phone.indexOf(e);-1!==a&&this[t].phone.splice(a,1)},closeImportModal:function(e){this.showAddContact=!1,this.$refs[e].resetFields()},submitContactBtn:function(e){var t=this;this.$refs.contactAddForm.validate(function(a){if(a){var i=JSON.parse(l()(t.contactAddForm));t.dialSliderData.contacts.push(i),"one"===e?t.closeImportModal("contactAddForm"):"again"===e&&t.$refs.contactAddForm.resetFields()}})},changeClientLevel:function(){this.$message.success("修改成功")},changeClientState:function(){this.$message.success("修改成功")},delAddTag:function(e){this.dialSliderData.tag.splice(this.dialSliderData.tag.indexOf(e),1)},showAddTagInput:function(){var e=JSON.parse(l()(this.dialSliderData.tag));this.addTagData=JSON.parse(l()(this.addTagData).replace(/true/g,"false"));for(var t=0;t<e.length;t++)for(var a=0;a<this.addTagData.length;a++)e[t].id===this.addTagData[a].id&&(this.addTagData[a].checked=!0);this.showAddTag=!0},closeAddTagModal:function(){this.showAddTag=!1},tagMouseEnter:function(e){var t=event.currentTarget;-1===t.className.indexOf("checkedTag")&&(t.style.borderColor=e,t.style.color=e)},tagMouseLeave:function(){var e=event.currentTarget;-1===e.className.indexOf("checkedTag")&&(e.style.borderColor="#dcdfe6",e.style.color="#606266")},clickCheckTag:function(e){event.currentTarget.className.indexOf("checkedTag")>-1?e.checked=!1:e.checked=!0},submitAddTag:function(){var e=[];this.addTagData.forEach(function(t,a){t.checked&&e.push(t)}),0===e.length?this.$message.error("请选择标签"):(this.dialSliderData.tag=e,this.closeAddTagModal())},changedialTabs:function(){var t=event.currentTarget,a=e(t).parent().parent().find(".haigui-tabs-content>div");e(t).parent().parent().find(".haigui-tabs-nav li").removeClass("is-active"),t.className="is-active";var i=e(t).index();switch(a.css("display","none"),i){case 0:a.eq(0).css("display","block"),this.dialSliderData.dynamicList=[{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"跟进记录",content:"网络拜访客户需要200用户",time:"2018-11-26 16:15:57",id:"841235569",record:"",download:""},{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"通话记录",content:"网络拜访客户需要200用户",time:"2018-11-26 16:15:57",id:"841235569",record:"",download:""}];break;case 1:a.eq(0).css("display","block"),this.dialSliderData.dynamicList=[{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"电话记录",content:"网络拜访客户需要200用户",time:"2018-11-26 16:15:57",id:"",record:"",download:""},{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"网络记录",content:"网络拜访客户需要200用户",time:"2018-11-26 16:15:57",id:"841235569",record:"",download:""},{avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:"面访记录",content:"网络拜访客户需要200用户",time:"2018-11-26 16:15:57",id:"",record:"",download:""}];break;case 2:case 3:a.eq(i).css("display","block")}},handleSliderMoreCommand:function(e){"transfer"===e?(this.transferModalForm={tab:"third",checkId:[this.clickSliderData.id],checkNode:{}},this.showTransferModal=!0):"sea"===e?(this.showSliderConfirmSea=!0,this.showSliderOverlay=!0):"export"===e&&(this.showSliderConfirmDownload=!0,this.showSliderOverlay=!0)},closeTransferModal:function(){this.showTransferModal=!1},handleSliderSendMember:function(e){this.transferModalForm.checkNode=e},submitTransferModal:function(){if(this.transferModalForm.checkNode.id){this.$message.success("转移成功");this.clickSliderData.id;this.$emit("sendIndex",this.clickSliderData.index),this.clickHiddenMask(),this.closeTransferModal()}else this.$message.error("请选择转移给哪个成员")},closeSliderConfirmModal:function(){this.showSliderOverlay=!1,this.showSliderConfirmSea=!1,this.showSliderConfirmDownload=!1},sliderGoBackSea:function(){this.clickSliderData.id;this.$emit("sendIndex",this.clickSliderData.index),this.$message.success("已退回公海"),this.closeSliderConfirmModal(),this.clickHiddenMask()},sliderDownloadCustomer:function(){var e=document.createElement("a");e.download="导出客户",e.style.display="none",e.href="../../../static/image/批量导入模板.xlsx",document.body.appendChild(e),e.click(),document.body.removeChild(e),this.$message.success("导出成功"),this.closeSliderConfirmModal()},handleRecordCommand:function(e){switch(this.recordTabsId=e,e){case"all":this.recordTabsTitle="跟进记录";break;case"net":this.recordTabsTitle="网络跟进";break;case"phone":this.recordTabsTitle="电话跟进";break;case"face":this.recordTabsTitle="面访跟进"}},submitDynamic:function(){var t=JSON.parse(l()(this.dynamicVal.text));if(t.trim()){var a=void 0;1===this.dynamicVal.radio?a="网络跟进":2===this.dynamicVal.radio?a="电话跟进":3===this.dynamicVal.radio&&(a="面访跟进");var i={avatar:"../../../static/image/avatar_gray.jpg",name:"shay",state:a,content:t,time:"2018-11-26 16:15:57",id:"",record:"",download:""};e(".dialTabs li").removeClass("is-active"),e(".dialTabs li:first-child").addClass("is-active"),this.dialSliderData.dynamicList.unshift(i),this.dynamicVal.text="",this.$message.success("提交成功")}else this.$message.error("请填写跟进记录")},editDialBasic:function(){this.dialBasicState="edit",this.dialBasicForm=JSON.parse(l()(this.dialBasicData))},cancelDialBasic:function(){this.dialBasicState="show"},submitBasic:function(){var e=this;this.$refs.dialBasicForm.validate(function(t){t&&(e.dialBasicData=JSON.parse(l()(e.dialBasicForm)),e.dialBasicState="show",e.$message.success("修改成功"))})},copyPhoneText:function(e){var t=document.createElement("input");document.body.appendChild(t),t.setAttribute("value",e),t.select(),document.execCommand("copy")&&(document.execCommand("copy"),this.$message.success("复制成功")),document.body.removeChild(t)},clickDelContact:function(e){var t=this;this.dialSliderData.contacts.length>1?(this.dialSliderData.contacts.forEach(function(a,i){a.id===e&&(t.dialSliderData.contacts.splice(i,1),t.clickContactId=t.dialSliderData.contacts[0].id,t.sliderContactData=t.dialSliderData.contacts[0])}),this.$message.success("删除成功")):this.$message.error("当前只剩一个联系人，无法删除")},editDialContact:function(){this.sliderContactState="edit",this.sliderContactForm=JSON.parse(l()(this.sliderContactData))},cancelDialContact:function(){this.sliderContactState="show"},submitContact:function(){var e=this;this.$refs.sliderContactForm.validate(function(t){t&&(e.sliderContactData=JSON.parse(l()(e.sliderContactForm)),e.sliderContactState="show",e.$message.success("修改成功"))})},clickShowAudio:function(e){this.dialSliderRecord.id=e,this.showAsiderAudio=!0},downloadAudio:function(e){var t=document.createElement("a");t.download="语音",t.style.display="none",t.href="../../../static/image/radio.mp3",document.body.appendChild(t),t.click(),document.body.removeChild(t)},handleCommandPhone:function(e){if(!this.callPhone.visible){var t={visible:!0,phone:e,contact:this.dialSliderData.contacts[0].contact,company:this.dialSliderData.company};this.$store.dispatch("setCallPhoneVuex",t)}},handleCommandMessage:function(e){this.showSendMessage=!0,this.showAsiderMask=!0,this.commandPhone=e},closeAsiderMask:function(){this.showSendAITask?(this.showSendAITask=!1,this.$refs.asiderAITaskForm.resetFields()):this.showSendMessage?(this.showSendMessage=!1,this.$refs.asiderMessageForm.resetFields()):this.showSendEmail&&(this.showSendEmail=!1,this.$refs.asiderEmailForm.resetFields()),this.showAsiderMask=!1},submitAsiderAITask:function(){var e=this;this.$refs.asiderAITaskForm.validate(function(t){t&&(e.$message.success("设置成功"),e.closeAsiderMask())})},submitAsiderMessage:function(){var e=this;this.$refs.asiderMessageForm.validate(function(t){t&&(e.$message.success("短信已发送"),e.closeAsiderMask())})},submitAsiderEmail:function(){var e=this;this.$refs.asiderEmailForm.validate(function(t){t&&(e.$message.success("邮件已发送"),e.closeAsiderMask())})},clickShowSetRemind:function(){var e=[this.clickSliderData.id],t={remindDate:"2011-01-01 11:11:11",remindContent:"第一个",remindClass:"1",remindRangeKey:[11,77],remindRangeNode:[{id:11,label:"shay"},{id:77,label:"qq"}]};t.remindDate?this.setSliderRemind={type:"edit",companyId:e,companyText:this.dialSliderData.company,remindDate:new Date(t.remindDate),remindContent:t.remindContent,remindClass:t.remindClass,remindRangeNode:t.remindRangeNode,remindRangeKey:t.remindRangeKey}:(this.setSliderRemind.type="set",this.setSliderRemind.companyId=e,this.setSliderRemind.companyText=this.dialSliderData.company),this.showSliderRemindModal=!0}},components:{"v-confirmModal":r.a,"v-transferMemberTree":s.a,"v-CRMRemindModal":o.a}}}).call(t,a("7t+N"))},"0c2O":function(e,t,a){"use strict";var i={data:function(){return{filterText:"",treeCheckAll:!1,memberData:[{id:1,label:"北京海硅信息技术有限公司",children:[{id:4,label:"技术部",children:[{id:11,label:"shay",phone:"18211103898",role:"销售"},{id:22,label:"刘欣雨",phone:"18211103898",role:"销售"}]},{id:6,label:"技术部",children:[{id:77,label:"qq",phone:"18211103898",role:"销售"}]}]},{id:2,label:"河北海硅信息技术有限公司",children:[{id:5,label:"销售部",children:[{id:33,label:"成员1",phone:"18211103898",role:"销售"},{id:44,label:"成员2",phone:"18211103898",role:"销售"},{id:55,label:"成员3",phone:"18211103898",role:"销售"},{id:66,label:"成员4",phone:"18211103898",role:"销售"}]}]}]}},props:["showType","show","checkNode","isCheckedall"],watch:{show:function(e){e&&(this.$refs.memberFilterTree.setCheckedNodes(this.checkNode),this.filterText="",this.isCheckAll(this.checkNode))},filterText:function(e){this.$refs.memberFilterTree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},clickCheckAll:function(e){var t=[];if(e){for(var a=0;a<this.memberData.length;a++)t.push(this.memberData[a].id);this.$emit("update:isCheckedall",!0)}else t=[],this.$emit("update:isCheckedall",!1);this.$refs.memberFilterTree.setCheckedKeys(t);var i=this.$refs.memberFilterTree.getCheckedNodes();this.$emit("update:checkNode",i)},getcheckdata:function(e,t){t=this.$refs.memberFilterTree.getCheckedNodes();this.$emit("update:checkNode",t),this.isCheckAll(t)},isCheckAll:function(e){var t=0;this.treeCheckAll=!1,this.$emit("update:isCheckedall",!1);for(var a=0;a<this.memberData.length;a++)for(var i=0;i<e.length;i++)if(this.memberData[a].id===e[i].id&&++t===this.memberData.length)return this.treeCheckAll=!0,this.$emit("update:isCheckedall",!0),!1}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"memberFilterTree"},[a("el-input",{attrs:{placeholder:"输入搜索部门或成员"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),"remindRange"!==e.showType?a("p",{staticClass:"memberFilterTree-all"},[a("el-checkbox",{on:{change:e.clickCheckAll},model:{value:e.treeCheckAll,callback:function(t){e.treeCheckAll=t},expression:"treeCheckAll"}},[e._v("所有成员")])],1):e._e(),e._v(" "),a("el-tree",{ref:"memberFilterTree",attrs:{data:e.memberData,"show-checkbox":"","node-key":"id","default-expand-all":"","filter-node-method":e.filterNode,"check-on-click-node":!0,"expand-on-click-node":!1},on:{check:e.getcheckdata},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node;return t.data,a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(i.label))])])}}])})],1)},staticRenderFns:[]};var r=a("VU/8")(i,l,!1,function(e){a("Lrlg")},null,null);t.a=r.exports},"5L7M":function(e,t){},"6daL":function(e,t,a){"use strict";var i=a("mvHQ"),l=a.n(i),r={props:["renmindCheckNode","renmindCheckKey"],data:function(){return{remindRangeTreeVisible:!1,checkNode:[],remindRangeTreeNode:this.renmindCheckNode,remindRangeTreeKey:this.renmindCheckKey}},watch:{remindRangeTreeVisible:function(e){e?(this.checkNode=JSON.parse(l()(this.remindRangeTreeNode)),this.$refs.inputArrow.classList.remove("el-icon-arrow-up"),this.$refs.inputArrow.classList.add("el-icon-arrow-down")):(this.$refs.inputArrow.classList.remove("el-icon-arrow-down"),this.$refs.inputArrow.classList.add("el-icon-arrow-up"))}},methods:{selectMouseEnter:function(){this.remindRangeTreeNode.length>0&&(this.$refs.inputArrow.style.display="none")},selectMouseLeave:function(){this.$refs.inputArrow.style.display="inline-block"},clickCleanData:function(){this.remindRangeTreeVisible=!1,this.remindRangeTreeNode=[],this.remindRangeTreeKey=[],this.$emit("sendFollowerKey",[]),this.$emit("sendFollowerNode",[]),this.$refs.inputArrow.style.display="inline-block"},clickFilterMemberTreeBtn:function(){var e=this,t=JSON.parse(l()(this.checkNode));this.remindRangeTreeVisible=!1,this.remindRangeTreeNode=[],this.remindRangeTreeKey=[],t.forEach(function(t,a){void 0===t.children&&e.remindRangeTreeNode.length<=4&&(e.remindRangeTreeNode.push(t),e.remindRangeTreeKey.push(t.id))}),this.$emit("sendFollowerKey",this.remindRangeTreeKey),this.$emit("sendFollowerNode",this.remindRangeTreeNode)},delRemindRangeTag:function(e){this.remindRangeTreeNode.splice(this.remindRangeTreeNode.indexOf(e),1),this.$emit("sendFollowerKey",this.remindRangeTreeKey),this.$emit("sendFollowerNode",this.remindRangeTreeNode)}},components:{"v-memberFilterTree":a("0c2O").a}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"remindRangeTree"},[a("el-popover",{attrs:{"popper-class":"remindRangeTree-popover",placement:"top-start"},model:{value:e.remindRangeTreeVisible,callback:function(t){e.remindRangeTreeVisible=t},expression:"remindRangeTreeVisible"}},[a("div",{staticClass:"remindRangeTree-box"},[a("v-memberFilterTree",{attrs:{showType:"remindRange",show:e.remindRangeTreeVisible,"check-node":e.checkNode},on:{"update:checkNode":function(t){e.checkNode=t}}}),e._v(" "),a("div",{staticClass:"memberTree-btn"},[a("el-button",{on:{click:function(t){e.remindRangeTreeVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.clickFilterMemberTreeBtn}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"el-select el-select--small",attrs:{slot:"reference"},on:{mouseenter:e.selectMouseEnter,mouseleave:e.selectMouseLeave},slot:"reference"},[a("div",{staticClass:"el-input el-input--small el-input--suffix"},[a("div",{staticClass:"el-input__inner"},[a("span",{staticClass:"inputTag"},e._l(e.remindRangeTreeNode,function(t,i){return a("span",{key:t.id,staticClass:"el-tag el-tag--small"},[a("span",{staticClass:"el-select__tags-text"},[e._v(e._s(t.label))]),e._v(" "),a("i",{staticClass:"el-tag__close el-icon-close",on:{click:function(a){a.stopPropagation(),e.delRemindRangeTag(t)}}})])})),e._v(" "),e.remindRangeTreeNode.length<5?a("span",{staticClass:"placeholder"},[e._v("+选择同事")]):e._e()]),e._v(" "),a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[a("i",{ref:"inputArrow",staticClass:"el-select__caret el-input__icon el-icon-arrow-up"}),e._v(" "),e.remindRangeTreeNode.length>0?a("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:function(t){return t.stopPropagation(),e.clickCleanData(t)}}}):e._e()])])])])]),a("span",{staticStyle:{color:"#909399"}},[e._v("只能选取5个")])],1)},staticRenderFns:[]};var o=a("VU/8")(r,s,!1,function(e){a("NNzo")},null,null).exports,n=(a("NZyr"),{props:["visible","remindData","isFinish"],data:function(){return{isFinishState:1,showRemindModal:this.visible,setCustomerRemindForm:{companyText:"",companyId:[],remindDate:"",remindContent:"",remindClass:"",remindRangeKey:[],remindRangeNode:[]},setCustomerRemindRules:{remindDate:[{type:"date",required:!0,message:"请选择提醒时间",trigger:"change"}],remindContent:[{required:!0,message:"请输入提醒内容",trigger:"blur"}],remindClass:[{required:!0,message:"请选择提醒分组",trigger:"change"}]},remindClassOp:[{label:"分组1",value:"1"},{label:"分组2",value:"2"}]}},mounted:function(){},watch:{visible:function(e){this.showRemindModal=e,this.isFinish&&(this.isFinishState=this.isFinish);var t=this.remindData;"set"===t.type?this.setCustomerRemindForm={companyText:t.companyText,companyId:t.companyId,remindDate:"",remindContent:"",remindClass:"",remindRangeKey:[],remindRangeNode:[]}:"edit"===t.type&&(this.setCustomerRemindForm=t)}},methods:{closeCustomerTopModal:function(e){this.$emit("update:visible",!1),this.$refs[e].resetFields()},handleRemindRangeKey:function(e){this.setCustomerRemindForm.remindRangeKey=e},handleRemindRangeNode:function(e){this.setCustomerRemindForm.remindRangeNode=e},submitSetRemind:function(){var e=this;this.$refs.setCustomerRemindForm.validate(function(t){var a=JSON.parse(l()(e.setCustomerRemindForm));t&&(a.remindRangeKey.length>0?(a.remindDate=new Date(a.remindDate).getTime(),e.$emit("sendRemind",a),e.closeCustomerTopModal("setCustomerRemindForm")):e.$message.error("请选择提醒范围"))})}},components:{"v-remindRangeTree":o}}),c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{width:"500px",title:"销售提醒设置",visible:e.showRemindModal},on:{"update:visible":function(t){e.showRemindModal=t},close:function(t){e.closeCustomerTopModal("setCustomerRemindForm")}}},[a("el-form",{ref:"setCustomerRemindForm",staticClass:"scrollbar",staticStyle:{"max-height":"400px","padding-right":"15px","overflow-y":"scroll"},attrs:{model:e.setCustomerRemindForm,rules:e.setCustomerRemindRules,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"客户名称"}},[a("p",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[e._v(e._s(e.setCustomerRemindForm.companyText))])]),e._v(" "),a("el-form-item",{attrs:{label:"提醒时间",prop:"remindDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"请选择提醒时间"},model:{value:e.setCustomerRemindForm.remindDate,callback:function(t){e.$set(e.setCustomerRemindForm,"remindDate",t)},expression:"setCustomerRemindForm.remindDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"提醒内容",prop:"remindContent"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入提醒内容"},model:{value:e.setCustomerRemindForm.remindContent,callback:function(t){e.$set(e.setCustomerRemindForm,"remindContent",t)},expression:"setCustomerRemindForm.remindContent"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"min-height":"32px"},attrs:{label:"提醒分组",prop:"remindClass"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择提醒分组"},model:{value:e.setCustomerRemindForm.remindClass,callback:function(t){e.$set(e.setCustomerRemindForm,"remindClass",t)},expression:"setCustomerRemindForm.remindClass"}},e._l(e.remindClassOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"提醒范围"}},[e.showRemindModal?a("v-remindRangeTree",{attrs:{"renmind-check-node":e.setCustomerRemindForm.remindRangeNode,"renmind-check-key":e.setCustomerRemindForm.remindRangeKey},on:{"update:renmindCheckNode":function(t){e.$set(e.setCustomerRemindForm,"remindRangeNode",t)},"update:renmindCheckKey":function(t){e.$set(e.setCustomerRemindForm,"remindRangeKey",t)},sendFollowerKey:e.handleRemindRangeKey,sendFollowerNode:e.handleRemindRangeNode}}):e._e()],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.closeCustomerTopModal("setCustomerRemindForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",disabled:2===e.isFinishState},on:{click:e.submitSetRemind}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(n,c,!1,function(e){a("jv80")},null,null);t.a=d.exports},"8VoQ":function(e,t,a){"use strict";var i={data:function(){return{filterText:"",treeCheckAll:!1,memberData:[]}},props:["show","checkNode","checkShow"],mounted:function(){this.renderMember()},watch:{show:function(e){e&&(this.filterText="",this.treeCheckAll=!1,this.renderMember(),this.$refs.memberCheckboxTree.setCheckedKeys([]))},filterText:function(e){this.$refs.memberCheckboxTree.filter(e)},checkShow:function(e){this.$refs.memberCheckboxTree.setCheckedNodes(e)}},methods:{renderMember:function(){this.memberData=[{id:1,label:"北京海硅信息技术有限公司",children:[{id:4,label:"技术部",children:[{id:11,label:"shay",phone:"18211103898",role:"销售",count:null},{id:22,label:"刘欣雨",phone:"18211103898",role:"销售",count:null}]},{id:6,label:"技术部",children:[{id:77,label:"qq",phone:"18211103898",role:"销售",count:null}]}]},{id:2,label:"河北海硅信息技术有限公司",children:[{id:5,label:"销售部",children:[{id:33,label:"成员1",phone:"18211103898",role:"销售",count:null},{id:44,label:"成员2",phone:"18211103898",role:"销售",count:null},{id:55,label:"成员3",phone:"18211103898",role:"销售",count:null},{id:66,label:"成员4",phone:"18211103898",role:"销售",count:null}]}]}]},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},clickCheckAll:function(e){var t=[];if(e)for(var a=0;a<this.memberData.length;a++)t.push(this.memberData[a].id);else t=[];this.$refs.memberCheckboxTree.setCheckedKeys(t);var i=this.$refs.memberCheckboxTree.getCheckedNodes(),l=this.formatNode(i);this.$emit("update:checkNode",l)},getcheckdata:function(e,t){t=this.$refs.memberCheckboxTree.getCheckedNodes();var a=this.formatNode(t);this.$emit("update:checkNode",a),this.isCheckAll(t)},isCheckAll:function(e){var t=0;this.treeCheckAll=!1;for(var a=0;a<this.memberData.length;a++)for(var i=0;i<e.length;i++)if(this.memberData[a].id===e[i].id&&++t===this.memberData.length)return this.treeCheckAll=!0,!1},formatNode:function(e){var t=[];return e.forEach(function(e,a){void 0===e.children&&t.push(e)}),t}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"memberCheckboxTree"},[a("el-input",{attrs:{placeholder:"输入搜索部门或成员"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("p",{staticClass:"memberCheckboxTree-all"},[a("el-checkbox",{on:{change:e.clickCheckAll},model:{value:e.treeCheckAll,callback:function(t){e.treeCheckAll=t},expression:"treeCheckAll"}},[e._v("所有成员")])],1),e._v(" "),a("el-tree",{ref:"memberCheckboxTree",attrs:{data:e.memberData,"show-checkbox":"","node-key":"id","default-expand-all":"","filter-node-method":e.filterNode,"check-on-click-node":!0,"expand-on-click-node":!1},on:{check:e.getcheckdata},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node;return t.data,a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(i.label))])])}}])})],1)},staticRenderFns:[]};var r=a("VU/8")(i,l,!1,function(e){a("5L7M")},null,null);t.a=r.exports},"8rCn":function(e,t){},CVYU:function(e,t){},Cqgt:function(e,t,a){"use strict";var i=a("mvHQ"),l=a.n(i),r={data:function(){return{filterMemberTreeVisible:!1,inputText:"",isCheckedall:!1,checkNode:[],filterMemberTreeChecked:[],filterMemberTreeNode:[],filterMemberTreeKey:[]}},watch:{filterMemberTreeVisible:function(e){e?(this.checkNode=JSON.parse(l()(this.filterMemberTreeChecked)),this.$refs.inputArrow.classList.remove("el-icon-arrow-up"),this.$refs.inputArrow.classList.add("el-icon-arrow-down")):(this.$refs.inputArrow.classList.remove("el-icon-arrow-down"),this.$refs.inputArrow.classList.add("el-icon-arrow-up"))}},methods:{selectMouseEnter:function(){this.filterMemberTreeChecked.length>0&&(this.$refs.inputArrow.style.display="none")},selectMouseLeave:function(){this.$refs.inputArrow.style.display="inline-block"},clickCleanData:function(){this.filterMemberTreeVisible=!1,this.filterMemberTreeChecked=[],this.filterMemberTreeNode=[],this.filterMemberTreeKey=[],this.$emit("sendFollower",[]),this.$refs.inputArrow.style.display="inline-block"},clickFilterMemberTreeBtn:function(){var e=this;this.filterMemberTreeChecked=JSON.parse(l()(this.checkNode)),this.filterMemberTreeVisible=!1,this.filterMemberTreeNode=[],this.filterMemberTreeKey=[],this.filterMemberTreeChecked.forEach(function(t,a){void 0===t.children&&(e.filterMemberTreeNode.push(t),e.filterMemberTreeKey.push(t.id),e.isCheckedall?e.inputText="选中所有成员":e.inputText="选中"+e.filterMemberTreeKey.length+"名成员")}),this.$emit("sendFollower",this.filterMemberTreeKey)}},components:{"v-memberFilterTree":a("0c2O").a}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filterMemberTree"},[a("el-popover",{attrs:{"popper-class":"filterMemberTree-popover",placement:"top"},model:{value:e.filterMemberTreeVisible,callback:function(t){e.filterMemberTreeVisible=t},expression:"filterMemberTreeVisible"}},[a("div",{staticClass:"filterMemberTree-box"},[a("v-memberFilterTree",{attrs:{showType:"filterMember",show:e.filterMemberTreeVisible,"check-node":e.checkNode,"is-checkedall":e.isCheckedall},on:{"update:checkNode":function(t){e.checkNode=t},"update:isCheckedall":function(t){e.isCheckedall=t}}}),e._v(" "),a("div",{staticClass:"memberTree-btn"},[a("el-button",{on:{click:function(t){e.filterMemberTreeVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.clickFilterMemberTreeBtn}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"el-select el-select--small",attrs:{slot:"reference"},on:{mouseenter:e.selectMouseEnter,mouseleave:e.selectMouseLeave},slot:"reference"},[a("div",{staticClass:"el-input el-input--small el-input--suffix"},[a("div",{staticClass:"el-input__inner"},[0===e.filterMemberTreeChecked.length?a("span",{staticClass:"placeholder"},[e._v("请选择最后跟进人")]):a("span",{staticClass:"inputText"},[e._v(e._s(e.inputText))])]),e._v(" "),a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[a("i",{ref:"inputArrow",staticClass:"el-select__caret el-input__icon el-icon-arrow-up"}),e._v(" "),e.filterMemberTreeChecked.length>0?a("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:function(t){return t.stopPropagation(),e.clickCleanData(t)}}}):e._e()])])])])])],1)},staticRenderFns:[]};var o=a("VU/8")(r,s,!1,function(e){a("CVYU")},null,null);t.a=o.exports},DKRU:function(e,t){},DyVN:function(e,t,a){"use strict";var i=a("+c/5"),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CRMSlider"},[e.showSliderDial?a("div",{staticClass:"haigui-slider-mask",on:{click:e.clickHiddenMask}}):e._e(),e._v(" "),a("div",{class:[e.showSliderDial?"haigui-slider-show":"","haigui-slider-wrap dial-slider"],style:e.showSliderRight?"":"width:auto;"},[a("div",{staticClass:"haigui-slider-left"},[a("div",{staticClass:"haigui-slider-header"},[a("div",{staticClass:"haigui-slider-close"},[a("i",{staticClass:"fas fa-angle-right",on:{click:e.clickHiddenMask}})]),e._v(" "),a("span",{staticClass:"haigui-header-title"},[e._v("客户详情")]),e._v(" "),a("div",{staticClass:"haigui-side"},[a("span",{staticClass:"text-date"},[e._v("跟进人：shay")]),e._v(" "),a("div",{},[a("el-button",{staticStyle:{padding:"9px"},attrs:{icon:"el-icon-arrow-left",disabled:!1},on:{click:function(e){}}}),e._v(" "),a("el-button",{staticStyle:{padding:"9px","margin-left":"0"},attrs:{icon:"el-icon-arrow-right",disabled:!1},on:{click:function(e){}}})],1)])]),e._v(" "),a("div",{staticClass:"haigui-slider-body scrollbar"},[a("div",{staticClass:"dial-info"},[a("p",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.dialSliderData.company,placement:"top"}},[a("span",[e._v(e._s(e.dialSliderData.company))])]),e._v(" "),a("i",{staticClass:"fab fa-weixin"}),a("b",[e._v("工")])],1),e._v(" "),a("u",[e._v("联系人：")]),e._v(" "),e._l(e.dialSliderData.contacts,function(t,i){return a("el-tag",{key:t.id,staticStyle:{cursor:"pointer"},attrs:{type:e.clickContactId===t.id?"":"info","disable-transitions":!1,size:"normal"},nativeOn:{click:function(a){e.clickShowContact(t)}}},[e._v(e._s(t.contact)+"\n          ")])}),e._v(" "),"edit"===e.pageType?a("i",{staticClass:"addContactBtn",on:{click:e.clickAddContact}},[e._v("+")]):e._e(),a("br"),e._v(" "),a("u",[e._v("意向等级：")]),e._v(" "),"edit"===e.pageType?a("el-select",{staticStyle:{width:"140px"},attrs:{size:"mini"},on:{change:e.changeClientLevel},model:{value:e.dialSliderData.clientLevel,callback:function(t){e.$set(e.dialSliderData,"clientLevel",t)},expression:"dialSliderData.clientLevel"}},e._l(e.callClientOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})):a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e._f("filtersLevel")(e.dialSliderData.clientLevel,e.callClientOp)))]),e._v(" "),a("div",{staticClass:"dial-info-tag",staticStyle:{"margin-top":"10px"}},[a("u",[e._v("标签：")]),e._v(" "),e._l(e.dialSliderData.tag,function(t){return a("el-tag",{key:t.name,style:{borderColor:t.color},attrs:{color:t.color,closable:"",size:"normal","disable-transitions":!1},on:{close:function(a){e.delAddTag(t)}}},[e._v(e._s(t.name))])}),e._v(" "),"edit"===e.pageType?a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showAddTagInput}},[e._v("+添加标签")]):e._e()],2),e._v(" "),a("div",{staticClass:"dial-info-share"},["edit"===e.pageType?a("el-dropdown",{on:{command:e.handleSliderMoreCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"transfer"}},[e._v("转移给他人")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"sea"}},[e._v("退回公海")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"export"}},[e._v("导出客户")])],1)],1):a("div",{},[a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.getCheckVisible,callback:function(t){e.getCheckVisible=t},expression:"getCheckVisible"}},[a("p",[e._v("确认领取吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.getCheckVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.getCheckVisible=!1,e.clickSliderGetCheckSea()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"primary"},on:{click:function(t){e.getCheckVisible=!e.getCheckVisible}},slot:"reference"},[e._v("领取")])],1)],1)],1)],2),e._v(" "),"edit"===e.pageType?a("div",{staticClass:"dial-level"},[a("el-radio-group",{on:{change:e.changeClientState},model:{value:e.dialSliderData.clientState,callback:function(t){e.$set(e.dialSliderData,"clientState",t)},expression:"dialSliderData.clientState"}},[a("el-radio",{attrs:{label:1}},[e._v("新入库")]),a("p",{staticClass:"el-icon-arrow-right"}),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("潜在客户")]),a("p",{staticClass:"el-icon-arrow-right"}),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("意向客户")]),a("p",{staticClass:"el-icon-arrow-right"}),e._v(" "),a("el-radio",{attrs:{label:4}},[e._v("拜访")]),a("p",{staticClass:"el-icon-arrow-right"}),e._v(" "),a("el-radio",{attrs:{label:5}},[e._v("签约")]),a("p",{staticClass:"el-icon-arrow-right"}),e._v(" "),a("el-radio",{attrs:{label:6}},[e._v("成交")])],1)],1):e._e(),e._v(" "),a("div",{staticClass:"haigui-tabs dialTabs"},[a("ul",{staticClass:"haigui-tabs-nav"},[a("li",{staticClass:"is-active",on:{click:e.changedialTabs}},[e._v("全部动态")]),e._v(" "),a("li",{on:{click:e.changedialTabs}},[a("el-dropdown",{on:{command:e.handleRecordCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                  "+e._s(e.recordTabsTitle)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"all"}},[e._v("全部")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"phone"}},[e._v("电话跟进")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"net"}},[e._v("网络跟进")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"face"}},[e._v("面访跟进")])],1)],1)],1),e._v(" "),a("li",{on:{click:e.changedialTabs}},[e._v("基本资料")]),e._v(" "),a("li",{on:{click:e.changedialTabs}},[e._v("客户日志")])]),e._v(" "),a("div",{staticClass:"haigui-tabs-content"},[a("div",{staticClass:"dial-dynamic"},["edit"===e.pageType?a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"填写跟进记录"},model:{value:e.dynamicVal.text,callback:function(t){e.$set(e.dynamicVal,"text",t)},expression:"dynamicVal.text"}}):e._e(),e._v(" "),"edit"===e.pageType?a("div",{staticClass:"dial-dynamic-bottom"},[a("u",[e._v("选择跟进类型")]),e._v(" "),a("el-radio-group",{model:{value:e.dynamicVal.radio,callback:function(t){e.$set(e.dynamicVal,"radio",t)},expression:"dynamicVal.radio"}},[a("el-radio",{attrs:{label:1}},[e._v("电话跟进")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("网络跟进")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("面访跟进")])],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitDynamic}},[e._v("提交")])],1):e._e(),e._v(" "),a("div",{staticClass:"dial-dynamicList"},[a("h3",[a("b",[e._v(e._s(e.dialSliderData.dynamicTotal)+"条动态")]),e._v(" - "+e._s(e.dialSliderData.uploadTime)+"前跟进过")]),e._v(" "),a("div",{staticClass:"dial-dynamicList-wrap"},[this.dialSliderData.dynamicList.length>0?e._e():a("div",{staticClass:"haigui-empty"},[e._v("\n                    - 暂无数据 -\n                  ")]),e._v(" "),e._l(e.dialSliderData.dynamicList,function(t,i){return a("div",{staticClass:"dial-dynamicItem"},[a("div",{},[a("img",{attrs:{src:t.avatar}})]),e._v(" "),a("div",{staticClass:"dial-dynamicItem__text"},[a("h6",[e._v(e._s(t.name))]),e._v(" "),a("p",[a("b",[e._v(e._s(t.state))]),e._v(" - "+e._s(t.content))]),e._v(" "),t.id?a("div",{staticClass:"dial-dynamicItem-down"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.clickShowAudio(t.id)}}},[a("i",{staticClass:"el-icon-phone-outline"}),e._v("查看通话记录")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.downloadAudio(t.id)}}},[a("i",{staticClass:"el-icon-download"}),e._v("下载")]),a("u",[e._v("通话ID："+e._s(t.id))])],1):e._e(),e._v(" "),a("u",[e._v(e._s(t.time))])])])})],2)])],1),e._v(" "),a("div",{}),e._v(" "),a("div",{staticClass:"dial-basic",staticStyle:{"margin-left":"5px"}},["show"===e.dialBasicState?a("div",{staticClass:"dial-basicItem"},[a("p",[e._v("客户名称："+e._s(e.dialBasicData.company))]),e._v(" "),a("p",[e._v("客户手机："+e._s(e.dialBasicData.phone))]),e._v(" "),a("p",[e._v("微信："+e._s(e.dialBasicData.wechat))]),e._v(" "),a("p",[e._v("QQ："+e._s(e.dialBasicData.qq))]),e._v(" "),a("p",[e._v("邮箱："+e._s(e.dialBasicData.email))]),e._v(" "),a("p",[e._v("备注："+e._s(e.dialBasicData.ps))]),e._v(" "),a("p",[e._v("客户关注点："+e._s(e.dialBasicData.follow))])]):e._e(),e._v(" "),"edit"===e.dialBasicState?a("el-form",{ref:"dialBasicForm",attrs:{model:e.dialBasicForm,rules:e.dialBasicRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"客户名称：",prop:"company"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入客户名称"},model:{value:e.dialBasicForm.company,callback:function(t){e.$set(e.dialBasicForm,"company",t)},expression:"dialBasicForm.company"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户手机：",prop:"phone"}},[a("el-input",{attrs:{maxlength:15,placeholder:"请输入客户手机"},model:{value:e.dialBasicForm.phone,callback:function(t){e.$set(e.dialBasicForm,"phone",t)},expression:"dialBasicForm.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信：",prop:"wechat"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入微信"},model:{value:e.dialBasicForm.wechat,callback:function(t){e.$set(e.dialBasicForm,"wechat",t)},expression:"dialBasicForm.wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ：",prop:"qq"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入QQ"},model:{value:e.dialBasicForm.qq,callback:function(t){e.$set(e.dialBasicForm,"qq",t)},expression:"dialBasicForm.qq"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入邮箱"},model:{value:e.dialBasicForm.email,callback:function(t){e.$set(e.dialBasicForm,"email",t)},expression:"dialBasicForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注：",prop:"ps"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入备注"},model:{value:e.dialBasicForm.ps,callback:function(t){e.$set(e.dialBasicForm,"ps",t)},expression:"dialBasicForm.ps"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户关注点：",prop:"follow"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入客户关注点"},model:{value:e.dialBasicForm.follow,callback:function(t){e.$set(e.dialBasicForm,"follow",t)},expression:"dialBasicForm.follow"}})],1)],1):e._e(),e._v(" "),"show"===e.dialBasicState&&"edit"===e.pageType?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.editDialBasic}},[e._v("编辑")]):e._e(),e._v(" "),"edit"===e.dialBasicState?a("el-button",{attrs:{size:"small"},on:{click:e.cancelDialBasic}},[e._v("取消")]):e._e(),e._v(" "),"edit"===e.dialBasicState?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitBasic}},[e._v("保存")]):e._e()],1),e._v(" "),a("div",{staticClass:"dial-dynamic"},[a("div",{staticClass:"dial-dynamicList"},[a("div",{staticClass:"dial-dynamicList-wrap"},[this.dialSliderData.dynamicList.length>0?e._e():a("div",{staticClass:"haigui-empty"},[e._v("\n                    - 暂无数据 -\n                  ")]),e._v(" "),e._l(e.dialSliderData.log,function(t,i){return a("div",{staticClass:"dial-dynamicItem"},[a("div",{},[a("img",{attrs:{src:t.avatar}})]),e._v(" "),a("div",{staticClass:"dial-dynamicItem__text"},[a("h6",[e._v(e._s(t.name))]),e._v(" "),a("p",[a("b",[e._v(e._s(t.state))]),e._v(" - "+e._s(t.content))]),e._v(" "),a("u",[e._v(e._s(t.time))])])])})],2)])])])])])]),e._v(" "),e.showSliderRight?a("div",{staticClass:"haigui-slider-right"},[a("div",{staticClass:"haigui-slider-header"},[a("span",{staticClass:"haigui-header-title"},[e._v("联系人")]),e._v(" "),a("i",{staticClass:"el-icon-close",staticStyle:{flex:"1","text-align":"right","font-size":"20px",cursor:"pointer"},on:{click:function(t){e.showSliderRight=!1}}})]),e._v(" "),a("div",{staticClass:"haigui-slider-body scrollbar"},["edit"===e.pageType?a("div",{staticClass:"haigui-slider-body-top"},[a("el-dropdown",{on:{command:e.handleCommandPhone}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"fa fa-plus",staticStyle:{background:"#67C23A"}})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.sliderContactData.phone,function(t,i){return a("el-dropdown-item",{key:t.id,attrs:{command:t.value}},[e._v(e._s(t.value))])}))],1),e._v(" "),a("i",{staticClass:"fa fa-plus",staticStyle:{background:"#49A2FF"},on:{click:function(t){e.showSendAITask=!0,e.showAsiderMask=!0}}}),e._v(" "),a("el-dropdown",{on:{command:e.handleCommandMessage}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"fa fa-plus",staticStyle:{background:"#74849A"}})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.sliderContactData.phone,function(t,i){return a("el-dropdown-item",{key:t.id,attrs:{command:t.value}},[e._v(e._s(t.value))])}))],1),e._v(" "),a("i",{staticClass:"fa fa-plus",staticStyle:{background:"#4973FF"},on:{click:function(t){e.showSendEmail=!0,e.showAsiderMask=!0}}}),e._v(" "),a("i",{staticClass:"fa fa-plus",staticStyle:{background:"#FF9D49"},on:{click:e.clickShowSetRemind}})],1):e._e(),e._v(" "),a("div",{staticClass:"haigui-slider-body-body"},[a("div",{staticClass:"sliderRight-contact",staticStyle:{"margin-left":"5px"}},["show"===e.sliderContactState&&"edit"===e.pageType?a("div",{staticClass:"sliderContactBtn"},[a("i",{staticClass:"addContactBtn",on:{click:e.clickAddContact}},[e._v("+")]),e._v(" "),a("b",[a("i",{staticClass:"iconfont icon-compile",on:{click:function(t){return t.stopPropagation(),e.editDialContact(t)}}}),e._v(" "),a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.contacVisible,callback:function(t){e.contacVisible=t},expression:"contacVisible"}},[a("p",[e._v("确定删除此联系人吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.contacVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.contacVisible=!1,e.clickDelContact(e.sliderContactData.id)}}},[e._v("确定")])],1),e._v(" "),a("i",{staticClass:"iconfont icon-web-icon-",attrs:{slot:"reference"},on:{click:function(t){t.stopPropagation(),e.contacVisible=!e.contacVisible}},slot:"reference"})])],1)]):e._e(),e._v(" "),"show"===e.sliderContactState?a("div",{staticClass:"sliderRight-contactItem"},[a("p",[e._v("姓名："+e._s(e.sliderContactData.contact))]),e._v(" "),a("p",[e._v("性别："+e._s(e._f("filterSex")(e.sliderContactData.sex)))]),e._v(" "),a("p",[e._v("职位："+e._s(e.sliderContactData.posi))]),e._v(" "),a("p",[e._v("部门："+e._s(e.sliderContactData.depa))]),e._v(" "),a("p",[e._v("角色："+e._s(e._f("filterRole")(e.sliderContactData.role,e.roleOp)))]),e._v(" "),a("p",[e._v("状态："+e._s(e._f("filterRoleState")(e.sliderContactData.state,e.roleStateOp)))]),e._v(" "),a("p",[e._v("电话："+e._s(e.sliderContactData.tel))]),e._v(" "),e._l(e.sliderContactData.phone,function(t,i){return a("p",[e._v("手机"+e._s(i+1)+"："+e._s(t.value)),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"text"},on:{click:function(a){e.copyPhoneText(t.value)}}},[e._v("复制")])],1)}),e._v(" "),a("p",[e._v("邮箱："+e._s(e.sliderContactData.email))]),e._v(" "),a("p",[e._v("微信："+e._s(e.sliderContactData.wechat))]),e._v(" "),a("p",[e._v("QQ："+e._s(e.sliderContactData.qq))]),e._v(" "),a("p",[e._v("地址："+e._s(e.sliderContactData.address))]),e._v(" "),a("p",[e._v("邮编："+e._s(e.sliderContactData.zipcode))])],2):e._e(),e._v(" "),"edit"===e.sliderContactState?a("div",{staticClass:"sliderContactEdit"},[a("p",[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitContact}},[e._v("保存")]),e._v(" "),a("el-button",{on:{click:e.cancelDialContact}},[e._v("取消")])],1):e._e(),e._v(" "),"edit"===e.sliderContactState?a("el-form",{ref:"sliderContactForm",attrs:{model:e.sliderContactForm,rules:e.sliderContactRules,"label-width":"72px"}},[a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("el-radio-group",{model:{value:e.sliderContactForm.sex,callback:function(t){e.$set(e.sliderContactForm,"sex",t)},expression:"sliderContactForm.sex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名：",prop:"contact"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入联系人"},model:{value:e.sliderContactForm.contact,callback:function(t){e.$set(e.sliderContactForm,"contact",t)},expression:"sliderContactForm.contact"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位：",prop:"posi"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入职位"},model:{value:e.sliderContactForm.posi,callback:function(t){e.$set(e.sliderContactForm,"posi",t)},expression:"sliderContactForm.posi"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门：",prop:"depa"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入部门"},model:{value:e.sliderContactForm.depa,callback:function(t){e.$set(e.sliderContactForm,"depa",t)},expression:"sliderContactForm.depa"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色：",prop:"role"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择角色"},model:{value:e.sliderContactForm.role,callback:function(t){e.$set(e.sliderContactForm,"role",t)},expression:"sliderContactForm.role"}},e._l(e.roleOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"状态：",prop:"state"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择角色状态"},model:{value:e.sliderContactForm.state,callback:function(t){e.$set(e.sliderContactForm,"state",t)},expression:"sliderContactForm.state"}},e._l(e.roleStateOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"电话：",prop:"tel"}},[a("el-input",{attrs:{maxlength:15,placeholder:"请输入电话"},model:{value:e.sliderContactForm.tel,callback:function(t){e.$set(e.sliderContactForm,"tel",t)},expression:"sliderContactForm.tel"}})],1),e._v(" "),e._l(e.sliderContactForm.phone,function(t,i){return a("el-form-item",{key:t.key,attrs:{label:"手机"+(i+1)+"：",prop:"phone."+i+".value",rules:t.rules}},[a("el-input",{attrs:{maxlength:11,placeholder:"请输入手机号码"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e._v(" "),0===i?a("i",{staticClass:"fa fa-plus",on:{click:function(t){e.addContactPhone("sliderContactForm")}}}):e._e(),e._v(" "),0!==i?a("i",{staticClass:"far fa-trash-alt",on:{click:function(a){e.removeContactPhone(t,"sliderContactForm")}}}):e._e()],1)}),e._v(" "),a("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.sliderContactForm.email,callback:function(t){e.$set(e.sliderContactForm,"email",t)},expression:"sliderContactForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信：",prop:"wechat"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请输入微信"},model:{value:e.sliderContactForm.wechat,callback:function(t){e.$set(e.sliderContactForm,"wechat",t)},expression:"sliderContactForm.wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ：",prop:"qq"}},[a("el-input",{attrs:{maxlength:13,placeholder:"请输入QQ"},model:{value:e.sliderContactForm.qq,callback:function(t){e.$set(e.sliderContactForm,"qq",t)},expression:"sliderContactForm.qq"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.sliderContactForm.address,callback:function(t){e.$set(e.sliderContactForm,"address",t)},expression:"sliderContactForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮编",prop:"zipcode"}},[a("el-input",{attrs:{maxlength:8,placeholder:"请输入邮编"},model:{value:e.sliderContactForm.zipcode,callback:function(t){e.$set(e.sliderContactForm,"zipcode",t)},expression:"sliderContactForm.zipcode"}})],1)],2):e._e()],1)])])]):e._e()]),e._v(" "),a("el-dialog",{staticClass:"restModal",attrs:{width:"400px",title:"新建联系人",visible:e.showAddContact},on:{"update:visible":function(t){e.showAddContact=t},close:function(t){e.closeImportModal("contactAddForm")}}},[a("el-form",{ref:"contactAddForm",staticClass:"contactAddForm scrollbar",staticStyle:{"max-height":"400px","overflow-y":"scroll"},attrs:{model:e.contactAddForm,rules:e.contactddRules,"label-width":"58px"}},[a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.contactAddForm.sex,callback:function(t){e.$set(e.contactAddForm,"sex",t)},expression:"contactAddForm.sex"}},[a("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"contact"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请输入联系人姓名"},model:{value:e.contactAddForm.contact,callback:function(t){e.$set(e.contactAddForm,"contact",t)},expression:"contactAddForm.contact"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话",prop:"tel"}},[a("el-input",{attrs:{maxlength:15,placeholder:"请输入联系人电话"},model:{value:e.contactAddForm.tel,callback:function(t){e.$set(e.contactAddForm,"tel",t)},expression:"contactAddForm.tel"}})],1),e._v(" "),e._l(e.contactAddForm.phone,function(t,i){return a("el-form-item",{key:t.key,attrs:{label:"手机"+(i+1),prop:"phone."+i+".value",rules:t.rules}},[a("el-input",{attrs:{maxlength:11,placeholder:"请输入联系电话"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e._v(" "),0===i?a("i",{staticClass:"fa fa-plus",on:{click:function(t){e.addContactPhone("contactAddForm")}}}):e._e(),e._v(" "),0!==i?a("i",{staticClass:"far fa-trash-alt",on:{click:function(a){e.removeContactPhone(t,"contactAddForm")}}}):e._e()],1)}),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:11,placeholder:"请输入联系人邮箱地址"},model:{value:e.contactAddForm.email,callback:function(t){e.$set(e.contactAddForm,"email",t)},expression:"contactAddForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信",prop:"wechat"}},[a("el-input",{attrs:{maxlength:11,placeholder:"请输入微信"},model:{value:e.contactAddForm.wechat,callback:function(t){e.$set(e.contactAddForm,"wechat",t)},expression:"contactAddForm.wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[a("el-input",{attrs:{maxlength:11,placeholder:"请输入QQ"},model:{value:e.contactAddForm.qq,callback:function(t){e.$set(e.contactAddForm,"qq",t)},expression:"contactAddForm.qq"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门",prop:"dep"}},[a("el-input",{attrs:{maxlength:11,placeholder:"请输入联系人部门"},model:{value:e.contactAddForm.dep,callback:function(t){e.$set(e.contactAddForm,"dep",t)},expression:"contactAddForm.dep"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"posi"}},[a("el-input",{attrs:{maxlength:11,placeholder:"请输入联系职位"},model:{value:e.contactAddForm.posi,callback:function(t){e.$set(e.contactAddForm,"posi",t)},expression:"contactAddForm.posi"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"role"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择联系人角色"},model:{value:e.contactAddForm.role,callback:function(t){e.$set(e.contactAddForm,"role",t)},expression:"contactAddForm.role"}},e._l(e.roleOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.closeImportModal("contactAddForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitContactBtn("one")}}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitContactBtn("again")}}},[e._v("确定并新建联系人")])],1)],1),e._v(" "),e.showAsiderAudio?a("div",{staticClass:"haigui-asider-AI haigui-asider-AI-audio"},[a("div",{staticClass:"haigui-asider-AI_title"},[a("span",[e._v("通话ID："+e._s(e.dialSliderRecord.id))]),e._v(" "),a("i",{staticClass:"el-icon-close",on:{click:function(t){e.showAsiderAudio=!1}}}),e._v(" "),a("b",{on:{click:function(t){e.downloadAudio(e.dialSliderRecord.id)}}},[a("i",{staticClass:"el-icon-download"}),e._v("下载录音")])]),e._v(" "),a("div",{staticClass:"haigui-asider-AI_body scrollbar"},[e._l(e.callChat,function(t,i){return[3!==t.type?a("div",{class:[1===t.type?"":"my-chat","call-chat"]},[a("i",{class:[1===t.type?"icon-jiqiren_o":"icon-kehudongcha","iconfont"]}),e._v(" "),a("p",[2===t.type?a("i",{staticClass:"fas fa-volume-down"}):e._e(),e._v(e._s(t.content))]),e._v(" "),a("span",[e._v(e._s(t.time))])]):e._e(),e._v(" "),3===t.type?a("div",{staticClass:"call-chatPs"},[a("h6",[e._v("\n            匹配到："),a("b",[e._v("【"+e._s(t.mate)+"】")]),e._v("关键词"),a("b",[e._v("【"+e._s(t.keyword)+"】")])])]):e._e()]})],2),e._v(" "),a("div",{staticClass:"haigui-asider-AI_bottom"},[a("audio",{ref:"callAudio",staticClass:"callAudio",attrs:{src:e.dialSliderRecord.audio.url,preload:e.dialSliderRecord.audio.preload,controls:"controls"}})])]):e._e(),e._v(" "),e.showAsiderMask?a("div",{staticClass:"haigui-asider-mask",on:{click:e.closeAsiderMask}}):e._e(),e._v(" "),e.showSendAITask?a("div",{staticClass:"haigui-asider-AI haigui-asider-AI-message"},[a("div",{staticClass:"haigui-asider-AI_title"},[a("span",[e._v("AI外呼任务")]),e._v(" "),a("i",{staticClass:"el-icon-close",on:{click:e.closeAsiderMask}})]),e._v(" "),a("div",{staticClass:"haigui-asider-AI_body"},[a("el-form",{ref:"asiderAITaskForm",attrs:{model:e.asiderAITaskForm,rules:e.asiderAITaskRules,"label-width":"105px"}},[a("el-form-item",{attrs:{label:"AI外呼任务：",prop:"task"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择AI外呼任务"},model:{value:e.asiderAITaskForm.task,callback:function(t){e.$set(e.asiderAITaskForm,"task",t)},expression:"asiderAITaskForm.task"}},e._l(e.AITaskOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("div",{staticClass:"haigui-asider-AI_bottom"},[a("el-button",{on:{click:e.closeAsiderMask}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitAsiderAITask}},[e._v("确定")])],1)]):e._e(),e._v(" "),e.showSendMessage?a("div",{staticClass:"haigui-asider-AI haigui-asider-AI-message"},[a("div",{staticClass:"haigui-asider-AI_title"},[a("span",[e._v("发送短信")]),e._v(" "),a("i",{staticClass:"el-icon-close",on:{click:e.closeAsiderMask}})]),e._v(" "),a("div",{staticClass:"haigui-asider-AI_body"},[a("el-form",{ref:"asiderMessageForm",attrs:{model:e.asiderMessageForm,rules:e.asiderMessageRules,"label-width":"94px"}},[a("el-form-item",{attrs:{label:"短信模板：",prop:"message"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择短信模板"},model:{value:e.asiderMessageForm.message,callback:function(t){e.$set(e.asiderMessageForm,"message",t)},expression:"asiderMessageForm.message"}},e._l(e.messageMouldOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("div",{staticClass:"haigui-asider-AI_bottom"},[a("el-button",{on:{click:e.closeAsiderMask}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitAsiderMessage}},[e._v("确定")])],1)]):e._e(),e._v(" "),e.showSendEmail?a("div",{staticClass:"haigui-asider-AI haigui-asider-AI-message"},[a("div",{staticClass:"haigui-asider-AI_title"},[a("span",[e._v("发送邮件")]),e._v(" "),a("i",{staticClass:"el-icon-close",on:{click:e.closeAsiderMask}})]),e._v(" "),a("div",{staticClass:"haigui-asider-AI_body"},[a("el-form",{ref:"asiderEmailForm",attrs:{model:e.asiderEmailForm,rules:e.asiderEmailRules,"label-width":"94px"}},[a("el-form-item",{attrs:{label:"邮件模板：",prop:"email"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择邮件模板"},model:{value:e.asiderEmailForm.email,callback:function(t){e.$set(e.asiderEmailForm,"email",t)},expression:"asiderEmailForm.email"}},e._l(e.emailMouldOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("div",{staticClass:"haigui-asider-AI_bottom"},[a("el-button",{on:{click:e.closeAsiderMask}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitAsiderEmail}},[e._v("确定")])],1)]):e._e(),e._v(" "),a("el-dialog",{attrs:{width:"400px",title:"转移给他人",visible:e.showTransferModal},on:{"update:visible":function(t){e.showTransferModal=t},close:e.closeTransferModal}},[a("el-form",{attrs:{"label-width":"85px"}},[a("el-form-item",{staticStyle:{margin:"0"},attrs:{label:"转移给他人"}},[e.showTransferModal?a("v-transferMemberTree",{on:{sendMember:e.handleSliderSendMember}}):e._e()],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.closeTransferModal}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.submitTransferModal()}}},[e._v("确 定")])],1)],1),e._v(" "),e.showSliderConfirmSea?a("v-confirmModal",{attrs:{titleMsg:"提示",contentMsg:"确认退回至公海吗？"},on:{close:e.closeSliderConfirmModal,confirm:function(t){e.sliderGoBackSea()}}}):e._e(),e._v(" "),e.showSliderConfirmDownload?a("v-confirmModal",{attrs:{titleMsg:"提示",contentMsg:"确认导出客户吗？"},on:{close:e.closeSliderConfirmModal,confirm:e.sliderDownloadCustomer}}):e._e(),e._v(" "),e.showSliderOverlay?a("div",{staticClass:"overlay"}):e._e(),e._v(" "),a("el-dialog",{staticClass:"addTagModal",attrs:{width:"500px",title:"选择标签",visible:e.showAddTag},on:{"update:visible":function(t){e.showAddTag=t},close:e.closeAddTagModal}},[a("div",{staticClass:"scrollbar",staticStyle:{"max-height":"300px","overflow-x":"hidden","overflow-y":"scroll","padding-right":"15px"}},[a("div",{staticClass:"add-tagItem"},[a("p",[e._v("系统标签")]),e._v(" "),e._l(e.addTagData,function(t){return"system"===t.type?a("el-tag",{key:t.name,class:t.checked?"checkedTag":"",style:t.checked?"color:"+t.color+";background:"+t.color+";border-color:"+t.color+";":"",attrs:{size:"normal"},nativeOn:{mouseenter:function(a){e.tagMouseEnter(t.color)},mouseleave:function(t){return e.tagMouseLeave(t)},click:function(a){e.clickCheckTag(t)}}},[e._v(e._s(t.name))]):e._e()})],2),e._v(" "),a("div",{staticClass:"add-tagItem",staticStyle:{"border-bottom":"none"}},[a("p",[e._v("自定义标签")]),e._v(" "),e._l(e.addTagData,function(t){return"custom"===t.type?a("el-tag",{key:t.name,class:t.checked?"checkedTag":"",style:t.checked?"color:"+t.color+";background:"+t.color+";border-color:"+t.color+";":"",attrs:{size:"normal"},nativeOn:{mouseenter:function(a){e.tagMouseEnter(t.color)},mouseleave:function(t){return e.tagMouseLeave(t)},click:function(a){e.clickCheckTag(t)}}},[e._v(e._s(t.name))]):e._e()})],2)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeAddTagModal}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitAddTag}},[e._v("确 定")])],1)]),e._v(" "),a("v-CRMRemindModal",{attrs:{visible:e.showSliderRemindModal,remindData:e.setSliderRemind},on:{"update:visible":function(t){e.showSliderRemindModal=t},"update:remindData":function(t){e.setSliderRemind=t}}})],1)},staticRenderFns:[]};var r=function(e){a("XaKb")},s=a("VU/8")(i.a,l,!1,r,null,null);t.a=s.exports},Lokx:function(e,t,a){var i,l;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(r){"use strict";void 0===(l="function"==typeof(i=r)?i.call(t,a,t,e):i)||(e.exports=l)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,a,i,l,r,s,o,n,c,d,u,m,h,p,v,f,g,b,C,_,k={},y=/\s+/g,w=/left|right|inline/,T="Sortable"+(new Date).getTime(),x=window,F=x.document,D=x.parseInt,S=x.setTimeout,M=x.jQuery||x.Zepto,A=x.Polymer,R=!1,$="draggable"in F.createElement("div"),N=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((_=F.createElement("x")).style.cssText="pointer-events:auto","auto"===_.style.pointerEvents),I=!1,q=Math.abs,O=Math.min,E=[],B=[],L=ie(function(e,t,a){if(a&&t.scroll){var i,l,r,s,d,u,m=a[T],h=t.scrollSensitivity,p=t.scrollSpeed,v=e.clientX,f=e.clientY,g=window.innerWidth,b=window.innerHeight;if(n!==a&&(o=t.scroll,n=a,c=t.scrollFn,!0===o)){o=a;do{if(o.offsetWidth<o.scrollWidth||o.offsetHeight<o.scrollHeight)break}while(o=o.parentNode)}o&&(i=o,l=o.getBoundingClientRect(),r=(q(l.right-v)<=h)-(q(l.left-v)<=h),s=(q(l.bottom-f)<=h)-(q(l.top-f)<=h)),r||s||(s=(b-f<=h)-(f<=h),((r=(g-v<=h)-(v<=h))||s)&&(i=x)),k.vx===r&&k.vy===s&&k.el===i||(k.el=i,k.vx=r,k.vy=s,clearInterval(k.pid),i&&(k.pid=setInterval(function(){if(u=s?s*p:0,d=r?r*p:0,"function"==typeof c)return c.call(m,d,u,e);i===x?x.scrollTo(x.pageXOffset+d,x.pageYOffset+u):(i.scrollTop+=u,i.scrollLeft+=d)},24)))}},30),V=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=a.name),"function"==typeof e?e:function(a,i){var l=i.options.group.name;return t?e:e&&(e.join?e.indexOf(l)>-1:l==e)}}var a={},i=e.group;i&&"object"==typeof i||(i={name:i}),a.name=i.name,a.checkPull=t(i.pull,!0),a.checkPut=t(i.put),a.revertClone=i.revertClone,e.group=a};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){R={capture:!1,passive:!1}}}))}catch(e){}function P(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=le({},t),e[T]=this;var a={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==P.supportPointer};for(var i in a)!(i in t)&&(t[i]=a[i]);for(var l in V(t),this)"_"===l.charAt(0)&&"function"==typeof this[l]&&(this[l]=this[l].bind(this));this.nativeDraggable=!t.forceFallback&&$,U(e,"mousedown",this._onTapStart),U(e,"touchstart",this._onTapStart),t.supportPointer&&U(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(U(e,"dragover",this),U(e,"dragenter",this)),B.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function z(t,a){"clone"!==t.lastPullMode&&(a=!0),i&&i.state!==a&&(Y(i,"display",a?"none":""),a||i.state&&(t.options.group.revertClone?(l.insertBefore(i,r),t._animate(e,i)):l.insertBefore(i,e)),i.state=a)}function K(e,t,a){if(e){a=a||F;do{if(">*"===t&&e.parentNode===a||ae(e,t))return e}while(e=j(e))}return null}function j(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function U(e,t,a){e.addEventListener(t,a,R)}function X(e,t,a){e.removeEventListener(t,a,R)}function Q(e,t,a){if(e)if(e.classList)e.classList[a?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(y," ").replace(" "+t+" "," ");e.className=(i+(a?" "+t:"")).replace(y," ")}}function Y(e,t,a){var i=e&&e.style;if(i){if(void 0===a)return F.defaultView&&F.defaultView.getComputedStyle?a=F.defaultView.getComputedStyle(e,""):e.currentStyle&&(a=e.currentStyle),void 0===t?a:a[t];t in i||(t="-webkit-"+t),i[t]=a+("string"==typeof a?"":"px")}}function J(e,t,a){if(e){var i=e.getElementsByTagName(t),l=0,r=i.length;if(a)for(;l<r;l++)a(i[l],l);return i}return[]}function H(e,t,a,l,r,s,o,n){e=e||t[T];var c=F.createEvent("Event"),d=e.options,u="on"+a.charAt(0).toUpperCase()+a.substr(1);c.initEvent(a,!0,!0),c.to=r||t,c.from=s||t,c.item=l||t,c.clone=i,c.oldIndex=o,c.newIndex=n,t.dispatchEvent(c),d[u]&&d[u].call(e,c)}function G(e,t,a,i,l,r,s,o){var n,c,d=e[T],u=d.options.onMove;return(n=F.createEvent("Event")).initEvent("move",!0,!0),n.to=t,n.from=e,n.dragged=a,n.draggedRect=i,n.related=l||t,n.relatedRect=r||t.getBoundingClientRect(),n.willInsertAfter=o,e.dispatchEvent(n),u&&(c=u.call(d,n,s)),c}function W(e){e.draggable=!1}function Z(){I=!1}function ee(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,a=t.length,i=0;a--;)i+=t.charCodeAt(a);return i.toString(36)}function te(e,t){var a=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!ae(e,t)||a++;return a}function ae(e,t){if(e){var a=(t=t.split(".")).shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==a&&e.nodeName.toUpperCase()!=a||t.length&&((" "+e.className+" ").match(i)||[]).length!=t.length)}return!1}function ie(e,t){var a,i;return function(){void 0===a&&(a=arguments,i=this,S(function(){1===a.length?e.call(i,a[0]):e.apply(i,a),a=void 0},t))}}function le(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function re(e){return A&&A.dom?A.dom(e).cloneNode(!0):M?M(e).clone(!0)[0]:e.cloneNode(!0)}function se(e){return S(e,0)}function oe(e){return clearTimeout(e)}return P.prototype={constructor:P,_onTapStart:function(t){var a,i=this,l=this.el,r=this.options,o=r.preventOnFilter,n=t.type,c=t.touches&&t.touches[0],d=(c||t).target,u=t.target.shadowRoot&&t.path&&t.path[0]||d,m=r.filter;if(function(e){var t=e.getElementsByTagName("input"),a=t.length;for(;a--;){var i=t[a];i.checked&&E.push(i)}}(l),!e&&!(/mousedown|pointerdown/.test(n)&&0!==t.button||r.disabled)&&!u.isContentEditable&&(d=K(d,r.draggable,l))&&s!==d){if(a=te(d,r.draggable),"function"==typeof m){if(m.call(this,t,d,this))return H(i,u,"filter",d,l,l,a),void(o&&t.preventDefault())}else if(m&&(m=m.split(",").some(function(e){if(e=K(u,e.trim(),l))return H(i,e,"filter",d,l,l,a),!0})))return void(o&&t.preventDefault());r.handle&&!K(u,r.handle,l)||this._prepareDragStart(t,c,d,a)}},_prepareDragStart:function(a,i,o,n){var c,d=this,u=d.el,m=d.options,p=u.ownerDocument;o&&!e&&o.parentNode===u&&(g=a,l=u,t=(e=o).parentNode,r=e.nextSibling,s=o,v=m.group,h=n,this._lastX=(i||a).clientX,this._lastY=(i||a).clientY,e.style["will-change"]="all",c=function(){d._disableDelayedDrag(),e.draggable=d.nativeDraggable,Q(e,m.chosenClass,!0),d._triggerDragStart(a,i),H(d,l,"choose",e,l,l,h)},m.ignore.split(",").forEach(function(t){J(e,t.trim(),W)}),U(p,"mouseup",d._onDrop),U(p,"touchend",d._onDrop),U(p,"touchcancel",d._onDrop),U(p,"selectstart",d),m.supportPointer&&U(p,"pointercancel",d._onDrop),m.delay?(U(p,"mouseup",d._disableDelayedDrag),U(p,"touchend",d._disableDelayedDrag),U(p,"touchcancel",d._disableDelayedDrag),U(p,"mousemove",d._disableDelayedDrag),U(p,"touchmove",d._disableDelayedDrag),m.supportPointer&&U(p,"pointermove",d._disableDelayedDrag),d._dragStartTimer=S(c,m.delay)):c())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),X(e,"mouseup",this._disableDelayedDrag),X(e,"touchend",this._disableDelayedDrag),X(e,"touchcancel",this._disableDelayedDrag),X(e,"mousemove",this._disableDelayedDrag),X(e,"touchmove",this._disableDelayedDrag),X(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,a){(a=a||("touch"==t.pointerType?t:null))?(g={target:e,clientX:a.clientX,clientY:a.clientY},this._onDragStart(g,"touch")):this.nativeDraggable?(U(e,"dragend",this),U(l,"dragstart",this._onDragStart)):this._onDragStart(g,!0);try{F.selection?se(function(){F.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(l&&e){var t=this.options;Q(e,t.ghostClass,!0),Q(e,t.dragClass,!1),P.active=this,H(this,l,"start",e,l,l,h)}else this._nulling()},_emulateDragOver:function(){if(b){if(this._lastX===b.clientX&&this._lastY===b.clientY)return;this._lastX=b.clientX,this._lastY=b.clientY,N||Y(a,"display","none");var e=F.elementFromPoint(b.clientX,b.clientY),t=e,i=B.length;if(e&&e.shadowRoot&&(t=e=e.shadowRoot.elementFromPoint(b.clientX,b.clientY)),t)do{if(t[T]){for(;i--;)B[i]({clientX:b.clientX,clientY:b.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);N||Y(a,"display","")}},_onTouchMove:function(e){if(g){var t=this.options,i=t.fallbackTolerance,l=t.fallbackOffset,r=e.touches?e.touches[0]:e,s=r.clientX-g.clientX+l.x,o=r.clientY-g.clientY+l.y,n=e.touches?"translate3d("+s+"px,"+o+"px,0)":"translate("+s+"px,"+o+"px)";if(!P.active){if(i&&O(q(r.clientX-this._lastX),q(r.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),C=!0,b=r,Y(a,"webkitTransform",n),Y(a,"mozTransform",n),Y(a,"msTransform",n),Y(a,"transform",n),e.preventDefault()}},_appendGhost:function(){if(!a){var t,i=e.getBoundingClientRect(),r=Y(e),s=this.options;Q(a=e.cloneNode(!0),s.ghostClass,!1),Q(a,s.fallbackClass,!0),Q(a,s.dragClass,!0),Y(a,"top",i.top-D(r.marginTop,10)),Y(a,"left",i.left-D(r.marginLeft,10)),Y(a,"width",i.width),Y(a,"height",i.height),Y(a,"opacity","0.8"),Y(a,"position","fixed"),Y(a,"zIndex","100000"),Y(a,"pointerEvents","none"),s.fallbackOnBody&&F.body.appendChild(a)||l.appendChild(a),t=a.getBoundingClientRect(),Y(a,"width",2*i.width-t.width),Y(a,"height",2*i.height-t.height)}},_onDragStart:function(t,a){var r=this,s=t.dataTransfer,o=r.options;r._offUpEvents(),v.checkPull(r,r,e,t)&&((i=re(e)).draggable=!1,i.style["will-change"]="",Y(i,"display","none"),Q(i,r.options.chosenClass,!1),r._cloneId=se(function(){l.insertBefore(i,e),H(r,l,"clone",e)})),Q(e,o.dragClass,!0),a?("touch"===a?(U(F,"touchmove",r._onTouchMove),U(F,"touchend",r._onDrop),U(F,"touchcancel",r._onDrop),o.supportPointer&&(U(F,"pointermove",r._onTouchMove),U(F,"pointerup",r._onDrop))):(U(F,"mousemove",r._onTouchMove),U(F,"mouseup",r._onDrop)),r._loopId=setInterval(r._emulateDragOver,50)):(s&&(s.effectAllowed="move",o.setData&&o.setData.call(r,s,e)),U(F,"drop",r),r._dragStartId=se(r._dragStarted))},_onDragOver:function(s){var o,n,c,h,p=this.el,g=this.options,b=g.group,_=P.active,k=v===b,y=!1,x=g.sort;if(void 0!==s.preventDefault&&(s.preventDefault(),!g.dragoverBubble&&s.stopPropagation()),!e.animated&&(C=!0,_&&!g.disabled&&(k?x||(h=!l.contains(e)):f===this||(_.lastPullMode=v.checkPull(this,_,e,s))&&b.checkPut(this,_,e,s))&&(void 0===s.rootEl||s.rootEl===this.el))){if(L(s,g,this.el),I)return;if(o=K(s.target,g.draggable,p),n=e.getBoundingClientRect(),f!==this&&(f=this,y=!0),h)return z(_,!0),t=l,void(i||r?l.insertBefore(e,i||r):x||l.appendChild(e));if(0===p.children.length||p.children[0]===a||p===s.target&&function(e,t){var a=e.lastElementChild.getBoundingClientRect();return t.clientY-(a.top+a.height)>5||t.clientX-(a.left+a.width)>5}(p,s)){if(0!==p.children.length&&p.children[0]!==a&&p===s.target&&(o=p.lastElementChild),o){if(o.animated)return;c=o.getBoundingClientRect()}z(_,k),!1!==G(l,p,e,n,o,c,s)&&(e.contains(p)||(p.appendChild(e),t=p),this._animate(n,e),o&&this._animate(c,o))}else if(o&&!o.animated&&o!==e&&void 0!==o.parentNode[T]){d!==o&&(d=o,u=Y(o),m=Y(o.parentNode));var F=(c=o.getBoundingClientRect()).right-c.left,D=c.bottom-c.top,M=w.test(u.cssFloat+u.display)||"flex"==m.display&&0===m["flex-direction"].indexOf("row"),A=o.offsetWidth>e.offsetWidth,R=o.offsetHeight>e.offsetHeight,$=(M?(s.clientX-c.left)/F:(s.clientY-c.top)/D)>.5,N=o.nextElementSibling,q=!1;if(M){var O=e.offsetTop,E=o.offsetTop;q=O===E?o.previousElementSibling===e&&!A||$&&A:o.previousElementSibling===e||e.previousElementSibling===o?(s.clientY-c.top)/D>.5:E>O}else y||(q=N!==e&&!R||$&&R);var B=G(l,p,e,n,o,c,s,q);!1!==B&&(1!==B&&-1!==B||(q=1===B),I=!0,S(Z,30),z(_,k),e.contains(p)||(q&&!N?p.appendChild(e):o.parentNode.insertBefore(e,q?N:o)),t=e.parentNode,this._animate(n,e),this._animate(c,o))}}},_animate:function(e,t){var a=this.options.animation;if(a){var i=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),Y(t,"transition","none"),Y(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,Y(t,"transition","all "+a+"ms"),Y(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=S(function(){Y(t,"transition",""),Y(t,"transform",""),t.animated=!1},a)}},_offUpEvents:function(){var e=this.el.ownerDocument;X(F,"touchmove",this._onTouchMove),X(F,"pointermove",this._onTouchMove),X(e,"mouseup",this._onDrop),X(e,"touchend",this._onDrop),X(e,"pointerup",this._onDrop),X(e,"touchcancel",this._onDrop),X(e,"pointercancel",this._onDrop),X(e,"selectstart",this)},_onDrop:function(s){var o=this.el,n=this.options;clearInterval(this._loopId),clearInterval(k.pid),clearTimeout(this._dragStartTimer),oe(this._cloneId),oe(this._dragStartId),X(F,"mouseover",this),X(F,"mousemove",this._onTouchMove),this.nativeDraggable&&(X(F,"drop",this),X(o,"dragstart",this._onDragStart)),this._offUpEvents(),s&&(C&&(s.preventDefault(),!n.dropBubble&&s.stopPropagation()),a&&a.parentNode&&a.parentNode.removeChild(a),l!==t&&"clone"===P.active.lastPullMode||i&&i.parentNode&&i.parentNode.removeChild(i),e&&(this.nativeDraggable&&X(e,"dragend",this),W(e),e.style["will-change"]="",Q(e,this.options.ghostClass,!1),Q(e,this.options.chosenClass,!1),H(this,l,"unchoose",e,t,l,h),l!==t?(p=te(e,n.draggable))>=0&&(H(null,t,"add",e,t,l,h,p),H(this,l,"remove",e,t,l,h,p),H(null,t,"sort",e,t,l,h,p),H(this,l,"sort",e,t,l,h,p)):e.nextSibling!==r&&(p=te(e,n.draggable))>=0&&(H(this,l,"update",e,t,l,h,p),H(this,l,"sort",e,t,l,h,p)),P.active&&(null!=p&&-1!==p||(p=h),H(this,l,"end",e,t,l,h,p),this.save()))),this._nulling()},_nulling:function(){l=e=t=a=r=i=s=o=n=g=b=C=p=d=u=f=v=P.active=null,E.forEach(function(e){e.checked=!0}),E.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],a=this.el.children,i=0,l=a.length,r=this.options;i<l;i++)K(e=a[i],r.draggable,this.el)&&t.push(e.getAttribute(r.dataIdAttr)||ee(e));return t},sort:function(e){var t={},a=this.el;this.toArray().forEach(function(e,i){var l=a.children[i];K(l,this.options.draggable,a)&&(t[e]=l)},this),e.forEach(function(e){t[e]&&(a.removeChild(t[e]),a.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return K(e,t||this.options.draggable,this.el)},option:function(e,t){var a=this.options;if(void 0===t)return a[e];a[e]=t,"group"===e&&V(a)},destroy:function(){var e=this.el;e[T]=null,X(e,"mousedown",this._onTapStart),X(e,"touchstart",this._onTapStart),X(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(X(e,"dragover",this),X(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),B.splice(B.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},U(F,"touchmove",function(e){P.active&&e.preventDefault()}),P.utils={on:U,off:X,css:Y,find:J,is:function(e,t){return!!K(e,t,e)},extend:le,throttle:ie,closest:K,toggleClass:Q,clone:re,index:te,nextTick:se,cancelNextTick:oe},P.create=function(e,t){return new P(e,t)},P.version="1.7.0",P})},Lrlg:function(e,t){},NNzo:function(e,t){},XaKb:function(e,t){},gEXf:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"haigui-modal__wrapper"},[a("div",{ref:"confirmModalBox",staticClass:"haigui-modal",attrs:{id:"confirmModal-box"}},[a("div",{staticClass:"haigui-modal-title"},[a("p",[e._v(e._s(e.titleMsg))]),e._v(" "),a("i",{staticClass:"el-dialog__close el-icon el-icon-close",on:{click:function(t){e.$emit("close")}}})]),e._v(" "),a("div",{staticClass:"haigui-modal-content"},[e._v("\n      "+e._s(e.contentMsg)+"\n    ")]),e._v(" "),a("div",{staticClass:"haigui-modal-btn"},[a("el-button",{on:{click:function(t){e.$emit("close")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$emit("confirm")}}},[e._v("确定")])],1)])])},staticRenderFns:[]};var l=a("VU/8")({props:["titleMsg","contentMsg"],data:function(){return{}}},i,!1,function(e){a("ig8P")},null,null);t.a=l.exports},ig8P:function(e,t){},jv80:function(e,t){},mgRl:function(e,t,a){"use strict";(function(e){var i=a("mvHQ"),l=a.n(i),r=a("Cqgt");t.a={props:["page"],data:function(){return{showComplexCustomer:!1,showAddCustomer:!1,customerTopSearch:{select:"",input:""},topSelectOp:[{label:"姓名",value:"1"},{label:"公司",value:"2"},{label:"手机",value:"3"},{label:"电话",value:"4"},{label:"邮箱",value:"5"},{label:"备注",value:"6"}],complexCustomerForm:{complexFile:[]},complexCustomerRules:{},addCustomerForm:{company:"",source:"",industry:"",web:"",address:"",contacts:"",phone:"",role:""},addCustomerRules:{company:[{required:!0,message:"请输入客户名称",trigger:"blur"}],source:[{required:!0,message:"请选择客户来源",trigger:"change"}],industry:[{required:!0,message:"请选择所属行业",trigger:"change"}],web:[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入网址")):/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/.test(t)?a():a(new Error("请输入正确的网址"))},trigger:"blur"}],address:[{required:!0,message:"请输入公司地址",trigger:"blur"}],contacts:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],phone:[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入手机号")):/^[1][3,4,5,6,7,8][0-9]{9}$/.test(t)?a():a(new Error("请输入正确的手机号"))},trigger:"blur"}],role:[{required:!0,message:"请选择联系人角色",trigger:"change"}]},topSourceOp:[{label:"来源1",value:"1"},{label:"来源2",value:"2"}],topIndustryOp:[{label:"行业1",value:"1"},{label:"行业2",value:"2"}],topRoleOp:[{label:"姓名1",value:"1"},{label:"姓名2",value:"2"}],showFilterTag:!1,isFilterFold:!0,filterStageIndeterminate:!1,filterLevelIndeterminate:!1,filterStateIndeterminate:!1,filterCustomerData:{stageCheckAll:!1,stageChecked:[],levelCheckAll:!1,levelChecked:[],tag:{tagState:2,tags:[]},stateCheckAll:!1,stateChecked:[],updateType:"更新动态时间",updateTime:"1",updateDate:null,AITask:"",allotDate:null,secs1:0,secs2:0,finalFollower:[],follower:[],backSeaDate:null,backSeaType:"",followTime:"1",followDate:null},filterTagForm:{tagState:2,tag:[]},filterTagData:[{id:1,checked:!1,type:"system",name:"意向",color:"#F56C6C"},{id:2,checked:!1,type:"system",name:"目标客户",color:"#FFA700"},{id:3,checked:!1,type:"custom",name:"网站",color:"#67C23A"},{id:4,checked:!1,type:"custom",name:"邮箱客户",color:"#C71585"}],filterStageOp:[{label:"新入库",value:"1"},{label:"AI初访",value:"2"},{label:"人工初访",value:"3"},{label:"意向",value:"4"},{label:"报价",value:"5"},{label:"成交",value:"6"}],filterLevelOp:[{value:1,label:"A级(有明确意向)"},{value:2,label:"B级(可能有意向)"},{value:3,label:"C级(明确拒绝)"},{value:4,label:"D级(用户忙)"},{value:5,label:"E级(拨打失败)"},{value:6,label:"F级(无效客户)"}],filterStateOp:[{label:"已接通",value:"1"},{label:"无人接听",value:"2"},{label:"停机",value:"3"},{label:"空号",value:"4"},{label:"占线",value:"5"},{label:"关机",value:"6"},{label:"拒接",value:"7"},{label:"无法接通",value:"8"},{label:"外呼失败",value:"9"}],filterAITaskOp:[{label:"任务1",value:"1"},{label:"任务2",value:"2"}],filterBackSeaOp:[{label:"类型1",value:"1"},{label:"类型2",value:"2"}],filterEmailOp:[{label:"邮件1",value:"1"},{label:"邮件2",value:"2"}],filterMessageOp:[{label:"短信1",value:"1"},{label:"短信2",value:"2"}]}},watch:{"filterCustomerData.updateDate":function(e){e?this.filterCustomerData.updateTime="":e||""!==this.filterCustomerData.updateTime||(this.filterCustomerData.updateTime="1")},"filterCustomerData.followDate":function(e){e?this.filterCustomerData.followTime="":e||""!==this.filterCustomerData.followTime||(this.filterCustomerData.followTime="1")},filterCustomerData:{handler:function(e,t){e.updateTime&&null!==e.updateDate||e.followTime&&null!==e.followDate||this.sendData()},immediate:!1,deep:!0}},methods:{topSearchAxios:function(){this.$message.success("search...")},clickCustomerTopSearch:function(){},clickCustomerTopClearSearch:function(){this.customerTopSearch={select:"",input:""},this.filterCustomerData={stageCheckAll:!1,stageChecked:[],levelCheckAll:!1,levelChecked:[],tag:{tagState:2,tags:[]},stateCheckAll:!1,stateChecked:[],updateType:"更新动态时间",updateTime:"1",updateDate:null,AITask:"",allotDate:null,secs1:0,secs2:0,finalFollower:[],follower:[],backSeaDate:null,backSeaType:"",followTime:"1",followDate:null},this.filterStageIndeterminate=!1,this.filterLevelIndeterminate=!1,this.filterStateIndeterminate=!1},closeCustomerTopModal:function(e){this.showComplexCustomer=!1,this.showAddCustomer=!1,this.showAIModal=!1,this.showEmailModal=!1,this.showMessageModal=!1,this.showRemindModal=!1,"setCustomerRemindForm"===e&&(this.setCustomerRemindForm={companyId:"",companyText:"",remindDate:"",remindContent:"",remindClass:"",remindRangeNode:[],remindRangeKey:[]}),this.$refs[e].resetFields()},clickComplexDownload:function(){var e=document.createElement("a");e.download="批量导入模板",e.style.display="none",e.href="../../../static/image/批量导入模板.xlsx",document.body.appendChild(e),e.click(),document.body.removeChild(e)},handleComplexBefore:function(e,t){var a="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.raw.type||"application/vnd.ms-excel"===e.raw.type;return a?(t.length>1&&t.splice(0,1),a):(t.length>1?t.splice(1,1):t.splice(0,1),this.$message.warning("请上传csv或xlsx格式的文件"),!1)},submitComplexCustomerBtn:function(){var e=this;this.$refs.complexCustomerForm.validate(function(t){if(t)if(0===e.$refs.complexUploadCustomer.uploadFiles.length)e.$message.warning("请上传文件");else{JSON.parse(l()(e.complexCustomerForm));var a=new FormData,i=e.$refs.complexUploadCustomer.uploadFiles[0].raw;a.append("file",i),e.$message.success("批量导入成功"),e.closeCustomerTopModal("complexCustomerForm")}})},submitAddCustomerBtn:function(e){var t=this;this.$refs.addCustomerForm.validate(function(a){if(a){var i=JSON.parse(l()(t.addCustomerForm));"close"===e?t.closeCustomerTopModal("addCustomerForm"):"continue"===e&&t.$refs.addCustomerForm.resetFields(),t.$emit("addCustomer",i)}})},clickFilterFold:function(){this.isFilterFold=!this.isFilterFold,this.isFilterFold?e(".CRMCustomer-filter .CRMCustomer-filter-list").height(0):e(".CRMCustomer-filter .CRMCustomer-filter-list").height("auto")},sendData:function(){this.$message.success("send..."),this.$emit("sendFilter",this.filterCustomerData)},handleFilterStageCheckAll:function(e){var t=[];this.filterStageOp.forEach(function(e,a){t.push(e.value)}),this.filterCustomerData.stageChecked=e?t:[],this.filterStageIndeterminate=!1},handleFilterStageChecked:function(e){var t=e.length;this.filterCustomerData.stageCheckAll=t===this.filterStageOp.length,this.filterStageIndeterminate=t>0&&t<this.filterStageOp.length},handleFilterLevelCheckAll:function(e){var t=[];this.filterLevelOp.forEach(function(e,a){t.push(e.value)}),this.filterCustomerData.levelChecked=e?t:[],this.filterLevelIndeterminate=!1},handleFilterLevelChecked:function(e){var t=e.length;this.filterCustomerData.levelCheckAll=t===this.filterLevelOp.length,this.filterLevelIndeterminate=t>0&&t<this.filterLevelOp.length},clickShowFilterTagModal:function(){var e=JSON.parse(l()(this.filterCustomerData.tag));if(this.filterTagForm.tagState=e.tagState,this.filterTagData=JSON.parse(l()(this.filterTagData).replace(/true/g,"false")),1===e.tagState)for(var t=0;t<e.tags.length;t++)for(var a=0;a<this.filterTagData.length;a++)e.tags[t].id===this.filterTagData[a].id&&(this.filterTagData[a].checked=!0);this.showFilterTag=!0},changeTagState:function(e){this.filterTagData=JSON.parse(l()(this.filterTagData).replace(/true/g,"false"))},tagMouseEnter:function(e){var t=event.currentTarget;-1===t.className.indexOf("checkedTag")&&(t.style.borderColor=e,t.style.color=e)},tagMouseLeave:function(){var e=event.currentTarget;-1===e.className.indexOf("checkedTag")&&(e.style.borderColor="#dcdfe6",e.style.color="#606266")},clickCheckTag:function(e){var t=event.currentTarget;3!==this.filterTagForm.tagState&&(2===this.filterTagForm.tagState&&(this.filterTagForm.tagState=1),t.className.indexOf("checkedTag")>-1?e.checked=!1:e.checked=!0)},delFilterTag:function(e){this.filterCustomerData.tag.tags.splice(this.filterCustomerData.tag.tags.indexOf(e),1),0===this.filterCustomerData.tag.tags.length&&(this.filterCustomerData.tag.tagState=2)},closeFilterTagModal:function(){this.showFilterTag=!1},submitFilterTag:function(){if(1===this.filterTagForm.tagState){var e=[];this.filterTagData.forEach(function(t,a){t.checked&&e.push(t)}),0===e.length?this.$message.error("请选择标签"):(this.filterCustomerData.tag.tagState=JSON.parse(l()(this.filterTagForm.tagState)),this.filterCustomerData.tag.tags=e,this.closeFilterTagModal())}else this.filterCustomerData.tag.tagState=JSON.parse(l()(this.filterTagForm.tagState)),this.filterCustomerData.tag.tags=[],this.closeFilterTagModal()},handleFilterStateCheckAll:function(e){var t=[];this.filterStateOp.forEach(function(e,a){t.push(e.value)}),this.filterCustomerData.stateChecked=e?t:[],this.filterStateIndeterminate=!1},handleFilterStateChecked:function(e){var t=e.length;this.filterCustomerData.stateCheckAll=t===this.filterStateOp.length,this.filterStateIndeterminate=t>0&&t<this.filterStateOp.length},handleFilterDateCommand:function(e){"date"===e?this.filterCustomerData.updateType="更新动态时间":"undate"===e&&(this.filterCustomerData.updateType="未更新动态时间"),"1"!==this.filterCustomerData.updateTime&&(this.filterCustomerData.updateDate=null,this.filterCustomerData.updateTime="1")},handleFilterUpdateTime:function(e){this.filterCustomerData.updateDate=null},handleFilterAITask:function(e){},handleFilterFinalFollower:function(e){this.filterCustomerData.finalFollower=e},handleFilterFollower:function(e){this.filterCustomerData.follower=e},handleFilterBackSeaType:function(e){},handleFilterSecs1:function(e){},handleFilterSecs2:function(e){},handleFilterFollowTime:function(e){this.filterCustomerData.followDate=null}},components:{"v-filterMemberTree":r.a}}}).call(t,a("7t+N"))},mof7:function(e,t,a){"use strict";t.a=function(e){var t={domain:e};return Object(i.a)({url:"index/tag/whois",method:"get",params:t})},t.b=function(e){var t={keywords:e};return Object(i.a)({url:"index/tag/oa_url",method:"get",params:t})},t.c=function(e,t,a,l){var r={version:e,number:t,year:a,discount:l};return Object(i.a)({url:"index/email/mail_price",method:"get",params:r})};var i=a("Vo7i")},pXf9:function(e,t,a){"use strict";var i={data:function(){return{filterText:"",memberData:[]}},props:["show","checkNode"],watch:{show:function(e){e&&(this.filterText="",this.renderMember())},filterText:function(e){this.$refs.memberClickTree.filter(e)}},mounted:function(){this.renderMember()},methods:{renderMember:function(){this.memberData=[{id:1,label:"北京海硅信息技术有限公司",children:[{id:4,label:"技术部",children:[{id:11,label:"shay",phone:"18211103898",role:"销售",count:null},{id:22,label:"刘欣雨",phone:"18211103898",role:"销售",count:null}]},{id:6,label:"技术部",children:[{id:77,label:"qq",phone:"18211103898",role:"销售",count:null}]}]},{id:2,label:"河北海硅信息技术有限公司",children:[{id:5,label:"销售部",children:[{id:33,label:"成员1",phone:"18211103898",role:"销售",count:null},{id:44,label:"成员2",phone:"18211103898",role:"销售",count:null},{id:55,label:"成员3",phone:"18211103898",role:"销售",count:null},{id:66,label:"成员4",phone:"18211103898",role:"销售",count:null}]}]}]},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},getcheckdata:function(e){void 0===e.children&&(this.$emit("update:show",!1),this.$emit("update:checkNode",e))}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"memberClickTree"},[a("el-input",{attrs:{placeholder:"输入搜索部门或成员"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{ref:"memberClickTree",attrs:{data:e.memberData,"node-key":"id","default-expand-all":"","filter-node-method":e.filterNode,"check-on-click-node":!0,"expand-on-click-node":!1},on:{"node-click":e.getcheckdata},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node;return t.data,a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(i.label))])])}}])})],1)},staticRenderFns:[]};var r={data:function(){return{transferMemberTreeVisible:!1,checkNode:{id:"",label:""}}},watch:{transferMemberTreeVisible:function(e){e?(this.$refs.inputArrow.classList.remove("el-icon-arrow-up"),this.$refs.inputArrow.classList.add("el-icon-arrow-down")):(this.$refs.inputArrow.classList.remove("el-icon-arrow-down"),this.$refs.inputArrow.classList.add("el-icon-arrow-up"))},checkNode:function(e){this.$emit("sendMember",e)}},methods:{selectMouseEnter:function(){this.checkNode.label&&(this.$refs.inputArrow.style.display="none")},selectMouseLeave:function(){this.$refs.inputArrow.style.display="inline-block"},clickCleanData:function(){this.transferMemberTreeVisible=!1,this.$refs.inputArrow.style.display="inline-block",this.checkNode={id:"",label:""}}},components:{"v-memberClickTree":a("VU/8")(i,l,!1,function(e){a("8rCn")},null,null).exports}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"transferMemberTree"},[a("el-popover",{attrs:{"popper-class":"transferMemberTree-popover",placement:"top"},model:{value:e.transferMemberTreeVisible,callback:function(t){e.transferMemberTreeVisible=t},expression:"transferMemberTreeVisible"}},[a("div",{staticClass:"transferMemberTree-box"},[a("v-memberClickTree",{attrs:{showType:"filterMember",show:e.transferMemberTreeVisible,"check-node":e.checkNode},on:{"update:show":function(t){e.transferMemberTreeVisible=t},"update:checkNode":function(t){e.checkNode=t}}})],1),e._v(" "),a("div",{staticClass:"el-select el-select--small",attrs:{slot:"reference"},on:{mouseenter:e.selectMouseEnter,mouseleave:e.selectMouseLeave},slot:"reference"},[a("div",{staticClass:"el-input el-input--small el-input--suffix"},[a("div",{staticClass:"el-input__inner"},[e.checkNode.label?a("span",{staticClass:"inputText"},[e._v(e._s(e.checkNode.label))]):a("span",{staticClass:"placeholder"},[e._v("请选择想转移给的成员")])]),e._v(" "),a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[a("i",{ref:"inputArrow",staticClass:"el-select__caret el-input__icon el-icon-arrow-up"}),e._v(" "),e.checkNode.label?a("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:function(t){return t.stopPropagation(),e.clickCleanData(t)}}}):e._e()])])])])])],1)},staticRenderFns:[]};var o=a("VU/8")(r,s,!1,function(e){a("wDMB")},null,null);t.a=o.exports},sqkR:function(e,t,a){"use strict";var i=a("mgRl"),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CRMComponent"},[a("div",{staticClass:"CRMCustomer-top"},[a("div",{staticClass:"CRMCustomer-top_left"},[a("el-select",{attrs:{clearable:"",placeholder:"综合"},model:{value:e.customerTopSearch.select,callback:function(t){e.$set(e.customerTopSearch,"select",t)},expression:"customerTopSearch.select"}},e._l(e.topSelectOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-input",{attrs:{placeholder:"姓名、公司、手机、邮箱回车搜索"},model:{value:e.customerTopSearch.input,callback:function(t){e.$set(e.customerTopSearch,"input",t)},expression:"customerTopSearch.input"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickCustomerTopSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:e.clickCustomerTopClearSearch}},[e._v("清空搜索")])],1),e._v(" "),a("div",{staticClass:"CRMCustomer-top_right"},[a("el-button",{attrs:{icon:"el-icon-download"},on:{click:function(t){e.showComplexCustomer=!0}}},[e._v("导入客户")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.showAddCustomer=!0}}},[e._v("新建客户")])],1)]),e._v(" "),a("div",{staticClass:"CRMCustomer-filter"},[a("div",{staticClass:"CRMCustomer-filter-list"},[a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("跟进阶段")]),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.filterStageIndeterminate},on:{change:e.handleFilterStageCheckAll},model:{value:e.filterCustomerData.stageCheckAll,callback:function(t){e.$set(e.filterCustomerData,"stageCheckAll",t)},expression:"filterCustomerData.stageCheckAll"}},[e._v("不限")]),e._v(" "),a("el-checkbox-group",{model:{value:e.filterCustomerData.stageChecked,callback:function(t){e.$set(e.filterCustomerData,"stageChecked",t)},expression:"filterCustomerData.stageChecked"}},e._l(e.filterStageOp,function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value},on:{change:e.handleFilterStageChecked}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("意向等级")]),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.filterLevelIndeterminate},on:{change:e.handleFilterLevelCheckAll},model:{value:e.filterCustomerData.levelCheckAll,callback:function(t){e.$set(e.filterCustomerData,"levelCheckAll",t)},expression:"filterCustomerData.levelCheckAll"}},[e._v("不限")]),e._v(" "),a("el-checkbox-group",{on:{change:e.handleFilterLevelChecked},model:{value:e.filterCustomerData.levelChecked,callback:function(t){e.$set(e.filterCustomerData,"levelChecked",t)},expression:"filterCustomerData.levelChecked"}},e._l(e.filterLevelOp,function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("标签")]),e._v(" "),a("div",{staticClass:"CRMCustomer-filterTag"},[a("el-button",{staticStyle:{"margin-right":"8px"},attrs:{plain:""},on:{click:e.clickShowFilterTagModal}},[e._v("筛选")]),e._v(" "),0===e.filterCustomerData.tag.tags.length?a("el-tag",{staticStyle:{"border-color":"#409EFF"},attrs:{size:"normal",color:"#409EFF"},domProps:{textContent:e._s(2===e.filterCustomerData.tag.tagState?"不限":"无标签")}}):e._e(),e._v(" "),e._l(e.filterCustomerData.tag.tags,function(t){return a("el-tag",{key:t.name,style:{borderColor:t.color},attrs:{color:t.color,closable:"",size:"normal"},on:{close:function(a){e.delFilterTag(t)}}},[e._v(e._s(t.name))])})],2)]),e._v(" "),a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("通话状态")]),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.filterStateIndeterminate},on:{change:e.handleFilterStateCheckAll},model:{value:e.filterCustomerData.stateCheckAll,callback:function(t){e.$set(e.filterCustomerData,"stateCheckAll",t)},expression:"filterCustomerData.stateCheckAll"}},[e._v("不限")]),e._v(" "),a("el-checkbox-group",{on:{change:e.handleFilterStateChecked},model:{value:e.filterCustomerData.stateChecked,callback:function(t){e.$set(e.filterCustomerData,"stateChecked",t)},expression:"filterCustomerData.stateChecked"}},e._l(e.filterStateOp,function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("div",{staticClass:"CRMCustomer-filter-item"},[a("el-dropdown",{on:{command:e.handleFilterDateCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n            "+e._s(e.filterCustomerData.updateType)),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"date"}},[e._v("更新动态时间")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"undate"}},[e._v("未更新动态时间")])],1)],1),e._v(" "),a("el-radio-group",{staticStyle:{"margin-right":"10px"},on:{change:e.handleFilterUpdateTime},model:{value:e.filterCustomerData.updateTime,callback:function(t){e.$set(e.filterCustomerData,"updateTime",t)},expression:"filterCustomerData.updateTime"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("不限")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("今天")]),e._v(" "),a("el-radio-button",{attrs:{label:"3"}},[e._v("昨天")]),e._v(" "),a("el-radio-button",{attrs:{label:"4"}},[e._v("近7日")])],1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filterCustomerData.updateDate,callback:function(t){e.$set(e.filterCustomerData,"updateDate",t)},expression:"filterCustomerData.updateDate"}})],1),e._v(" "),a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("最后外呼任务")]),e._v(" "),a("el-select",{attrs:{placeholder:"选择AI外呼任务",clearable:""},on:{change:e.handleFilterAITask},model:{value:e.filterCustomerData.AITask,callback:function(t){e.$set(e.filterCustomerData,"AITask",t)},expression:"filterCustomerData.AITask"}},e._l(e.filterAITaskOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("通话时长")]),e._v(" "),a("el-input-number",{attrs:{controls:!1,min:0},on:{change:e.handleFilterSecs1},model:{value:e.filterCustomerData.secs1,callback:function(t){e.$set(e.filterCustomerData,"secs1",t)},expression:"filterCustomerData.secs1"}}),a("span",{staticStyle:{margin:"0 5px","font-size":"16px"}},[e._v("~")]),a("el-input-number",{attrs:{controls:!1,min:0},on:{change:e.handleFilterSecs2},model:{value:e.filterCustomerData.secs2,callback:function(t){e.$set(e.filterCustomerData,"secs2",t)},expression:"filterCustomerData.secs2"}})],1),e._v(" "),"CRMCustomer"===e.page?a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("分配时间")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filterCustomerData.allotDate,callback:function(t){e.$set(e.filterCustomerData,"allotDate",t)},expression:"filterCustomerData.allotDate"}})],1):e._e(),e._v(" "),"CRMSeaList"===e.page?a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("最后跟进人")]),e._v(" "),a("v-filterMemberTree",{on:{sendFollower:e.handleFilterFinalFollower}})],1):e._e(),e._v(" "),"CRMTeamList"===e.page?a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("跟进人")]),e._v(" "),a("v-filterMemberTree",{on:{sendFollower:e.handleFilterFollower}})],1):e._e(),e._v(" "),"CRMSeaList"===e.page?a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("退回公海时间")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filterCustomerData.backSeaDate,callback:function(t){e.$set(e.filterCustomerData,"backSeaDate",t)},expression:"filterCustomerData.backSeaDate"}})],1):e._e(),e._v(" "),"CRMSeaList"===e.page?a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("退回公海类型")]),e._v(" "),a("el-select",{attrs:{placeholder:"选择退回类型",clearable:""},on:{change:e.handleFilterBackSeaType},model:{value:e.filterCustomerData.backSeaType,callback:function(t){e.$set(e.filterCustomerData,"backSeaType",t)},expression:"filterCustomerData.backSeaType"}},e._l(e.filterBackSeaOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1):e._e(),e._v(" "),"CRMTeamList"===e.page?a("div",{staticClass:"CRMCustomer-filter-item"},[a("h6",[e._v("最后跟进时间")]),e._v(" "),a("el-radio-group",{staticStyle:{"margin-right":"10px"},on:{change:e.handleFilterFollowTime},model:{value:e.filterCustomerData.followTime,callback:function(t){e.$set(e.filterCustomerData,"followTime",t)},expression:"filterCustomerData.followTime"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("不限")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("今天")]),e._v(" "),a("el-radio-button",{attrs:{label:"3"}},[e._v("昨天")]),e._v(" "),a("el-radio-button",{attrs:{label:"4"}},[e._v("近7日")])],1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filterCustomerData.followDate,callback:function(t){e.$set(e.filterCustomerData,"followDate",t)},expression:"filterCustomerData.followDate"}})],1):e._e()]),e._v(" "),a("div",{staticClass:"CRMCustomer-filter-angle"},[a("h5",{on:{click:e.clickFilterFold}},[e.isFilterFold?e._e():a("i",{staticClass:"el-icon-d-arrow-left"}),e.isFilterFold?a("i",{staticClass:"el-icon-d-arrow-right"}):e._e()])])]),e._v(" "),a("el-dialog",{attrs:{width:"400px",title:"导入客户",visible:e.showComplexCustomer},on:{"update:visible":function(t){e.showComplexCustomer=t},close:function(t){e.closeCustomerTopModal("complexCustomerForm")}}},[a("el-form",{ref:"complexCustomerForm",staticClass:"complexCustomerForm",attrs:{model:e.complexCustomerForm,rules:e.complexCustomerRules}},[a("el-form-item",{attrs:{label:"01.填写批量导入的客户模板文件"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.clickComplexDownload}},[e._v("下载模板")])],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"02.上传文件",prop:"complexFile"}},[a("el-upload",{ref:"complexUploadCustomer",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleComplexBefore,"auto-upload":!1,"file-list":e.complexCustomerForm.complexFile}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("点击上传文件")])],1),e._v(" "),a("p",{staticStyle:{"margin-top":"10px","line-height":"20px",color:"#909399"}},[e._v("1、文件格式必须是.csv或.xlsx扩展名")]),e._v(" "),a("p",{staticStyle:{"line-height":"20px",color:"#909399"}},[e._v("2、单个人最多可以同时提交一个大任务（大于10000条），")]),e._v(" "),a("p",{staticStyle:{"line-height":"20px",color:"#909399"}},[e._v("五个小任务（小于10000条）")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.closeCustomerTopModal("complexCustomerForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitComplexCustomerBtn}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"500px",title:"新建客户",visible:e.showAddCustomer},on:{"update:visible":function(t){e.showAddCustomer=t},close:function(t){e.closeCustomerTopModal("addCustomerForm")}}},[a("el-form",{ref:"addCustomerForm",staticClass:"addCustomerForm",attrs:{model:e.addCustomerForm,rules:e.addCustomerRules,"label-width":"95px"}},[a("el-form-item",{attrs:{label:"客户名称",prop:"company"}},[a("el-input",{attrs:{placeholder:"请输入客户名称"},model:{value:e.addCustomerForm.company,callback:function(t){e.$set(e.addCustomerForm,"company",t)},expression:"addCustomerForm.company"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户来源",prop:"source"}},[a("el-select",{attrs:{placeholder:"请选择客户来源"},model:{value:e.addCustomerForm.source,callback:function(t){e.$set(e.addCustomerForm,"source",t)},expression:"addCustomerForm.source"}},e._l(e.topSourceOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属行业",prop:"industry"}},[a("el-select",{attrs:{placeholder:"请选择所属行业"},model:{value:e.addCustomerForm.industry,callback:function(t){e.$set(e.addCustomerForm,"industry",t)},expression:"addCustomerForm.industry"}},e._l(e.topIndustryOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"网址",prop:"web"}},[a("el-input",{attrs:{placeholder:"请输入网址"},model:{value:e.addCustomerForm.web,callback:function(t){e.$set(e.addCustomerForm,"web",t)},expression:"addCustomerForm.web"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入公司地址"},model:{value:e.addCustomerForm.address,callback:function(t){e.$set(e.addCustomerForm,"address",t)},expression:"addCustomerForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人",prop:"contacts"}},[a("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.addCustomerForm.contacts,callback:function(t){e.$set(e.addCustomerForm,"contacts",t)},expression:"addCustomerForm.contacts"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.addCustomerForm.phone,callback:function(t){e.$set(e.addCustomerForm,"phone",t)},expression:"addCustomerForm.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人角色",prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择联系人角色"},model:{value:e.addCustomerForm.role,callback:function(t){e.$set(e.addCustomerForm,"role",t)},expression:"addCustomerForm.role"}},e._l(e.topRoleOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.closeCustomerTopModal("addCustomerForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitAddCustomerBtn("close")}}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitAddCustomerBtn("continue")}}},[e._v("确定并新建联系人")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"filterTagModal",attrs:{width:"500px",title:"选择标签",visible:e.showFilterTag},on:{"update:visible":function(t){e.showFilterTag=t},close:e.closeFilterTagModal}},[a("div",{staticClass:"scrollbar",staticStyle:{"max-height":"300px","overflow-x":"hidden","overflow-y":"scroll","padding-right":"15px"}},[a("div",{staticClass:"filter-tagItem",staticStyle:{"padding-top":"0"}},[a("el-radio-group",{on:{change:e.changeTagState},model:{value:e.filterTagForm.tagState,callback:function(t){e.$set(e.filterTagForm,"tagState",t)},expression:"filterTagForm.tagState"}},[a("el-radio",{attrs:{label:1}},[e._v("指定标签")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("不限")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("无标签")])],1)],1),e._v(" "),a("div",{staticClass:"filter-tagItem"},[a("p",[e._v("系统标签")]),e._v(" "),e._l(e.filterTagData,function(t){return"system"===t.type?a("el-tag",{key:t.name,class:t.checked?"checkedTag":3===e.filterTagForm.tagState?"disabledTag":"",style:t.checked?"color:"+t.color+";background:"+t.color+";border-color:"+t.color+";":"",attrs:{size:"normal"},nativeOn:{mouseenter:function(a){e.tagMouseEnter(t.color)},mouseleave:function(t){return e.tagMouseLeave(t)},click:function(a){e.clickCheckTag(t)}}},[e._v(e._s(t.name))]):e._e()})],2),e._v(" "),a("div",{staticClass:"filter-tagItem",staticStyle:{"border-bottom":"none"}},[a("p",[e._v("自定义标签")]),e._v(" "),e._l(e.filterTagData,function(t){return"custom"===t.type?a("el-tag",{key:t.name,class:t.checked?"checkedTag":3===e.filterTagForm.tagState?"disabledTag":"",style:t.checked?"color:"+t.color+";background:"+t.color+";border-color:"+t.color+";":"",attrs:{size:"normal"},nativeOn:{mouseenter:function(a){e.tagMouseEnter(t.color)},mouseleave:function(t){return e.tagMouseLeave(t)},click:function(a){e.clickCheckTag(t)}}},[e._v(e._s(t.name))]):e._e()})],2)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeFilterTagModal}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitFilterTag}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var r=function(e){a("DKRU")},s=a("VU/8")(i.a,l,!1,r,null,null);t.a=s.exports},wDMB:function(e,t){}});