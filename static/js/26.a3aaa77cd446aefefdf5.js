webpackJsonp([26],{"1d1Y":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("mvHQ"),l=i.n(n),c=i("NZyr"),o={data:function(){return{delVisible:!1,searchSetNotice:{content:"",date:""},multipleSelection:[],setNoticeTableData:[{id:1,title:"节假日放假通知",range:"全员",state:"1",send:"shay",date:"2018-10-12  10:12:22"},{id:2,title:"报备流程最新通知",range:"销售部",state:"2",send:"shay",date:"2018-10-12  10:12:22"},{id:3,title:"在线咨询转单规则",range:"网销一部",state:"1",send:"shay",date:"2018-10-12  10:12:22"}],setNoticeTotal:150,setNoticeCurrentPage:2,setNoticePageSize:100}},methods:{handleSelectNotice:function(e){this.multipleSelection=e},changeNoticeContent:function(){var e=JSON.parse(l()(this.searchSetNotice.content));this.searchSetNotice={content:e,date:""}},changeNoticeDate:function(e){this.searchSetNotice.content=""},clickDelCheckNotice:function(){var e=this;if(this.multipleSelection.length>0){var t=[];this.multipleSelection.forEach(function(e,i){t.push(e.id)}),this.setNoticeTableData=this.setNoticeTableData.filter(function(t){return-1===e.multipleSelection.indexOf(t)}),this.$refs.setNoticeTable.clearSelection(),this.$message.success("删除成功")}else this.$message.error("请先选择需要删除的公告")},clickEditNotice:function(e){var t="/setNoticeEdit/"+e.id;Object(c.c)(t,"发布公告","")},clickDelNotice:function(e,t){t.splice(e,1),this.$message.success("删除成功")},setNoticeHandleSizeChange:function(e){},setNoticeHandleCurrentChange:function(e){},addTabs:c.a,delPopover:c.d}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"setNotice haigui-section scrollbar"},[i("div",{staticClass:"setNotice-title"},[i("el-input",{attrs:{placeholder:"搜索标题内容","prefix-icon":"el-icon-search"},on:{input:e.changeNoticeContent},model:{value:e.searchSetNotice.content,callback:function(t){e.$set(e.searchSetNotice,"content",t)},expression:"searchSetNotice.content"}}),e._v(" "),i("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.changeNoticeDate},model:{value:e.searchSetNotice.date,callback:function(t){e.$set(e.searchSetNotice,"date",t)},expression:"searchSetNotice.date"}}),e._v(" "),i("div",{staticClass:"setNotice-btn"},[i("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.delVisible,callback:function(t){e.delVisible=t},expression:"delVisible"}},[i("p",[e._v("是否删除选中的公告？")]),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.delVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.delVisible=!1,e.clickDelCheckNotice()}}},[e._v("确定")])],1),e._v(" "),i("el-button",{staticStyle:{padding:"9px","margin-right":"10px"},attrs:{slot:"reference",icon:"el-icon-delete"},on:{click:function(t){e.delVisible=!e.delVisible}},slot:"reference"},[e._v("删除")])],1),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.addTabs("/setNoticeAdd","发布公告")}}},[e._v("发布公告")])],1)],1),e._v(" "),i("el-table",{ref:"setNoticeTable",staticStyle:{width:"100%"},attrs:{data:e.setNoticeTableData},on:{"selection-change":e.handleSelectNotice}},[i("el-table-column",{attrs:{width:"20"}}),e._v(" "),i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"title",label:"标题","show-overflow-tooltip":"","min-width":"200"}}),e._v(" "),i("el-table-column",{attrs:{prop:"range",label:"发布范围","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"状态","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{domProps:{textContent:e._s("1"===t.row.state?"已发布":"草稿")}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"send",label:"发布人","min-width":"100"}}),e._v(" "),i("el-table-column",{attrs:{prop:"date",label:"发布时间","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){e.clickEditNotice(t.row)}}},[e._v("编辑")]),e._v(" "),i("el-popover",{attrs:{"popper-class":"setNoticePopover"+t.row.id,placement:"top",width:"160"},model:{value:t.row.visible,callback:function(i){e.$set(t.row,"visible",i)},expression:"scope.row.visible"}},[i("p",[e._v("确定删除此公告吗？")]),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.row.visible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){t.row.visible=!1,e.clickDelNotice(t.$index,e.setNoticeTableData)}}},[e._v("确定")])],1),e._v(" "),i("el-button",{attrs:{slot:"reference",type:"text",size:"small"},on:{click:function(i){i.stopPropagation(),t.row.visible=!t.row.visible,e.delPopover("setNotice",t.row.id)}},slot:"reference"},[e._v("删除")])],1)]}}])})],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.setNoticeCurrentPage,"page-sizes":[100,200,300,400],"page-size":e.setNoticePageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.setNoticeTotal},on:{"size-change":e.setNoticeHandleSizeChange,"current-change":e.setNoticeHandleCurrentChange}})],1)},staticRenderFns:[]};var s=i("VU/8")(o,a,!1,function(e){i("6O++")},null,null);t.default=s.exports},"6O++":function(e,t){}});