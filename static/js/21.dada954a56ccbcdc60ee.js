webpackJsonp([21],{c9HL:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("mvHQ"),i=t.n(l),s={data:function(){return{showAddPhone:!1,searchGateway:"",gatewayTableData:[{id:1,name:"海硅企业服务",code:"SN123032",type:"3588",port:"12",space:"20"}],showSliderMask:!1,showSliderGateway:!1,gatewaySliderData:{list:[{id:1,code:"2002",sip:"3588",phone:"18211103898",psw:"132456"},{id:2,code:"2002",sip:"3588",phone:"18211103898",psw:"132456"},{id:3,code:"2002",sip:"3588",phone:"18211103898",psw:"132456"}]},phoneAddForm:{psw:"",phone:""},phoneAddRules:{psw:[{required:!0,message:"请输入密码",trigger:"blur"}],phone:[{required:!0,validator:function(e,a,t){""===a?t(new Error("请输入手机号")):/^[1][3,4,5,6,7,8][0-9]{9}$/.test(a)?t():t(new Error("请输入正确的手机号"))},trigger:"blur"}]},limitOp:[{value:1,label:"限制"},{value:2,label:"不限制"}],gatewayTotal:150,gatewayCurrentPage:2,gatewayPageSize:100,gatewaySliberTotal:150,gatewaySliberCurrentPage:2,gatewaySliberPageSize:100}},watch:{searchGateway:function(e){}},methods:{clickRefresh:function(){this.searchGateway="",this.phoneCurrentPage=1},clickGatewayList:function(e){this.gatewaySliderData.list=[{id:1,code:"2002",sip:"3588",phone:"18211103898",psw:"132456"},{id:2,code:"2002",sip:"3588",phone:"18211103898",psw:"132456"},{id:3,code:"2002",sip:"3588",phone:"18211103898",psw:"132456"}],this.showSliderMask=!0,this.showSliderGateway=!0},clickHiddenMask:function(){this.showSliderMask=!1,this.showSliderGateway=!1},clickShowGateway:function(e){this.showAddPhone=!0,this.phoneAddForm=JSON.parse(i()(e))},closeGatewayModal:function(e){this.showAddPhone=!1,this.$refs[e].resetFields()},submitGatewayBtn:function(){var e=this;this.$refs.phoneAddForm.validate(function(a){if(a){var t=JSON.parse(i()(e.phoneAddForm));e.gatewaySliderData.list.forEach(function(a,l){t.id===a.id&&(e.$set(e.gatewaySliderData.list,l,t),e.$message.success("修改成功"))}),e.closeGatewayModal("phoneAddForm")}})},gatewayHandleSizeChange:function(e){},gatewayHandleCurrentChange:function(e){},gatewaySliberHandleSizeChange:function(e){},gatewaySliberHandleCurrentChange:function(e){}}},o={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"setGateway haigui-section scrollbar"},[t("div",{staticClass:"setGateway-title"},[t("el-input",{attrs:{placeholder:"搜索网关名称","suffix-icon":"el-icon-search"},model:{value:e.searchGateway,callback:function(a){e.searchGateway=a},expression:"searchGateway"}}),e._v(" "),t("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.clickRefresh}},[e._v("刷新")])],1),e._v(" "),t("el-table",{staticClass:"gatewayTable",staticStyle:{width:"100%"},attrs:{data:e.gatewayTableData},on:{"row-click":e.clickGatewayList}},[t("el-table-column",{attrs:{width:"20"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"网关名称","show-overflow-tooltip":"","min-width":"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"code",label:"网关编号","min-width":"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"type",label:"网关类型","min-width":"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"port",label:"使用端口","min-width":"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"space",label:"空闲端口","min-width":"100"}})],1),e._v(" "),t("el-pagination",{attrs:{"current-page":e.gatewayCurrentPage,"page-sizes":[100,200,300,400],"page-size":e.gatewayPageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.gatewayTotal},on:{"size-change":e.gatewayHandleSizeChange,"current-change":e.gatewayHandleCurrentChange}}),e._v(" "),e.showSliderMask?t("div",{staticClass:"talk-slider-mask",on:{click:e.clickHiddenMask}}):e._e(),e._v(" "),t("div",{class:[e.showSliderGateway?"talk-slider-show":"","talk-slider-wrap gateway-slider"]},[t("div",{staticClass:"talk-slider-header"},[t("div",{staticClass:"talk-slider-close"},[t("i",{staticClass:"fas fa-angle-right",on:{click:e.clickHiddenMask}})]),e._v(" "),t("span",{staticClass:"talk-header-title"},[e._v("网关信息")])]),e._v(" "),t("div",{staticClass:"talk-slider-body scrollbar"},[t("div",{staticClass:"talk-silder-div"},[t("el-table",{ref:"dicSliderTable",attrs:{data:e.gatewaySliderData.list}},[t("el-table-column",{attrs:{prop:"code",label:"端口编号","min-width":"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"sip",label:"SIP账号","min-width":"80"}}),e._v(" "),t("el-table-column",{attrs:{prop:"phone",label:"号码","min-width":"150"}}),e._v(" "),t("el-table-column",{attrs:{prop:"psw",label:"密码","min-width":"120"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.clickShowGateway(a.row)}}},[e._v("配置")])]}}])})],1),e._v(" "),t("el-pagination",{attrs:{"current-page":e.gatewaySliberCurrentPage,"page-sizes":[100,200,300,400],"page-size":e.gatewaySliberPageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.gatewaySliberTotal},on:{"size-change":e.gatewaySliberHandleSizeChange,"current-change":e.gatewaySliberHandleCurrentChange}})],1)])]),e._v(" "),t("el-dialog",{attrs:{width:"500px",title:"网关配置",visible:e.showAddPhone},on:{"update:visible":function(a){e.showAddPhone=a},close:function(a){e.closeGatewayModal("phoneAddForm")}}},[t("el-form",{ref:"phoneAddForm",attrs:{model:e.phoneAddForm,rules:e.phoneAddRules,"label-width":"152px"}},[t("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"端口编号"}},[t("p",[e._v(e._s(e.phoneAddForm.code))])]),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"SIP账号"}},[t("p",[e._v(e._s(e.phoneAddForm.sip))])]),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"psw"}},[t("el-input",{attrs:{maxlength:15,placeholder:"请输入密码"},model:{value:e.phoneAddForm.psw,callback:function(a){e.$set(e.phoneAddForm,"psw",a)},expression:"phoneAddForm.psw"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[t("el-input",{attrs:{maxlength:15,placeholder:"请输入手机号码"},model:{value:e.phoneAddForm.phone,callback:function(a){e.$set(e.phoneAddForm,"phone",a)},expression:"phoneAddForm.phone"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(a){e.closeGatewayModal("phoneAddForm")}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitGatewayBtn}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=t("VU/8")(s,o,!1,function(e){t("eOKr")},null,null);a.default=r.exports},eOKr:function(e,a){}});