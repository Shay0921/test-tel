webpackJsonp([15],{F6H5:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("mvHQ"),r=e.n(i),a=e("//Fk"),n=e.n(a),o=(e("NZyr"),e("mof7")),u={data:function(){return{showResultMX:!1,searchWhois:"",resultWhois:"",resultList:{domain:"",sponsoring_registrar:"",dom_status:"",registrar:"",dns:"",dom_insdate:"",dom_expdate:""}}},computed:{vuexMX:{get:function(){if(this.$store.getters.vuexMX)return this.$store.getters.vuexMX},set:function(s){this.$store.getters.vuexMX=s}}},watch:{vuexMX:function(){var s=this;if(this.vuexMX)return this.resultList="",this.searchWhois=this.vuexMX,this.resultWhois=this.vuexMX,this.showResultMX=!0,new n.a(function(t,e){Object(o.a)(s.resultWhois).then(function(t){var e=t.data;200===e.code?(s.resultList.domain=e.data.domain,e.data.sponsoring_registrar?s.resultList.sponsoring_registrar=e.data.sponsoring_registrar[0]:s.resultList.registrar=e.data.registrar[0],s.resultList.dom_status=e.data.status.join(";"),s.resultList.registrar=e.data.registrar[0],s.resultList.dns=e.data.dns.join(";"),s.resultList.dom_insdate=e.data.created[0],s.resultList.dom_expdate=e.data.expires[0]):(s.resultList={domain:"",sponsoring_registrar:"",dom_status:"",registrar:"",dns:"",dom_insdate:"",dom_expdate:""},s.$message({message:e.msg,type:"error"})),s.showResultMX=!0}).catch(function(t){s.$message({message:"网络异常，请刷新重试",type:"error"}),e(!1)})});this.$store.dispatch("searchVuexDomain","")}},mounted:function(){this.vuexMX?(this.searchWhois=this.vuexMX,this.resultWhois=this.vuexMX,this.showResultMX=!0):(this.searchWhois="",this.resultWhois="")},methods:{searchWhoisFun:function(){var s=this;if(/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/.test(this.searchWhois))return this.resultWhois=JSON.parse(r()(this.searchWhois)),new n.a(function(t,e){Object(o.a)(s.resultWhois).then(function(t){var e=t.data;200===e.code?(s.resultList.domain=e.data.domain,e.data.sponsoring_registrar?s.resultList.sponsoring_registrar=e.data.sponsoring_registrar[0]:s.resultList.registrar=e.data.registrar[0],s.resultList.dom_status=e.data.status.join(";"),s.resultList.registrar=e.data.registrar[0],s.resultList.dns=e.data.dns.join(";"),s.resultList.dom_insdate=e.data.created[0],s.resultList.dom_expdate=e.data.expires[0]):(s.resultList={domain:"",sponsoring_registrar:"",dom_status:"",registrar:"",dns:"",dom_insdate:"",dom_expdate:""},s.$message({message:e.msg,type:"error"})),s.showResultMX=!0}).catch(function(t){s.$message({message:"网络异常，请刷新重试",type:"error"}),e(!1)})});this.showResultMX=!1,this.$message({message:"请输入正确格式的域名",type:"error"})},pushMX:function(){this.$store.dispatch("searchVuexDomain",this.resultWhois).then(function(){})}}},d={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"searchMX"},[e("div",{staticClass:"haigui-title"},[s._v("域名查询")]),s._v(" "),e("div",{staticClass:"haigui-section scrollbar"},[e("h1",[s._v("域名whois查询")]),s._v(" "),e("div",{staticClass:"searchBox"},[e("el-input",{attrs:{placeholder:"请输入您要查询的域名，如haigui.cn",icon:"search",maxlength:30},nativeOn:{keyup:function(t){if(!("button"in t)&&s._k(t.keyCode,"enter",13,t.key,"Enter"))return null;s.searchWhoisFun()}},model:{value:s.searchWhois,callback:function(t){s.searchWhois=t},expression:"searchWhois"}}),s._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){s.searchWhoisFun()}}},[s._v("查询")])],1),s._v(" "),s.showResultMX?e("div",{staticClass:"searchResult"},[e("p",[s._v("您查询的域名为:"),e("span",[s._v(s._s(s.resultWhois))])]),e("a",{attrs:{href:"javascript:;"},on:{click:s.pushMX}},[s._v("查询该域名MX记录")]),s._v(" "),this.resultList.domain?e("div",{staticClass:"searchResult-box"},[e("div",{},[e("span",[s._v("域名")]),e("span",[s._v(s._s(s.resultList.domain))])]),s._v(" "),e("div",{},[e("span",[s._v("注册商")]),e("span",[s._v(s._s(s.resultList.sponsoring_registrar))])]),s._v(" "),e("div",{},[e("span",[s._v("域名状态")]),e("span",{attrs:{title:s.resultList.dom_status}},[s._v(s._s(s.resultList.dom_status))])]),s._v(" "),e("div",{},[e("span",[s._v("注册者")]),e("span",[s._v(s._s(s.resultList.registrar))])]),s._v(" "),e("div",{},[e("span",[s._v("DNS服务器")]),e("span",{attrs:{title:s.resultList.dns}},[s._v(s._s(s.resultList.dns))])]),s._v(" "),e("div",{},[e("span",[s._v("注册日期")]),e("span",[s._v(s._s(s.resultList.dom_insdate))])]),s._v(" "),e("div",{},[e("span",[s._v("过期日期")]),e("span",[s._v(s._s(s.resultList.dom_expdate))])])]):s._e(),s._v(" "),this.resultList.domain?s._e():e("div",{staticClass:"haigui-empty"},[s._v("\n        - 未查到此域名 -\n      ")])]):s._e()])])},staticRenderFns:[]};var h=e("VU/8")(u,d,!1,function(s){e("r41P")},null,null);t.default=h.exports},r41P:function(s,t){}});