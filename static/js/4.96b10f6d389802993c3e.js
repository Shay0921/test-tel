webpackJsonp([4],{"7DCS":function(e,t){},"7MA5":function(e,t){},El2O:function(e,t,a){(function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t="undefined"!=typeof window,a=t?window:{},i="cropper-hidden",s=a.PointerEvent?"pointerdown":"touchstart mousedown",r=a.PointerEvent?"pointermove":"touchmove mousemove",o=a.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",n=/^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,l=/^data:/,h=/^data:image\/jpeg;base64,/,d=/^(?:img|canvas)$/i,c={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),v=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)},f=Number.isNaN||a.isNaN;function g(e){return"number"==typeof e&&!f(e)}function b(e){return void 0===e}function w(e){return"object"===(void 0===e?"undefined":p(e))&&null!==e}var x=Object.prototype.hasOwnProperty;function _(e){if(!w(e))return!1;try{var t=e.constructor,a=t.prototype;return t&&a&&x.call(a,"isPrototypeOf")}catch(e){return!1}}function y(e){return"function"==typeof e}function D(e,t){if(e&&y(t))if(Array.isArray(e)||g(e.length)){var a=e.length,i=void 0;for(i=0;i<a&&!1!==t.call(e,e[i],i,e);i+=1);}else w(e)&&Object.keys(e).forEach(function(a){t.call(e,e[a],a,e)});return e}var k=Object.assign||function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];return w(e)&&a.length>0&&a.forEach(function(t){w(t)&&Object.keys(t).forEach(function(a){e[a]=t[a]})}),e},C=/\.\d*(?:0|9){12}\d*$/i;function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return C.test(e)?Math.round(e*t)/t:e}var U=/^(?:width|height|left|top|marginLeft|marginTop)$/;function T(e,t){var a=e.style;D(t,function(e,t){U.test(t)&&g(e)&&(e+="px"),a[t]=e})}function M(e,t){if(t)if(g(e.length))D(e,function(e){M(e,t)});else if(e.classList)e.classList.add(t);else{var a=e.className.trim();a?a.indexOf(t)<0&&(e.className=a+" "+t):e.className=t}}function $(e,t){t&&(g(e.length)?D(e,function(e){$(e,t)}):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function A(e,t,a){t&&(g(e.length)?D(e,function(e){A(e,t,a)}):a?M(e,t):$(e,t))}var R=/([a-z\d])([A-Z])/g;function B(e){return e.replace(R,"$1-$2").toLowerCase()}function S(e,t){return w(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+B(t))}function E(e,t,a){w(a)?e[t]=a:e.dataset?e.dataset[t]=a:e.setAttribute("data-"+B(t),a)}function P(e,t){if(w(e[t]))try{delete e[t]}catch(a){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(a){e.dataset[t]=void 0}else e.removeAttribute("data-"+B(t))}var I=/\s\s*/,W=function(){var e=!1;if(t){var i=!1,s=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,i},set:function(e){i=e}});a.addEventListener("test",s,r),a.removeEventListener("test",s,r)}return e}();function N(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a;t.trim().split(I).forEach(function(t){if(!W){var r=e.listeners;r&&r[t]&&r[t][a]&&(s=r[t][a],delete r[t][a],0===Object.keys(r[t]).length&&delete r[t],0===Object.keys(r).length&&delete e.listeners)}e.removeEventListener(t,s,i)})}function z(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a;t.trim().split(I).forEach(function(t){if(i.once&&!W){var r=e.listeners,o=void 0===r?{}:r;s=function(){for(var r=arguments.length,n=Array(r),l=0;l<r;l++)n[l]=arguments[l];delete o[t][a],e.removeEventListener(t,s,i),a.apply(e,n)},o[t]||(o[t]={}),o[t][a]&&e.removeEventListener(t,o[t][a],i),o[t][a]=s,e.listeners=o}e.addEventListener(t,s,i)})}function O(e,t,a){var i=void 0;return y(Event)&&y(CustomEvent)?i=new CustomEvent(t,{detail:a,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,a),e.dispatchEvent(i)}function L(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var H=a.location,Y=/^(https?:)\/\/([^:/?#]+):?(\d*)/i;function q(e){var t=e.match(Y);return t&&(t[1]!==H.protocol||t[2]!==H.hostname||t[3]!==H.port)}function j(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function G(e){var t=e.rotate,a=e.scaleX,i=e.scaleY,s=e.translateX,r=e.translateY,o=[];g(s)&&0!==s&&o.push("translateX("+s+"px)"),g(r)&&0!==r&&o.push("translateY("+r+"px)"),g(t)&&0!==t&&o.push("rotate("+t+"deg)"),g(a)&&1!==a&&o.push("scaleX("+a+")"),g(i)&&1!==i&&o.push("scaleY("+i+")");var n=o.length?o.join(" "):"none";return{WebkitTransform:n,msTransform:n,transform:n}}function Q(e,t){var a=e.pageX,i=e.pageY,s={endX:a,endY:i};return t?s:k({startX:a,startY:i},s)}var X=Number.isFinite||a.isFinite;function V(e){var t=e.aspectRatio,a=e.height,i=e.width,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=function(e){return X(e)&&e>0};if(r(i)&&r(a)){var o=a*t;"contain"===s&&o>i||"cover"===s&&o<i?a=i/t:i=a*t}else r(i)?a=i/t:r(a)&&(i=a*t);return{width:i,height:a}}var J=String.fromCharCode;var K=/^data:.*,/;function Z(e){var t=new DataView(e),a=void 0,i=void 0,s=void 0,r=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(var o=t.byteLength,n=2;n<o;){if(255===t.getUint8(n)&&225===t.getUint8(n+1)){s=n;break}n+=1}if(s){var l=s+10;if("Exif"===function(e,t,a){var i="",s=void 0;for(a+=t,s=t;s<a;s+=1)i+=J(e.getUint8(s));return i}(t,s+4,4)){var h=t.getUint16(l);if(((i=18761===h)||19789===h)&&42===t.getUint16(l+2,i)){var d=t.getUint32(l+4,i);d>=8&&(r=l+d)}}}if(r){var c=t.getUint16(r,i),p=void 0,u=void 0;for(u=0;u<c;u+=1)if(p=r+12*u+2,274===t.getUint16(p,i)){p+=8,a=t.getUint16(p,i),t.setUint16(p,1,i);break}}return a}var ee={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,a=this.container,s=this.cropper;M(s,i),$(e,i);var r={width:Math.max(a.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(a.offsetHeight,Number(t.minContainerHeight)||100)};this.containerData=r,T(s,{width:r.width,height:r.height}),M(e,i),$(s,i)},initCanvas:function(){var e=this.containerData,t=this.imageData,a=this.options.viewMode,i=Math.abs(t.rotate)%180==90,s=i?t.naturalHeight:t.naturalWidth,r=i?t.naturalWidth:t.naturalHeight,o=s/r,n=e.width,l=e.height;e.height*o>e.width?3===a?n=e.height*o:l=e.width/o:3===a?l=e.width/o:n=e.height*o;var h={aspectRatio:o,naturalWidth:s,naturalHeight:r,width:n,height:l};h.left=(e.width-n)/2,h.top=(e.height-l)/2,h.oldLeft=h.left,h.oldTop=h.top,this.canvasData=h,this.limited=1===a||2===a,this.limitCanvas(!0,!0),this.initialImageData=k({},t),this.initialCanvasData=k({},h)},limitCanvas:function(e,t){var a=this.options,i=this.containerData,s=this.canvasData,r=this.cropBoxData,o=a.viewMode,n=s.aspectRatio,l=this.cropped&&r;if(e){var h=Number(a.minCanvasWidth)||0,d=Number(a.minCanvasHeight)||0;o>1?(h=Math.max(h,i.width),d=Math.max(d,i.height),3===o&&(d*n>h?h=d*n:d=h/n)):o>0&&(h?h=Math.max(h,l?r.width:0):d?d=Math.max(d,l?r.height:0):l&&(h=r.width,(d=r.height)*n>h?h=d*n:d=h/n));var c=V({aspectRatio:n,width:h,height:d});h=c.width,d=c.height,s.minWidth=h,s.minHeight=d,s.maxWidth=1/0,s.maxHeight=1/0}if(t)if(o){var p=i.width-s.width,u=i.height-s.height;s.minLeft=Math.min(0,p),s.minTop=Math.min(0,u),s.maxLeft=Math.max(0,p),s.maxTop=Math.max(0,u),l&&this.limited&&(s.minLeft=Math.min(r.left,r.left+(r.width-s.width)),s.minTop=Math.min(r.top,r.top+(r.height-s.height)),s.maxLeft=r.left,s.maxTop=r.top,2===o&&(s.width>=i.width&&(s.minLeft=Math.min(0,p),s.maxLeft=Math.max(0,p)),s.height>=i.height&&(s.minTop=Math.min(0,u),s.maxTop=Math.max(0,u))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=i.width,s.maxTop=i.height},renderCanvas:function(e,t){var a=this.canvasData,i=this.imageData;if(t){var s=function(e){var t=e.width,a=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:a,height:t};var s=i%90*Math.PI/180,r=Math.sin(s),o=Math.cos(s),n=t*o+a*r,l=t*r+a*o;return i>90?{width:l,height:n}:{width:n,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),r=s.width,o=s.height,n=a.width*(r/a.naturalWidth),l=a.height*(o/a.naturalHeight);a.left-=(n-a.width)/2,a.top-=(l-a.height)/2,a.width=n,a.height=l,a.aspectRatio=r/o,a.naturalWidth=r,a.naturalHeight=o,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,T(this.canvas,k({width:a.width,height:a.height},G({translateX:a.left,translateY:a.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,a=this.imageData,i=a.naturalWidth*(t.width/t.naturalWidth),s=a.naturalHeight*(t.height/t.naturalHeight);k(a,{width:i,height:s,left:(t.width-i)/2,top:(t.height-s)/2}),T(this.image,k({width:a.width,height:a.height},G(k({translateX:a.left,translateY:a.top},a)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,a=e.aspectRatio,i=Number(e.autoCropArea)||.8,s={width:t.width,height:t.height};a&&(t.height*a>t.width?s.height=s.width/a:s.width=s.height*a),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*i),s.height=Math.max(s.minHeight,s.height*i),s.left=t.left+(t.width-s.width)/2,s.top=t.top+(t.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=k({},s)},limitCropBox:function(e,t){var a=this.options,i=this.containerData,s=this.canvasData,r=this.cropBoxData,o=this.limited,n=a.aspectRatio;if(e){var l=Number(a.minCropBoxWidth)||0,h=Number(a.minCropBoxHeight)||0,d=Math.min(i.width,o?s.width:i.width),c=Math.min(i.height,o?s.height:i.height);l=Math.min(l,i.width),h=Math.min(h,i.height),n&&(l&&h?h*n>l?h=l/n:l=h*n:l?h=l/n:h&&(l=h*n),c*n>d?c=d/n:d=c*n),r.minWidth=Math.min(l,d),r.minHeight=Math.min(h,c),r.maxWidth=d,r.maxHeight=c}t&&(o?(r.minLeft=Math.max(0,s.left),r.minTop=Math.max(0,s.top),r.maxLeft=Math.min(i.width,s.left+s.width)-r.width,r.maxTop=Math.min(i.height,s.top+s.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=i.width-r.width,r.maxTop=i.height-r.height))},renderCropBox:function(){var e=this.options,t=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,e.movable&&e.cropBoxMovable&&E(this.face,"action",a.width>=t.width&&a.height>=t.height?"move":"all"),T(this.cropBox,k({width:a.width,height:a.height},G({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),O(this.element,"crop",this.getData())}},te={initPreview:function(){var e=this.crossOrigin,t=this.options.preview,a=e?this.crossOriginUrl:this.url,i=document.createElement("img");if(e&&(i.crossOrigin=e),i.src=a,this.viewBox.appendChild(i),this.viewBoxImage=i,t){var s=t;"string"==typeof t?s=this.element.ownerDocument.querySelectorAll(t):t.querySelector&&(s=[t]),this.previews=s,D(s,function(t){var i=document.createElement("img");E(t,"preview",{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=a,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)})}},resetPreview:function(){D(this.previews,function(e){var t=S(e,"preview");T(e,{width:t.width,height:t.height}),e.innerHTML=t.html,P(e,"preview")})},preview:function(){var e=this.imageData,t=this.canvasData,a=this.cropBoxData,i=a.width,s=a.height,r=e.width,o=e.height,n=a.left-t.left-e.left,l=a.top-t.top-e.top;this.cropped&&!this.disabled&&(T(this.viewBoxImage,k({width:r,height:o},G(k({translateX:-n,translateY:-l},e)))),D(this.previews,function(t){var a=S(t,"preview"),h=a.width,d=a.height,c=h,p=d,u=1;i&&(p=s*(u=h/i)),s&&p>d&&(c=i*(u=d/s),p=d),T(t,{width:c,height:p}),T(t.getElementsByTagName("img")[0],k({width:r*u,height:o*u},G(k({translateX:-n*u,translateY:-l*u},e))))}))}},ae={bind:function(){var e=this.element,t=this.options,a=this.cropper;y(t.cropstart)&&z(e,"cropstart",t.cropstart),y(t.cropmove)&&z(e,"cropmove",t.cropmove),y(t.cropend)&&z(e,"cropend",t.cropend),y(t.crop)&&z(e,"crop",t.crop),y(t.zoom)&&z(e,"zoom",t.zoom),z(a,s,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&z(a,"wheel mousewheel DOMMouseScroll",this.onWheel=this.wheel.bind(this)),t.toggleDragModeOnDblclick&&z(a,"dblclick",this.onDblclick=this.dblclick.bind(this)),z(e.ownerDocument,r,this.onCropMove=this.cropMove.bind(this)),z(e.ownerDocument,o,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&z(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,a=this.cropper;y(t.cropstart)&&N(e,"cropstart",t.cropstart),y(t.cropmove)&&N(e,"cropmove",t.cropmove),y(t.cropend)&&N(e,"cropend",t.cropend),y(t.crop)&&N(e,"crop",t.crop),y(t.zoom)&&N(e,"zoom",t.zoom),N(a,s,this.onCropStart),t.zoomable&&t.zoomOnWheel&&N(a,"wheel mousewheel DOMMouseScroll",this.onWheel),t.toggleDragModeOnDblclick&&N(a,"dblclick",this.onDblclick),N(e.ownerDocument,r,this.onCropMove),N(e.ownerDocument,o,this.onCropEnd),t.responsive&&N(window,"resize",this.onResize)}},ie={resize:function(){var e=this.options,t=this.container,a=this.containerData,i=Number(e.minContainerWidth)||200,s=Number(e.minContainerHeight)||100;if(!(this.disabled||a.width<=i||a.height<=s)){var r=t.offsetWidth/a.width;if(1!==r||t.offsetHeight!==a.height){var o=void 0,n=void 0;e.restore&&(o=this.getCanvasData(),n=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(D(o,function(e,t){o[t]=e*r})),this.setCropBoxData(D(n,function(e,t){n[t]=e*r})))}}},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t="cropper-crop",(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?"move":"crop"))},wheel:function(e){var t=this,a=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*a,e)))},cropStart:function(e){if(!this.disabled){var t=this.options,a=this.pointers,i=void 0;e.changedTouches?D(e.changedTouches,function(e){a[e.identifier]=Q(e)}):a[e.pointerId||0]=Q(e),i=Object.keys(a).length>1&&t.zoomable&&t.zoomOnTouch?"zoom":S(e.target,"action"),n.test(i)&&!1!==O(this.element,"cropstart",{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,"crop"===i&&(this.cropping=!0,M(this.dragBox,"cropper-modal")))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var a=this.pointers;e.preventDefault(),!1!==O(this.element,"cropmove",{originalEvent:e,action:t})&&(e.changedTouches?D(e.changedTouches,function(e){k(a[e.identifier],Q(e,!0))}):k(a[e.pointerId||0],Q(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,a=this.pointers;e.changedTouches?D(e.changedTouches,function(e){delete a[e.identifier]}):delete a[e.pointerId||0],t&&(e.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,A(this.dragBox,"cropper-modal",this.cropped&&this.options.modal)),O(this.element,"cropend",{originalEvent:e,action:t}))}}},se={change:function(e){var t=this.options,a=this.canvasData,s=this.containerData,r=this.cropBoxData,o=this.pointers,n=this.action,l=t.aspectRatio,h=r.left,d=r.top,c=r.width,p=r.height,u=h+c,m=d+p,v=0,f=0,g=s.width,b=s.height,w=!0,x=void 0;!l&&e.shiftKey&&(l=c&&p?c/p:1),this.limited&&(v=r.minLeft,f=r.minTop,g=v+Math.min(s.width,a.width,a.left+a.width),b=f+Math.min(s.height,a.height,a.top+a.height));var _=o[Object.keys(o)[0]],y={x:_.endX-_.startX,y:_.endY-_.startY},C=function(e){switch(e){case"e":u+y.x>g&&(y.x=g-u);break;case"w":h+y.x<v&&(y.x=v-h);break;case"n":d+y.y<f&&(y.y=f-d);break;case"s":m+y.y>b&&(y.y=b-m)}};switch(n){case"all":h+=y.x,d+=y.y;break;case"e":if(y.x>=0&&(u>=g||l&&(d<=f||m>=b))){w=!1;break}C("e"),c+=y.x,l&&(p=c/l,d-=y.x/l/2),c<0&&(n="w",c=0);break;case"n":if(y.y<=0&&(d<=f||l&&(h<=v||u>=g))){w=!1;break}C("n"),p-=y.y,d+=y.y,l&&(c=p*l,h+=y.y*l/2),p<0&&(n="s",p=0);break;case"w":if(y.x<=0&&(h<=v||l&&(d<=f||m>=b))){w=!1;break}C("w"),c-=y.x,h+=y.x,l&&(p=c/l,d+=y.x/l/2),c<0&&(n="e",c=0);break;case"s":if(y.y>=0&&(m>=b||l&&(h<=v||u>=g))){w=!1;break}C("s"),p+=y.y,l&&(c=p*l,h-=y.y*l/2),p<0&&(n="n",p=0);break;case"ne":if(l){if(y.y<=0&&(d<=f||u>=g)){w=!1;break}C("n"),p-=y.y,d+=y.y,c=p*l}else C("n"),C("e"),y.x>=0?u<g?c+=y.x:y.y<=0&&d<=f&&(w=!1):c+=y.x,y.y<=0?d>f&&(p-=y.y,d+=y.y):(p-=y.y,d+=y.y);c<0&&p<0?(n="sw",p=0,c=0):c<0?(n="nw",c=0):p<0&&(n="se",p=0);break;case"nw":if(l){if(y.y<=0&&(d<=f||h<=v)){w=!1;break}C("n"),p-=y.y,d+=y.y,c=p*l,h+=y.y*l}else C("n"),C("w"),y.x<=0?h>v?(c-=y.x,h+=y.x):y.y<=0&&d<=f&&(w=!1):(c-=y.x,h+=y.x),y.y<=0?d>f&&(p-=y.y,d+=y.y):(p-=y.y,d+=y.y);c<0&&p<0?(n="se",p=0,c=0):c<0?(n="ne",c=0):p<0&&(n="sw",p=0);break;case"sw":if(l){if(y.x<=0&&(h<=v||m>=b)){w=!1;break}C("w"),c-=y.x,h+=y.x,p=c/l}else C("s"),C("w"),y.x<=0?h>v?(c-=y.x,h+=y.x):y.y>=0&&m>=b&&(w=!1):(c-=y.x,h+=y.x),y.y>=0?m<b&&(p+=y.y):p+=y.y;c<0&&p<0?(n="ne",p=0,c=0):c<0?(n="se",c=0):p<0&&(n="nw",p=0);break;case"se":if(l){if(y.x>=0&&(u>=g||m>=b)){w=!1;break}C("e"),p=(c+=y.x)/l}else C("s"),C("e"),y.x>=0?u<g?c+=y.x:y.y>=0&&m>=b&&(w=!1):c+=y.x,y.y>=0?m<b&&(p+=y.y):p+=y.y;c<0&&p<0?(n="nw",p=0,c=0):c<0?(n="sw",c=0):p<0&&(n="ne",p=0);break;case"move":this.move(y.x,y.y),w=!1;break;case"zoom":this.zoom(function(e){var t=k({},e),a=[];return D(e,function(e,i){delete t[i],D(t,function(t){var i=Math.abs(e.startX-t.startX),s=Math.abs(e.startY-t.startY),r=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),n=Math.sqrt(i*i+s*s),l=(Math.sqrt(r*r+o*o)-n)/n;a.push(l)})}),a.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),a[0]}(o),e),w=!1;break;case"crop":if(!y.x||!y.y){w=!1;break}x=L(this.cropper),h=_.startX-x.left,d=_.startY-x.top,c=r.minWidth,p=r.minHeight,y.x>0?n=y.y>0?"se":"ne":y.x<0&&(h-=c,n=y.y>0?"sw":"nw"),y.y<0&&(d-=p),this.cropped||($(this.cropBox,i),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}w&&(r.width=c,r.height=p,r.left=h,r.top=d,this.action=n,this.renderCropBox()),D(o,function(e){e.startX=e.endX,e.startY=e.endY})}},re={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&M(this.dragBox,"cropper-modal"),$(this.cropBox,i),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=k({},this.initialImageData),this.canvasData=k({},this.initialCanvasData),this.cropBoxData=k({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(k(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),$(this.dragBox,"cropper-modal"),M(this.cropBox,i)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,D(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,$(this.cropper,"cropper-disabled")),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,M(this.cropper,"cropper-disabled")),this},destroy:function(){var e=this.element;return S(e,"cropper")?(this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),P(e,"cropper"),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,i=a.left,s=a.top;return this.moveTo(b(e)?e:i+Number(e),b(t)?t:s+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(g(e)&&(a.left=e,i=!0),g(t)&&(a.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var a=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(a.width*e/a.naturalWidth,null,t)},zoomTo:function(e,t,a){var i=this.options,s=this.canvasData,r=s.width,o=s.height,n=s.naturalWidth,l=s.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var h=n*e,d=l*e;if(!1===O(this.element,"zoom",{originalEvent:a,oldRatio:r/n,ratio:h/n}))return this;if(a){var c=this.pointers,p=L(this.cropper),u=c&&Object.keys(c).length?function(e){var t=0,a=0,i=0;return D(e,function(e){var s=e.startX,r=e.startY;t+=s,a+=r,i+=1}),{pageX:t/=i,pageY:a/=i}}(c):{pageX:a.pageX,pageY:a.pageY};s.left-=(h-r)*((u.pageX-p.left-s.left)/r),s.top-=(d-o)*((u.pageY-p.top-s.top)/o)}else _(t)&&g(t.x)&&g(t.y)?(s.left-=(h-r)*((t.x-s.left)/r),s.top-=(d-o)*((t.y-s.top)/o)):(s.left-=(h-r)/2,s.top-=(d-o)/2);s.width=h,s.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return g(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,g(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(g(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(g(e)&&(a.scaleX=e,i=!0),g(t)&&(a.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.options,a=this.imageData,i=this.canvasData,s=this.cropBoxData,r=void 0;if(this.ready&&this.cropped){r={x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height};var o=a.width/a.naturalWidth;D(r,function(t,a){t/=o,r[a]=e?Math.round(t):t})}else r={x:0,y:0,width:0,height:0};return t.rotatable&&(r.rotate=a.rotate||0),t.scalable&&(r.scaleX=a.scaleX||1,r.scaleY=a.scaleY||1),r},setData:function(e){var t=this.options,a=this.imageData,i=this.canvasData,s={};if(this.ready&&!this.disabled&&_(e)){var r=!1;t.rotatable&&g(e.rotate)&&e.rotate!==a.rotate&&(a.rotate=e.rotate,r=!0),t.scalable&&(g(e.scaleX)&&e.scaleX!==a.scaleX&&(a.scaleX=e.scaleX,r=!0),g(e.scaleY)&&e.scaleY!==a.scaleY&&(a.scaleY=e.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var o=a.width/a.naturalWidth;g(e.x)&&(s.left=e.x*o+i.left),g(e.y)&&(s.top=e.y*o+i.top),g(e.width)&&(s.width=e.width*o),g(e.height)&&(s.height=e.height*o),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?k({},this.containerData):{}},getImageData:function(){return this.sized?k({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&D(["left","top","width","height","naturalWidth","naturalHeight"],function(a){t[a]=e[a]}),t},setCanvasData:function(e){var t=this.canvasData,a=t.aspectRatio;return this.ready&&!this.disabled&&_(e)&&(g(e.left)&&(t.left=e.left),g(e.top)&&(t.top=e.top),g(e.width)?(t.width=e.width,t.height=e.width/a):g(e.height)&&(t.height=e.height,t.width=e.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,t=void 0;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(e){var t=this.cropBoxData,a=this.options.aspectRatio,i=void 0,s=void 0;return this.ready&&this.cropped&&!this.disabled&&_(e)&&(g(e.left)&&(t.left=e.left),g(e.top)&&(t.top=e.top),g(e.width)&&e.width!==t.width&&(i=!0,t.width=e.width),g(e.height)&&e.height!==t.height&&(s=!0,t.height=e.height),a&&(i?t.height=t.width/a:s&&(t.width=t.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,a=function(e,t,a,i){var s=t.aspectRatio,r=t.naturalWidth,o=t.naturalHeight,n=t.rotate,l=void 0===n?0:n,h=t.scaleX,d=void 0===h?1:h,c=t.scaleY,p=void 0===c?1:c,u=a.aspectRatio,m=a.naturalWidth,f=a.naturalHeight,g=i.fillColor,b=void 0===g?"transparent":g,w=i.imageSmoothingEnabled,x=void 0===w||w,_=i.imageSmoothingQuality,y=void 0===_?"low":_,D=i.maxWidth,k=void 0===D?1/0:D,C=i.maxHeight,U=void 0===C?1/0:C,T=i.minWidth,M=void 0===T?0:T,$=i.minHeight,A=void 0===$?0:$,R=document.createElement("canvas"),B=R.getContext("2d"),S=V({aspectRatio:u,width:k,height:U}),E=V({aspectRatio:u,width:M,height:A},"cover"),P=Math.min(S.width,Math.max(E.width,m)),I=Math.min(S.height,Math.max(E.height,f)),W=V({aspectRatio:s,width:k,height:U}),N=V({aspectRatio:s,width:M,height:A},"cover"),z=Math.min(W.width,Math.max(N.width,r)),O=Math.min(W.height,Math.max(N.height,o)),L=[-z/2,-O/2,z,O];return R.width=F(P),R.height=F(I),B.fillStyle=b,B.fillRect(0,0,P,I),B.save(),B.translate(P/2,I/2),B.rotate(l*Math.PI/180),B.scale(d,p),B.imageSmoothingEnabled=x,B.imageSmoothingQuality=y,B.drawImage.apply(B,[e].concat(v(L.map(function(e){return Math.floor(F(e))})))),B.restore(),R}(this.image,this.imageData,t,e);if(!this.cropped)return a;var i=this.getData(),s=i.x,r=i.y,o=i.width,n=i.height,l=a.width/Math.floor(t.naturalWidth);1!==l&&(s*=l,r*=l,o*=l,n*=l);var h=o/n,d=V({aspectRatio:h,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),c=V({aspectRatio:h,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=V({aspectRatio:h,width:e.width||(1!==l?a.width:o),height:e.height||(1!==l?a.height:n)}),u=p.width,m=p.height;u=Math.min(d.width,Math.max(c.width,u)),m=Math.min(d.height,Math.max(c.height,m));var f=document.createElement("canvas"),g=f.getContext("2d");f.width=F(u),f.height=F(m),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,u,m);var b=e.imageSmoothingEnabled,w=void 0===b||b,x=e.imageSmoothingQuality;g.imageSmoothingEnabled=w,x&&(g.imageSmoothingQuality=x);var _=a.width,y=a.height,D=s,k=r,C=void 0,U=void 0,T=void 0,M=void 0,$=void 0,A=void 0;D<=-o||D>_?(D=0,C=0,T=0,$=0):D<=0?(T=-D,D=0,$=C=Math.min(_,o+D)):D<=_&&(T=0,$=C=Math.min(o,_-D)),C<=0||k<=-n||k>y?(k=0,U=0,M=0,A=0):k<=0?(M=-k,k=0,A=U=Math.min(y,n+k)):k<=y&&(M=0,A=U=Math.min(n,y-k));var R=[D,k,C,U];if($>0&&A>0){var B=u/o;R.push(T*B,M*B,$*B,A*B)}return g.drawImage.apply(g,[a].concat(v(R.map(function(e){return Math.floor(F(e))})))),f},setAspectRatio:function(e){var t=this.options;return this.disabled||b(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,a=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var s="crop"===e,r=t.movable&&"move"===e;e=s||r?e:"none",t.dragMode=e,E(a,"action",e),A(a,"cropper-crop",s),A(a,"cropper-move",r),t.cropBoxMovable||(E(i,"action",e),A(i,"cropper-crop",s),A(i,"cropper-move",r))}return this}},oe=a.Cropper,ne=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u(this,e),!t||!d.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=k({},c,_(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return m(e,[{key:"init",value:function(){var e=this.element,t=e.tagName.toLowerCase(),a=void 0;if(!S(e,"cropper")){if(E(e,"cropper",this),"img"===t){if(this.isImg=!0,a=e.getAttribute("src")||"",this.originalUrl=a,!a)return;a=e.src}else"canvas"===t&&window.HTMLCanvasElement&&(a=e.toDataURL());this.load(a)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var a=this.element,i=this.options;if(i.checkOrientation&&window.ArrayBuffer)if(l.test(e))h.test(e)?this.read((s=e.replace(K,""),r=atob(s),o=new ArrayBuffer(r.length),D(n=new Uint8Array(o),function(e,t){n[t]=r.charCodeAt(t)}),o)):this.clone();else{var s,r,o,n,d=new XMLHttpRequest;this.reloading=!0,this.xhr=d;var c=function(){t.reloading=!1,t.xhr=null};d.ontimeout=c,d.onabort=c,d.onerror=function(){c(),t.clone()},d.onload=function(){c(),t.read(d.response)},i.checkCrossOrigin&&q(e)&&a.crossOrigin&&(e=j(e)),d.open("get",e),d.responseType="arraybuffer",d.withCredentials="use-credentials"===a.crossOrigin,d.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,a=this.imageData,i=Z(e),s=0,r=1,o=1;if(i>1){this.url=function(e,t){var a="";return D(new Uint8Array(e),function(e){a+=J(e)}),"data:"+t+";base64,"+btoa(a)}(e,"image/jpeg");var n=function(e){var t=0,a=1,i=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90}return{rotate:t,scaleX:a,scaleY:i}}(i);s=n.rotate,r=n.scaleX,o=n.scaleY}t.rotatable&&(a.rotate=s),t.scalable&&(a.scaleX=r,a.scaleY=o),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,a=void 0,i=void 0;this.options.checkCrossOrigin&&q(t)&&((a=e.crossOrigin)?i=t:(a="anonymous",i=j(t))),this.crossOrigin=a,this.crossOriginUrl=i;var s=document.createElement("img");a&&(s.crossOrigin=a),s.src=i||t;var r=this.start.bind(this),o=this.stop.bind(this);this.image=s,this.onStart=r,this.onStop=o,this.isImg?e.complete?this.timeout=setTimeout(r,0):z(e,"load",r,{once:!0}):(s.onload=r,s.onerror=o,M(s,"cropper-hide"),e.parentNode.insertBefore(s,e.nextSibling))}},{key:"start",value:function(e){var t=this,i=this.isImg?this.element:this.image;e&&(i.onload=null,i.onerror=null),this.sizing=!0;var s=a.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(a.navigator.userAgent),r=function(e,a){k(t.imageData,{naturalWidth:e,naturalHeight:a,aspectRatio:e/a}),t.sizing=!1,t.sized=!0,t.build()};if(!i.naturalWidth||s){var o=document.createElement("img"),n=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),s||n.removeChild(o)},o.src=i.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(o))}else r(i.naturalWidth,i.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,a=this.image,s=e.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>';var o=r.querySelector(".cropper-container"),n=o.querySelector(".cropper-canvas"),l=o.querySelector(".cropper-drag-box"),h=o.querySelector(".cropper-crop-box"),d=h.querySelector(".cropper-face");this.container=s,this.cropper=o,this.canvas=n,this.dragBox=l,this.cropBox=h,this.viewBox=o.querySelector(".cropper-view-box"),this.face=d,n.appendChild(a),M(e,i),s.insertBefore(o,e.nextSibling),this.isImg||$(a,"cropper-hide"),this.initPreview(),this.bind(),t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,M(h,i),t.guides||M(h.getElementsByClassName("cropper-dashed"),i),t.center||M(h.getElementsByClassName("cropper-center"),i),t.background&&M(o,"cropper-bg"),t.highlight||M(d,"cropper-invisible"),t.cropBoxMovable&&(M(d,"cropper-move"),E(d,"action","all")),t.cropBoxResizable||(M(h.getElementsByClassName("cropper-line"),i),M(h.getElementsByClassName("cropper-point"),i)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),y(t.ready)&&z(e,"ready",t.ready,{once:!0}),O(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),$(this.element,i))}},{key:"uncreate",value:function(){var e=this.element;this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?this.xhr.abort():this.isImg?e.complete?clearTimeout(this.timeout):N(e,"load",this.onStart):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=oe,e}},{key:"setDefaults",value:function(e){k(c,_(e)&&e)}}]),e}();if(k(ne.prototype,ee,te,ae,ie,se,re),e.fn){var le=e.fn.cropper;e.fn.cropper=function(t){for(var a=arguments.length,i=Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var r=void 0;return this.each(function(a,s){var o=e(s),n="destroy"===t,l=o.data("cropper");if(!l){if(n)return;var h=e.extend({},o.data(),e.isPlainObject(t)&&t);l=new ne(s,h),o.data("cropper",l)}if("string"==typeof t){var d=l[t];e.isFunction(d)&&((r=d.apply(l,i))===l&&(r=void 0),n&&o.removeData("cropper"))}}),void 0!==r?r:this},e.fn.cropper.Constructor=ne,e.fn.cropper.setDefaults=ne.setDefaults,e.fn.cropper.noConflict=function(){return e.fn.cropper=le,this}}})(a("7t+N"))},OMPO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("pvjK"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setUser"},[a("div",{staticClass:"setUser-left-tab"},[a("div",{staticClass:"setUser-search"},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"搜索部门、成员",maxlength:30,clearable:""},on:{input:e.searchInputMember},model:{value:e.searchTree,callback:function(t){e.searchTree=t},expression:"searchTree"}}),e._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:"新建部门",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.showAddDep=!0}}})],1)],1),e._v(" "),e.searchTree?a("div",{staticClass:"setUser-reason"},[a("div",{staticClass:"setUser-reasonTitle"},[e._v("成员")]),e._v(" "),a("ul",{staticStyle:{"padding-right":"10px"}},e._l(e.searchUser,function(t,i){return a("li",{class:e.clickSearchUserId===t.id?"active":"",on:{click:function(a){e.clickSearchMember(t)}}},[a("p",[a("span",[e._v(e._s(t.name))])])])})),e._v(" "),0===e.searchUser.length?a("div",{staticClass:"el-tree__empty-block"},[a("span",{staticClass:"el-tree__empty-text"},[e._v("暂无数据")])]):e._e(),e._v(" "),e.searchTree?a("div",{staticClass:"setUser-reasonTitle"},[e._v("部门")]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"setUser-tree"},[a("el-tree",{ref:"depTree",attrs:{data:e.depTreeData,"node-key":"id","highlight-current":"","expand-on-click-node":!1,"check-on-click-node":!0,"default-expanded-keys":[e.depTreeData[0].id],"current-node-key":e.depTreeData[0].id,"filter-node-method":e.filterDepTreeNode,draggable:"","allow-drop":e.allowDepDrop},on:{"node-click":e.clickDepTreeNode,"node-drag-start":e.handleDragDepStart,"node-drag-enter":e.handleDragDepEnter,"node-drag-leave":e.handleDragDepLeave,"node-drag-over":e.handleDragDepOver,"node-drag-end":e.handleDragDepEnd,"node-drop":e.handleDepDrop},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,s=t.data;return a("span",{staticClass:"custom-tree-node"},[a("i",{staticClass:"iconfont icon-bumenguanli_h"}),e._v(" "),a("i",{staticClass:"fas fa-ellipsis-v",on:{click:function(t){e.clickGroupHandle(i,s)}}}),e._v(" "),a("span",[e._v(e._s(i.label))])])}}])})],1)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading.target",value:e.loading,expression:"loading",modifiers:{target:!0}}],staticClass:"setUser-content scrollbar"},[e.showUserTable?a("div",{staticClass:"setUser-content-div setUser-table"},[a("div",{staticClass:"setUser-table-title"},[a("b",[e._v("销售部("+e._s(e.userTableTotal)+"人)")]),e._v(" "),a("div",{staticClass:"setUser-table-title__btn"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addUserBtn}},[e._v("添加用户")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAddComplex=!0}}},[e._v("批量导入")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.modalMove}},[e._v("设置所在部门")]),e._v(" "),a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.delVisible,callback:function(t){e.delVisible=t},expression:"delVisible"}},[a("p",[e._v("是否删除选中的成员？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.delVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.delVisible=!1,e.clickDelCheckUesr()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{staticStyle:{padding:"9px","margin-left":"10px"},attrs:{slot:"reference",type:"primary",icon:"el-icon-delete"},on:{click:function(t){e.delVisible=!e.delVisible}},slot:"reference"},[e._v("删除")])],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"刷新",placement:"bottom"}},[a("el-button",{staticStyle:{padding:"9px","margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.refreshBtn}},[e._v("刷新")])],1)],1)]),e._v(" "),a("el-table",{ref:"userTable",staticStyle:{width:"100%"},attrs:{data:e.userTableData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"",width:"20"}}),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"userTableName",on:{click:function(a){e.clickName(t.row.id)}}},[a("img",{attrs:{src:t.row.avatar,alt:""}}),e._v(" "),a("span",{class:{spanDisable:"0"===t.row.is_disable}},[e._v(e._s(t.row.name))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"dep",label:"部门","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机","min-width":"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"loginDate",label:"最后登录时间","min-width":"150"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text",size:"small"},on:{click:function(a){e.clickTableEdit(t.row.id)}}},[e._v("编辑")]),e._v(" "),a("el-popover",{attrs:{"popper-class":"userPopover"+t.row.id,placement:"top",width:"160"},model:{value:t.row.visible,callback:function(a){e.$set(t.row,"visible",a)},expression:"scope.row.visible"}},[a("p",[e._v("是否删除此用户")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.row.visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.row.visible=!1,e.clickDelUser(t.$index,t.row)}}},[e._v("确定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text",size:"small"},on:{click:function(a){t.row.visible=!t.row.visible,e.delPopover("user",t.row.id)}},slot:"reference"},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.userTableCurrentPage,"page-sizes":[100,200,300,400],"page-size":e.userTablePageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.userTableTotal},on:{"size-change":e.userTableHandleSizeChange,"current-change":e.userTableHandleCurrentChange}})],1):e._e(),e._v(" "),e.showUserBox?a("div",{staticClass:"setUser-content-div setUser-userBox"},[a("p",{staticClass:"setGroups-title"},[e._v("成员详情")]),e._v(" "),a("div",{staticClass:"setGroups-title-btn"},[a("el-button",{on:{click:function(t){e.clickBack("detail")}}},[e._v("<< 返回")]),e._v(" "),a("el-button",{on:{click:e.clickEdit}},[e._v("编辑")]),e._v(" "),a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.disVisible,callback:function(t){e.disVisible=t},expression:"disVisible"}},[a("p",{domProps:{textContent:e._s("1"===e.userDetails.isDisable?"是否确定启用该用户？":"是否确定禁用该用户？")}}),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.disVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.disVisible=!1,e.clickDisable()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference"},domProps:{textContent:e._s("1"===e.userDetails.isDisable?"启用":"禁用")},on:{click:function(t){e.disVisible=!e.disVisible}},slot:"reference"})],1),e._v(" "),a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.detailDelVisible,callback:function(t){e.detailDelVisible=t},expression:"detailDelVisible"}},[a("p",[e._v("是否确定删除该用户？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.detailDelVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.detailDelVisible=!1,e.clickDel()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference"},on:{click:function(t){e.detailDelVisible=!e.detailDelVisible}},slot:"reference"},[e._v("删除")])],1)],1),e._v(" "),a("div",{staticClass:"setGroups-userItem"},[a("div",{},[a("div",{staticClass:"imgBox"},[a("img",{attrs:{src:""!==e.userDetails.userAvatar?e.userDetails.userAvatar:"../../../static/image/avatar_gray.jpg",alt:""}})]),e._v(" "),a("div",{},[a("p",[e._v(e._s(e.userDetails.userName)),a("i",{staticClass:"fas fa-user",style:{color:"0"===e.userDetails.userSex?"#F06379":"#11A1F7"}}),1===e.userDetails.isDisable?a("b",[a("i",{staticClass:"fas fa-ban"}),e._v("已禁用")]):e._e()]),e._v(" "),a("h5",[e._v("英文名："+e._s(e.userDetails.en_name))]),e._v(" "),a("h5",[e._v("账号："+e._s(e.userDetails.userAccount))])])]),e._v(" "),a("div",{},[a("h6",[e._v("手机："),a("b",[e._v(e._s(e.userDetails.userPhone))])]),e._v(" "),a("h6",[e._v("座机："),a("b",[e._v(e._s(e.userDetails.userTel))])]),e._v(" "),a("h6",[e._v("邮箱："),a("b",[e._v(e._s(e.userDetails.userEmail))])]),e._v(" "),a("h6",[e._v("QQ："),a("b",[e._v(e._s(e.userDetails.userQq))])]),e._v(" "),a("h6",[e._v("微信："),a("b",[e._v(e._s(e.userDetails.userWechat))])]),e._v(" "),a("h6",[e._v("微信二维码："),a("b",[a("img",{staticStyle:{display:"block","margin-top":"10px"},attrs:{src:""!==e.userDetails.userWechatCode?e.userDetails.userWechatCode:"../../../static/image/avatar_gray.jpg",alt:""}})])]),e._v(" "),a("h6",[e._v("企业微信二维码："),a("b",[a("img",{staticStyle:{display:"block","margin-top":"10px"},attrs:{src:""!==e.userDetails.userQYWechatCode?e.userDetails.userQYWechatCode:"../../../static/image/avatar_gray.jpg",alt:""}})])])]),e._v(" "),a("div",{},[a("h6",[e._v("部门：\n            "),a("s",e._l(e.userDetails.userDep,function(t){return a("el-tag",{key:t.key,attrs:{type:"primary"}},[e._v("\n              "+e._s(t.name)+"\n              ")])}))]),e._v(" "),a("h6",[e._v("标签：\n            "),a("b",e._l(e.userDetails.userTag,function(t){return a("el-tag",{key:t.key,attrs:{type:"primary"}},[e._v("\n              "+e._s(t.name)+"\n              ")])}))]),e._v(" "),a("h6",[e._v("角色：\n            "),a("b",e._l(e.userDetails.userRole,function(t){return a("el-tag",{key:t.key,attrs:{type:"primary"}},[e._v("\n              "+e._s(t.name)+"\n              ")])}))]),e._v(" "),a("h6",[e._v("职位："),a("b",[e._v(e._s(e.userDetails.userPosi))])]),e._v(" "),a("h6",[e._v("用户介绍："),a("b",[e._v(e._s(e.userDetails.userInfo))])]),e._v(" "),a("h6",[e._v("登录权限："),a("b",[e.userDetails.messageCheckText?a("span",[e._v(e._s(e.userDetails.messageCheckText)+";")]):e._e(),e.userDetails.ipCheckText?a("span",[e._v(e._s(e.userDetails.ipCheckText)+";")]):e._e(),e.userDetails.loginIp?a("span",[e._v("("+e._s(e.userDetails.loginIp)+")")]):e._e()])])])])]):e._e(),e._v(" "),e.showInputBox?a("div",{staticClass:"setUser-content-div setUser-inputBox"},[a("p",{staticClass:"setGroups-title"},[e._v(e._s(e.isEditUser?"编辑成员":"添加成员"))]),e._v(" "),a("div",{staticClass:"setGroups-title-btn"},[e.isEditUser?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.clickSaveMore}},[e._v("保存并继续添加")]),a("el-button",{on:{click:e.clickSave}},[e._v("保存")]),a("el-button",{on:{click:function(t){e.clickBack("edit")}}},[e._v("取消")])],1),e._v(" "),a("div",{staticClass:"setGroups-inputItem"},[a("el-form",{ref:"addUserForm",attrs:{model:e.addUserForm,rules:e.addUserRules,"label-width":"110px"}},[a("div",{},[a("div",{staticClass:"uploadImgBox",on:{click:function(t){e.showAddAvatarModal=!0}}},[e.addUserForm.addAvartBase64?e._e():a("i",{staticClass:"fas fa-user"}),e._v(" "),e.addUserForm.addAvartBase64?a("img",{attrs:{src:e.addUserForm.addAvartBase64,alt:""}}):e._e(),e._v(" "),a("p",[a("i",{staticClass:"fas fa-camera"})])]),e._v(" "),a("div",{},[a("el-form-item",{attrs:{prop:"userName",label:""}},[a("el-input",{attrs:{placeholder:"姓名",maxlength:8},model:{value:e.addUserForm.userName,callback:function(t){e.$set(e.addUserForm,"userName",t)},expression:"addUserForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"en_name"}},[a("el-input",{attrs:{placeholder:"英文名",maxlength:18},model:{value:e.addUserForm.en_name,callback:function(t){e.$set(e.addUserForm,"en_name",t)},expression:"addUserForm.en_name"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"账号",prop:"userAccount"}},[a("el-input",{attrs:{placeholder:"成员唯一标识，设定以后不支持修改",disabled:e.isEditUser,maxlength:18},model:{value:e.addUserForm.userAccount,callback:function(t){e.$set(e.addUserForm,"userAccount",t)},expression:"addUserForm.userAccount"}})],1),e._v(" "),e.isEditUser?e._e():a("el-form-item",{attrs:{label:"密码",prop:"pass"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码",disabled:e.isRand},model:{value:e.addUserForm.pass,callback:function(t){e.$set(e.addUserForm,"pass",t)},expression:"addUserForm.pass"}}),e._v(" "),e.passLevel>1?a("p",{staticClass:"passTip"},[e._v(e._s(e.passTip))]):e._e()],1),e._v(" "),e.isEditUser?e._e():a("el-form-item",{staticClass:"checkPass",attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",placeholder:"请再次输入密码",disabled:e.isRand},model:{value:e.addUserForm.checkPass,callback:function(t){e.$set(e.addUserForm,"checkPass",t)},expression:"addUserForm.checkPass"}}),e._v(" "),e.isEditUser?e._e():a("div",{staticClass:"changePwd"},[e.isRand?e._e():a("span",{on:{click:e.makeRandomPwd}},[e._v("点击生成随机密码")]),e._v(" "),e.isRand?a("span",{on:{click:e.makeManualPwd}},[e._v("返回手动输入密码")]):e._e()])],1),e._v(" "),e.isEditUser?a("el-form-item",{attrs:{label:"重置密码"}},[a("span",{staticClass:"clickPsw",on:{click:e.clickPsw}},[e._v("点击重置密码")])]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"userSex"}},[a("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.addUserForm.userSex,callback:function(t){e.$set(e.addUserForm,"userSex",t)},expression:"addUserForm.userSex"}},[e._v("男")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.addUserForm.userSex,callback:function(t){e.$set(e.addUserForm,"userSex",t)},expression:"addUserForm.userSex"}},[e._v("女")])],1)],1),e._v(" "),a("div",{},[a("el-form-item",{attrs:{label:"手机",prop:"userPhone"}},[a("el-input",{attrs:{maxlength:11},model:{value:e.addUserForm.userPhone,callback:function(t){e.$set(e.addUserForm,"userPhone",t)},expression:"addUserForm.userPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"座机",prop:"userTel"}},[a("el-input",{attrs:{maxlength:15},model:{value:e.addUserForm.userTel,callback:function(t){e.$set(e.addUserForm,"userTel",t)},expression:"addUserForm.userTel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"userEmail"}},[a("el-input",{model:{value:e.addUserForm.userEmail,callback:function(t){e.$set(e.addUserForm,"userEmail",t)},expression:"addUserForm.userEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ",prop:"userQq"}},[a("el-input",{attrs:{maxlength:18},model:{value:e.addUserForm.userQq,callback:function(t){e.$set(e.addUserForm,"userQq",t)},expression:"addUserForm.userQq"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信",prop:"userWechat"}},[a("el-input",{attrs:{maxlength:20},model:{value:e.addUserForm.userWechat,callback:function(t){e.$set(e.addUserForm,"userWechat",t)},expression:"addUserForm.userWechat"}})],1),e._v(" "),a("el-form-item",{staticClass:"upload-wechatcode"},[a("label",{staticClass:"el-form-item__label"},[e._v("微信二维码")]),e._v(" "),a("el-upload",{ref:"wechatCode",staticClass:"upload-demo",attrs:{action:"","on-change":e.handleWechatCodeChange,"file-list":e.addUserForm.wechatCode,"auto-upload":!1,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("请选择图片上传")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"upload-QYWechatcode"},[a("label",{staticClass:"el-form-item__label"},[e._v("企业微信二维码")]),e._v(" "),a("el-upload",{ref:"QYWechatCode",staticClass:"upload-demo",attrs:{action:"","on-change":e.handleWechatCodeChange,"file-list":e.addUserForm.QYWechatCode,"auto-upload":!1,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("请选择图片上传")])],1)],1)],1),e._v(" "),a("div",{},[a("el-form-item",{staticClass:"my-transfer",attrs:{label:"分组",prop:"group"}},[e._l(e.transferGroupItem,function(t){return a("el-tag",{key:t.key,attrs:{closable:!0,type:"primary"},on:{close:function(a){e.handleGroupClose(t)}}},[e._v("\n              "+e._s(t.name)+"\n              ")])}),e._v(" "),a("b",{on:{click:function(t){e.clickTransfer("group")}}},[e._v("修改")])],2),e._v(" "),a("el-form-item",{staticClass:"my-transfer",attrs:{label:"标签",prop:"tag"}},[e._l(e.transferTagItem,function(t){return a("el-tag",{key:t.key,attrs:{closable:!0,type:"primary"},on:{close:function(a){e.handleTagClose(t)}}},[e._v("\n              "+e._s(t.name)+"\n              ")])}),e._v(" "),a("b",{on:{click:function(t){e.clickTransfer("tags")}}},[e._v("修改")])],2),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"userRole"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.addUserForm.userRole,callback:function(t){e.$set(e.addUserForm,"userRole",t)},expression:"addUserForm.userRole"}},e._l(e.userRoleOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"职位",prop:"userPosi"}},[a("el-input",{attrs:{maxlength:13},model:{value:e.addUserForm.userPosi,callback:function(t){e.$set(e.addUserForm,"userPosi",t)},expression:"addUserForm.userPosi"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请输入用户描述",prop:"userInfo"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入用户描述"},model:{value:e.addUserForm.userInfo,callback:function(t){e.$set(e.addUserForm,"userInfo",t)},expression:"addUserForm.userInfo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录权限"}},[a("el-checkbox",{model:{value:e.messageCheck,callback:function(t){e.messageCheck=t},expression:"messageCheck"}},[e._v("开启手机验证")]),e._v(" "),a("el-checkbox",{model:{value:e.ipCheck,callback:function(t){e.ipCheck=t},expression:"ipCheck"}},[e._v("开启授权IP")])],1),e._v(" "),e.ipCheck?a("el-form-item",{attrs:{prop:"loginIp"}},[a("el-input",{attrs:{placeholder:"请输入ip地址"},model:{value:e.addUserForm.loginIp,callback:function(t){e.$set(e.addUserForm,"loginIp",t)},expression:"addUserForm.loginIp"}})],1):e._e()],1)])],1)]):e._e()]),e._v(" "),e.showOverlayClick?a("div",{staticClass:"haigui-overlay_click",on:{click:e.clickHiddenMask}}):e._e(),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.showGroupHandle,expression:"showGroupHandle"}],staticClass:"groupsHandle"},[e.checkTreeNode.level<3?a("li",{on:{click:function(t){e.appendDep("add")}}},[e._v("添加子部门")]):e._e(),e._v(" "),a("li",{on:{click:function(t){e.appendDep("edit")}}},[e._v("修改")]),e._v(" "),a("li",{on:{click:e.delDep}},[e._v("删除")]),e._v(" "),a("p",[e._v("部门ID："+e._s(e.checkTreeData.id))])]),e._v(" "),e.showConfirmDelDep?a("v-confirmModal",{attrs:{titleMsg:"删除部门",contentMsg:"确认要删除此部门吗?"},on:{close:e.cancelConfirm,confirm:e.confirmDelDep}}):e._e(),e._v(" "),e.showOverlay?a("div",{staticClass:"overlay"}):e._e(),e._v(" "),a("el-dialog",{attrs:{width:"400px",title:"新建部门",visible:e.showAddDep},on:{"update:visible":function(t){e.showAddDep=t},close:function(t){e.closeDepModal("depAddForm")}}},[a("el-form",{ref:"depAddForm",attrs:{model:e.depAddForm,rules:e.depAddRules,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"部门名称",prop:"title"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入部门名称"},model:{value:e.depAddForm.title,callback:function(t){e.$set(e.depAddForm,"title",t)},expression:"depAddForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"添加到",prop:"dep"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择添加到的部门"},model:{value:e.depAddForm.dep,callback:function(t){e.$set(e.depAddForm,"dep",t)},expression:"depAddForm.dep"}},e._l(e.depOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.closeDepModal("depAddForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitDepBtn}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"400px",title:e.appendDepTitle,visible:e.showAppendDep},on:{"update:visible":function(t){e.showAppendDep=t},close:function(t){e.closeDepModal("appendDepForm")}}},[a("el-form",{ref:"appendDepForm",attrs:{model:e.appendDepForm,rules:e.depAddRules,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"部门名称",prop:"title"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入部门名称"},model:{value:e.appendDepForm.title,callback:function(t){e.$set(e.appendDepForm,"title",t)},expression:"appendDepForm.title"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.closeDepModal("appendDepForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitAppendDepBtn}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"400px",title:"批量导入",visible:e.showAddComplex},on:{"update:visible":function(t){e.showAddComplex=t},close:function(t){e.closeImportModal("complexAddForm")}}},[a("el-form",{ref:"complexAddForm",staticClass:"complexAddForm",attrs:{model:e.complexAddForm,rules:e.complexAddRules}},[a("el-form-item",{attrs:{label:"01.填写批量导入的用户模板文件"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.clickComplexDownload}},[e._v("下载模板")])],1),e._v(" "),a("el-form-item",{attrs:{label:"02.添加到部门",prop:"dep"}},[a("el-select",{attrs:{placeholder:"请选择部门"},model:{value:e.complexAddForm.dep,callback:function(t){e.$set(e.complexAddForm,"dep",t)},expression:"complexAddForm.dep"}},e._l(e.depOp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"03.上传文件",prop:"complexFile"}},[a("el-upload",{ref:"complexUpload",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleComplexBefore,"auto-upload":!1,"file-list":e.complexAddForm.complexFile}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("点击上传文件")])],1),e._v(" "),a("p",{staticStyle:{"margin-top":"10px","line-height":"20px",color:"#909399"}},[e._v("1、文件格式必须是.csv或.xlsx扩展名")]),e._v(" "),a("p",{staticStyle:{"line-height":"20px",color:"#909399"}},[e._v("2、单个人最多可以同时提交一个大任务（大于10000条），")]),e._v(" "),a("p",{staticStyle:{"line-height":"20px",color:"#909399"}},[e._v("五个小任务（小于10000条）")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.closeImportModal("complexAddForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitComplexBtn}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"600px",title:"上传头像",visible:e.showAddAvatarModal},on:{"update:visible":function(t){e.showAddAvatarModal=t},close:e.cancelAddAvatar}},[a("v-cropper",{ref:"cropper",attrs:{id:"avatarCrop"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancelAddAvatar}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitAddAvatar}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"500px",title:"重置密码",visible:e.showResetPassModal,id:"resetPassModal"},on:{"update:visible":function(t){e.showResetPassModal=t},close:e.cancelResetPass}},[a("el-form",{ref:"resetPassForm",attrs:{model:e.resetPassForm,rules:e.resetPassRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"密码",prop:"pass"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.resetPassForm.pass,callback:function(t){e.$set(e.resetPassForm,"pass",t)},expression:"resetPassForm.pass"}}),e._v(" "),e.passRestLevel>1?a("p",{staticClass:"passTip"},[e._v(e._s(e.passRestTip))]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.resetPassForm.checkPass,callback:function(t){e.$set(e.resetPassForm,"checkPass",t)},expression:"resetPassForm.checkPass"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancelResetPass}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitResetPass}},[e._v("确 定")])],1)],1),e._v(" "),e.showTransferModal?a("v-transfer",{attrs:{transferTitle:e.transferTitle,transferItemTitle:e.transferItemTitle,transferData:e.transferData,transferVal:e.transferVal},on:{close:e.cancelTransfer,saveTransfer:e.saveTransfer}}):e._e()],1)},staticRenderFns:[]};var r=function(e){a("7DCS")},o=a("VU/8")(i.a,s,!1,r,null,null);t.default=o.exports},XCvn:function(e,t){},j3We:function(e,t){},pvjK:function(e,t,a){"use strict";(function(e){var i=a("mvHQ"),s=a.n(i),r=a("gEXf"),o=a("vCQE"),n=a("y4oF"),l=a("NZyr");t.a={data:function(){var e=this,t={pwdReg:/^.{6,25}$/,numReg:/\d/,strReg:/[a-zA-Z]/,tsReg:/[^\u4e00-\u9fa5a-zA-Z0-9]/};function a(e){for(var a=0,i=!0,s=!0,r=!0,o=0;o<e.length;o++)i&&t.numReg.test(e[o])?(a++,i=!1):s&&t.strReg.test(e[o])?(a++,s=!1):r&&t.tsReg.test(e[o])&&(a++,r=!1);return a}return{showAddDep:!1,showOverlay:!1,showOverlayClick:!1,showGroupHandle:!1,showConfirmDelDep:!1,searchTree:"",clickSearchUserId:"",searchUser:[],depOp:[{value:"1",label:"北京海硅信息技术有限公司"},{value:"2",label:"分公司"},{value:"4",label:"技术部"},{value:"5",label:"行政部"},{value:"6",label:"财务部"}],depAddForm:{title:"",dep:""},depAddRules:{title:[{required:!0,message:"请输入部门名称",trigger:"blur"}],dep:[{required:!0,message:"请选择添加到的部门",trigger:"change"}]},checkTreeNode:{level:""},checkTreeData:{id:"",label:""},depTreeData:[{id:1,label:"北京海硅信息技术有限公司",children:[{id:4,label:"技术部",children:[{id:9,label:"shay"},{id:10,label:"刘欣雨"}]}]},{id:2,label:"分公司",children:[{id:5,label:"行政部"},{id:6,label:"财务部"}]}],showAppendDep:!1,appendDepTitle:"添加子部门",appendDepForm:{title:""},appendDepRules:{title:[{required:!0,message:"请输入部门名称",trigger:"blur"}]},loading:!1,delVisible:!1,disVisible:!1,detailDelVisible:!1,showUserTable:!0,showUserBox:!1,isEditUser:!1,showResetPassModal:!1,showInputBox:!1,lockSaveMore:!1,showAddComplex:!1,complexAddForm:{complexFile:[],dep:""},complexAddRules:{},clickDetailId:"",multipleSelection:[],userTableData:[{id:1,avatar:"../../../static/image/avatar_gray.jpg",name:"刘欣雨1",dep:"技术部",phone:"18211103898",createDate:"2018-12-07",loginDate:"2018-12-07",is_disable:"0"},{id:2,avatar:"../../../static/image/avatar_gray.jpg",name:"刘欣雨2",dep:"技术部",phone:"18211103898",createDate:"2018-12-07",loginDate:"2018-12-07",is_disable:"1"},{id:3,avatar:"../../../static/image/avatar_gray.jpg",name:"刘欣雨3",dep:"技术部",phone:"18211103898",createDate:"2018-12-07",loginDate:"2018-12-07",is_disable:"0"}],userDetails:{},addUserForm:{addAvartFormData:null,addAvartBase64:null,userName:"",en_name:"",userAccount:"",pass:"",checkPass:"",userSex:"1",userPhone:"",userTel:"",userEmail:"",userQq:"",userWechat:"",wechatCode:[],QYWechatCode:[],transferGroup:[],transferTag:[],userRole:[],userPosi:"",userInfo:"",loginIp:""},passLevel:0,passTip:"安全强度适中，可以使用三种以上的组合来提高安全强度",messageCheck:!1,ipCheck:!1,addUserRules:{userName:[{required:!0,message:"请输入姓名",trigger:"blur"}],en_name:[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入英文名")):/^[A-Za-z]+$/.test(t)?a():a(new Error("请输入英文"))},trigger:"blur"}],userAccount:[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入账号")):/[\u4e00-\u9fa5]/.test(t)?a(new Error("禁止输入中文")):a()},trigger:"blur"}],pass:[{required:!0,validator:function(i,s,r){if(""===s)e.passLevel=0,r(new Error("请输入密码"));else if(t.pwdReg.test(s)){switch(e.passLevel=a(s),e.passLevel){case 1:r(new Error("密码强度较弱,请使用字母、数字和符号两种及以上组合再提交信息"));break;case 2:e.passTip="安全强度适中，可以使用三种以上的组合来提高安全强度",r();break;case 3:e.passTip="安全强度较高，你的密码很安全",r()}""!==e.addUserForm.checkPass&&e.$refs.addUserForm.validateField("checkPass")}else e.passLevel=0,r(new Error("密码长度应在6-25个字符之间"))},trigger:"blur"}],checkPass:[{required:!0,validator:function(t,a,i){""===a?i(new Error("请再次输入密码")):a!==e.addUserForm.pass?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"}],userSex:[],userPhone:[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入手机号")):/^[1][3,4,5,6,7,8][0-9]{9}$/.test(t)?a():a(new Error("请输入正确的手机号"))},trigger:"blur"}],userTel:[{validator:function(e,t,a){""===t?a():/^(\d{3}-\d{8}|\d{4}-\d{7}|\d{4}-\d{8})$/.test(t)?a():a(new Error("请输入正确的座机(需要区号并带“-”符号)"))},trigger:"blur"}],userEmail:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],userQq:[{validator:function(e,t,a){""===t?a():/^[0-9]+$/.test(t)?a():a(new Error("请输入正确QQ号码"))},trigger:"blur"}],userWechat:[{validator:function(e,t,a){""===t?a():/[\u4e00-\u9fa5]/.test(t)?a(new Error("禁止输入中文")):a()},trigger:"blur"}],group:[],tag:[],userRole:[{required:!0,validator:function(e,t,a){t.length<1?a(new Error("请选择角色")):a()},trigger:"change"}],userPosi:[{required:!0,message:"请输入职位",trigger:"blur"}],userInfo:[],loginIp:[{required:!0,validator:function(e,t,a){""===t?a(new Error("请输入ip地址")):/(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d|\*)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d|\*)/.test(t)?a():a(new Error("请输入正确ip地址"))},trigger:"blur"}]},showAddAvatarModal:!1,showTransferModal:!1,transferTitle:"选择成员所在组11",transferItemTitle:["未选中的部门1","已选中的部门2"],transferData:[],transferVal:[],transferGroupData:[],transferTagData:[],transferGroupItem:[],transferTagItem:[],homeTransfer:!1,resetPassForm:{pass:"",checkPass:""},passRestLevel:0,passRestTip:"安全强度适中，可以使用三种以上的组合来提高安全强度",resetPassRules:{pass:[{required:!0,validator:function(i,s,r){if(""===s)r(new Error("请输入密码"));else if(t.pwdReg.test(s)){switch(e.passRestLevel=a(s),e.passRestLevel){case 1:r(new Error("密码强度较弱,请使用字母、数字和符号两种及以上组合再提交信息"));break;case 2:e.passRestTip="安全强度适中，可以使用三种以上的组合来提高安全强度",r();break;case 3:e.passRestTip="安全强度较高，你的密码很安全",r()}""!==e.resetPassForm.checkPass&&e.$refs.resetPassForm.validateField("checkPass")}else e.passRestLevel=0,r(new Error("密码长度应在6-25个字符之间"))},trigger:"blur"}],checkPass:[{required:!0,validator:function(t,a,i){""===a?i(new Error("请再次输入密码")):a!==e.resetPassForm.pass?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"}]},isRand:!1,userRoleOp:[],userTableTotal:5,userTableCurrentPage:2,userTablePageSize:100}},watch:{searchTree:function(e){this.$refs.depTree.filter(e),e?(this.searchUser=[{id:1,name:"刘欣雨"},{id:2,name:"刘欣雨2"}],this.clickSearchUserId=this.searchUser[0].id,this.$refs.depTree.setCurrentKey(null)):(this.searchUser=[],this.clickSearchUserId="",this.$refs.depTree.setCurrentKey(this.depTreeData[0].id))}},mounted:function(){this.showSelectRole()},methods:{searchInputMember:function(){},clickSearchMember:function(e){this.clickSearchUserId=e.id},submitDepBtn:function(){var e=this;this.$refs.depAddForm.validate(function(t){if(t){var a=JSON.parse(s()(e.depAddForm)),i=e.$refs.depTree.getNode(a.dep),r={id:89,label:a.title,children:[]};i.data.children||e.$set(i.data,"children",[]),i.data.children.push(r),e.closeDepModal("depAddForm")}})},closeDepModal:function(e){this.showAddDep=!1,this.showAppendDep=!1,this.$refs[e].resetFields()},clickGroupHandle:function(t,a){var i=event.target.getBoundingClientRect();e(".groupsHandle").css("top",i.top),e(".groupsHandle").css("left",i.left+30),this.checkTreeNode=t,this.checkTreeData=a,this.showOverlayClick=!0,this.showGroupHandle=!0},clickHiddenMask:function(){this.showOverlayClick=!1,this.showGroupHandle=!1},appendDep:function(e){if("add"===e)this.appendDepTitle="添加子部门",this.appendDepForm={title:""};else if("edit"===e){this.appendDepTitle="修改部门名称";var t=JSON.parse(s()(this.checkTreeData));this.appendDepForm={id:t.id,title:t.label}}this.showAppendDep=!0,this.showGroupHandle=!1,this.showOverlayClick=!1},submitAppendDepBtn:function(){var e=this;this.$refs.appendDepForm.validate(function(t){if(t){var a=JSON.parse(s()(e.appendDepForm));if("添加子部门"===e.appendDepTitle){var i={id:55,label:a.title,children:[]};e.checkTreeData.children||e.$set(e.checkTreeData,"children",[]),e.checkTreeData.children.push(i)}else"修改部门名称"===e.appendDepTitle&&(e.checkTreeData.label=a.title);e.closeDepModal("appendDepForm")}})},delDep:function(){this.checkTreeNode.childNodes.length>0?this.$message.error("请先删除此部门下的子部门"):(this.showConfirmDelDep=!0,this.showOverlay=!0),this.showGroupHandle=!1,this.showOverlayClick=!1},confirmDelDep:function(){this.checkTreeNode.remove(this.checkTreeData),this.$message.success("删除成功"),this.cancelConfirm()},cancelConfirm:function(){this.showConfirmDelDep=!1,this.showOverlay=!1},filterDepTreeNode:function(e,t){return!e||-1!==t.label.indexOf(e)},clickDepTreeNode:function(e){this.clickSearchUserId=""},handleDragDepStart:function(e,t){},handleDragDepEnter:function(e,t,a){},handleDragDepLeave:function(e,t,a){},handleDragDepOver:function(e,t,a){},handleDragDepEnd:function(e,t,a,i){},handleDepDrop:function(e,t,a,i){},forDepTreeData:function(e){return!!e&&e.length>0},recDepTreeData:function(e){if(!e)return!1;if(!(e.length>0))return!1;for(var t=0;t<e.length;t++)if(e[t].children&&e[t].children.length>0)return!0;return t!==e.length&&void 0},allowDepDrop:function(e,t,a){var i=this.forDepTreeData(e.data.children),s=this.recDepTreeData(e.data.children),r="prev"!==a&&"next"!==a&&"inner"!==a;return 3===t.level?i?r:"inner"!==a:2===t.level?i&&s?r:!i||"inner"!==a:1===t.level?!s||"inner"!==a:void 0},clearAddModel:function(){var e=this;this.$nextTick(function(){e.$refs.addUserForm.resetFields()}),this.addUserForm.addAvartFormData=null,this.addUserForm.addAvartBase64=null,this.addUserForm.userName="",this.addUserForm.en_name="",this.addUserForm.userAccount="",this.addUserForm.userSex="1",this.addUserForm.userPhone="",this.addUserForm.userTel="",this.addUserForm.userEmail="",this.addUserForm.userQq="",this.addUserForm.userWechat="",this.addUserForm.wechatCode=[],this.addUserForm.QYWechatCode=[],this.addUserForm.transferGroup=[],this.addUserForm.transferTag=[],this.addUserForm.userRole=[],this.addUserForm.userPosi="",this.addUserForm.userInfo="",this.addUserForm.loginIp="",this.messageCheck=!1,this.ipCheck=!1,this.transferGroupItem=[],this.transferTagItem=[]},showRightMember:function(){this.userTableData=[{id:1,avatar:"../../../static/image/avatar_gray.jpg",name:"刘欣雨1",dep:"技术部",phone:"18211103898",createDate:"2018-12-07",loginDate:"2018-12-07",is_disable:"0"},{id:2,avatar:"../../../static/image/avatar_gray.jpg",name:"刘欣雨2",dep:"技术部",phone:"18211103898",createDate:"2018-12-07",loginDate:"2018-12-07",is_disable:"1"},{id:3,avatar:"../../../static/image/avatar_gray.jpg",name:"刘欣雨3",dep:"技术部",phone:"18211103898",createDate:"2018-12-07",loginDate:"2018-12-07",is_disable:"0"}]},handleSelectionChange:function(e){this.multipleSelection=e},addUserBtn:function(){this.isEditUser=!1,this.showUserTable=!1,this.showInputBox=!0,this.clearAddModel()},closeImportModal:function(e){this.showAddComplex=!1,this.$refs[e].resetFields()},submitComplexBtn:function(){var e=this;this.$refs.complexAddForm.validate(function(t){if(t)if(0===e.$refs.complexUpload.uploadFiles.length)e.$message.warning("请上传文件");else{var a=JSON.parse(s()(e.complexAddForm)),i=new FormData,r=e.$refs.complexUpload.uploadFiles[0].raw;i.append("dep",a.dep),i.append("file",r),e.$message.success("批量导入成功"),e.closeImportModal("complexAddForm")}})},clickComplexDownload:function(){var e=document.createElement("a");e.download="批量导入模板",e.style.display="none",e.href="../../../static/image/download.txt",document.body.appendChild(e),e.click(),document.body.removeChild(e)},handleComplexBefore:function(e,t){var a="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.raw.type||"application/vnd.ms-excel"===e.raw.type;return a?(t.length>1&&t.splice(0,1),a):(t.length>1?t.splice(1,1):t.splice(0,1),this.$message.warning("请上传csv或xlsx格式的文件"),!1)},modalMove:function(){if(this.multipleSelection.length>0){this.homeTransfer=!0,this.transferTitle="选择成员所在组",this.transferItemTitle=["未选中的部门","已选中的部门"],this.transferVal=[];this.transferGroupData=[{key:1,label:"部门1"},{key:2,label:"部门2"},{key:3,label:"部门3"}],this.transferData=this.transferGroupData,this.showTransferModal=!0}else this.$message({message:"请选择需要设置的成员",type:"error"})},cancelTransfer:function(){this.transferData=[],this.showTransferModal=!1},saveTransfer:function(e){var t=this,a=[];this.homeTransfer?(this.showTransferModal=!1,this.$message.success("设置成功"),this.showRightMember()):"选择成员所在组"===this.transferTitle?(this.addUserForm.transferGroup=e,e.forEach(function(e,i){for(var s=0;s<t.transferGroupData.length;s++)if(e===t.transferGroupData[s].key){var r={key:t.transferGroupData[s].key,name:t.transferGroupData[s].label};return a.push(r),!1}}),this.transferGroupItem=a):"选择成员所在标签"===this.transferTitle&&(this.addUserForm.transferTag=e,e.forEach(function(e,i){for(var s=0;s<t.transferTagData.length;s++)if(e===t.transferTagData[s].key){var r={key:t.transferTagData[s].key,name:t.transferTagData[s].label};return a.push(r),!1}}),this.transferTagItem=a),this.showTransferModal=!1},handleGroupClose:function(e){var t=this.transferGroupItem.indexOf(e);this.transferGroupItem.splice(t,1),this.addUserForm.transferGroup.splice(t,1)},handleTagClose:function(e){var t=this.transferTagItem.indexOf(e);this.transferTagItem.splice(t,1),this.addUserForm.transferTag.splice(t,1)},clickDelUser:function(e,t){var a=t.id;this.delUserAxios(a,e)},clickDelCheckUesr:function(){if(this.multipleSelection.length>0){var e=[];this.multipleSelection.forEach(function(t,a){e.push(t.id)}),this.delUserAxios(e)}else this.$message.error("请先选择需要删除的成员")},delUserAxios:function(e,t){var a=this;"number"==typeof e?void 0!==t?this.userTableData.splice(t,1):this.showRightMember():(this.userTableData=this.userTableData.filter(function(e){return-1===a.multipleSelection.indexOf(e)}),this.$refs.userTable.clearSelection()),this.$message.success("删除成功")},refreshBtn:function(){this.searchTree="",this.$message.success("刷新成功"),this.$refs.userTable.clearSelection(),this.showRightMember()},clickName:function(e){var t=this;this.loading=!0,this.clickDetailId=e,this.clickShowMember(e),setTimeout(function(){t.showUserTable=!1,t.showUserBox=!0,t.loading=!1},800)},clickShowMember:function(e){this.userDetails={admin_id:"1",userName:"刘欣雨",en_name:"shay",userAvatar:"../../../static/image/avatar_gray.jpg",userAccount:"shay921",userSex:"1",userPhone:"18211103898",userTel:"010-88527628",userEmail:"94010760@qq.com",userQq:"940107600",userWechat:"940107600",userWechatCode:"",userQYWechatCode:"",userInfo:"lalal",userDep:[],userTag:[],userRole:[],userPosi:"前端工程师",isDisable:"0",messageCheck:"",ipCheck:"",loginIp:""}},clickTableEdit:function(e){var t=this;this.loading=!0,this.clickDetailId=e,this.clickShowMember(e),setTimeout(function(){t.clickEdit(),t.showUserTable=!1,t.showInputBox=!0,t.isEditUser=!0,t.loading=!1},800)},userTableHandleSizeChange:function(e){},userTableHandleCurrentChange:function(e){},clickBack:function(e){"detail"===e?(this.showUserTable=!0,this.showUserBox=!1,this.searchTree="",this.showRightMember()):"edit"===e&&(this.isEditUser?(this.showInputBox=!1,this.showUserBox=!0,this.isEditUser=!1):(this.showUserTable=!0,this.showInputBox=!1,this.passLevel=0,this.addUserForm.pass="",this.addUserForm.checkPass="",this.showRightMember()))},clickEdit:function(){var e=this;this.addUserForm=JSON.parse(s()(this.userDetails)),this.addUserForm.addAvartFormData=null,this.addUserForm.pass="",this.addUserForm.checkPass="",this.addUserForm.addAvartBase64=this.userDetails.userAvatar,""===this.addUserForm.addAvartBase64&&(this.addUserForm.addAvartBase64="");var t=[];this.userDetails.userDep.forEach(function(e,a){t.push(e.key)}),this.addUserForm.transferGroup=t;var a=[];if(this.userDetails.userTag.forEach(function(e,t){a.push(e.key)}),this.addUserForm.transferTag=a,this.transferGroupItem=this.userDetails.userDep,this.transferTagItem=this.userDetails.userTag,this.addUserForm.wechatCode=[],this.addUserForm.QYWechatCode=[],""!==this.userDetails.userWechatCode){var i={name:"微信二维码",url:this.userDetails.userWechatCode};this.addUserForm.wechatCode.push(i)}if(""!==this.userDetails.userQYWechatCode){var r={name:"企业微信二维码",url:this.userDetails.userQYWechatCode};this.addUserForm.QYWechatCode.push(r)}this.addUserForm.userRole=[],this.userDetails.userRole.forEach(function(t,a){e.addUserForm.userRole.push(t.key)}),null===this.addUserForm.userQq&&(this.addUserForm.userQq=""),this.messageCheck=this.userDetails.messageCheck,this.ipCheck=this.userDetails.ipCheck,this.addUserForm.loginIp=this.userDetails.loginIp,this.showInputBox=!0,this.showUserBox=!1,this.isEditUser=!0},clickDel:function(){this.delUserAxios(this.clickDetailId),this.showUserTable=!0,this.showUserBox=!1,this.searchTree="",this.clickSearchUserId="",this.$refs.depTree.setCurrentKey(this.depTreeData[0].id)},clickDisable:function(){"1"===this.userDetails.isDisable?(this.userDetails.isDisable="0",this.disbaleAxios(this.clickDetailId,"启用成功")):(this.userDetails.isDisable="1",this.disbaleAxios(this.clickDetailId,"禁用成功"))},disbaleAxios:function(e,t){this.$message.success(t)},saveAxios:function(){var e,t,a,i=this,s=new FormData,r="",o=void 0,n=void 0;null!==this.addUserForm.addAvartFormData?r=this.addUserForm.addAvartFormData:""!==this.addUserForm.addAvartBase64&&(r=this.addUserForm.addAvartBase64),o=0===this.$refs.wechatCode.uploadFiles.length?"":"success"===this.$refs.wechatCode.uploadFiles[0].status?this.addUserForm.wechatCode[0].url:this.$refs.wechatCode.uploadFiles[0].raw,n=0===this.$refs.QYWechatCode.uploadFiles.length?"":"success"===this.$refs.QYWechatCode.uploadFiles[0].status?this.addUserForm.QYWechatCode[0].url:this.$refs.QYWechatCode.uploadFiles[0].raw,e=this.messageCheck?1:0,this.ipCheck?(t=1,a=this.addUserForm.loginIp):(t=0,a=""),s.append("name",this.addUserForm.userName),s.append("en_name",this.addUserForm.en_name),s.append("user_name",this.addUserForm.userAccount),s.append("user_face",r),s.append("user_sex",this.addUserForm.userSex),s.append("user_pass",this.addUserForm.pass),s.append("user_pass_confirm",this.addUserForm.checkPass),s.append("mobile_phone",this.addUserForm.userPhone),s.append("phone",this.addUserForm.userTel),s.append("email",this.addUserForm.userEmail),s.append("user_qq",this.addUserForm.userQq),s.append("user_weixin",this.addUserForm.userWechat),s.append("group",this.addUserForm.transferGroup),s.append("tag",this.addUserForm.transferTag),s.append("role",this.addUserForm.userRole),s.append("appointment",this.addUserForm.userPosi),s.append("user_info",this.addUserForm.userInfo),s.append("user_weixin_code",o),s.append("qiye_weixin_code",n),s.append("message_check",e),s.append("ip_check",t),s.append("login_ip_table",a),this.isRand?s.append("is_rand",1):s.append("is_rand",0),this.loading=!0,this.lockSaveMore?setTimeout(function(){i.clearAddModel(),i.loading=!1},800):setTimeout(function(){i.showUserTable=!0,i.showInputBox=!1,i.showUserBox=!1,i.loading=!1,i.currentPage=1,i.passLevel=0,i.showRightMember()},800),this.isRand=!1,this.addUserForm.pass="",this.addUserForm.checkPass="",this.$message({message:"保存成功",type:"success"})},clickSave:function(){var e=this;this.$refs.addUserForm.validate(function(t){if(t)if(e.isEditUser){var a,i,s,r=new FormData,o="",n=void 0,l=void 0;null!==e.addUserForm.addAvartFormData?o=e.addUserForm.addAvartFormData:""!==e.addUserForm.addAvartBase64&&(o=e.addUserForm.addAvartBase64),n=0===e.$refs.wechatCode.uploadFiles.length?"":"success"===e.$refs.wechatCode.uploadFiles[0].status?e.addUserForm.wechatCode[0].url:e.$refs.wechatCode.uploadFiles[0].raw,l=0===e.$refs.QYWechatCode.uploadFiles.length?"":"success"===e.$refs.QYWechatCode.uploadFiles[0].status?e.addUserForm.QYWechatCode[0].url:e.$refs.QYWechatCode.uploadFiles[0].raw,a=e.messageCheck?1:0,e.ipCheck?(i=1,s=e.addUserForm.loginIp):(i=0,s=""),r.append("admin_id",e.clickDetailId),r.append("name",e.addUserForm.userName),r.append("en_name",e.addUserForm.en_name),r.append("user_face",o),r.append("user_sex",e.addUserForm.userSex),r.append("mobile_phone",e.addUserForm.userPhone),r.append("phone",e.addUserForm.userTel),r.append("email",e.addUserForm.userEmail),r.append("user_qq",e.addUserForm.userQq),r.append("user_weixin",e.addUserForm.userWechat),r.append("group",e.addUserForm.transferGroup),r.append("tag",e.addUserForm.transferTag),r.append("role",e.addUserForm.userRole),r.append("appointment",e.addUserForm.userPosi),r.append("user_info",e.addUserForm.userInfo),r.append("user_weixin_code",n),r.append("qiye_weixin_code",l),r.append("message_check",a),r.append("ip_check",i),r.append("login_ip_table",s),e.$message({message:"保存成功",type:"success"}),e.loading=!0,setTimeout(function(){e.showInputBox=!1,e.showUserBox=!0,e.loading=!1},800),e.clickShowMember(e.clickDetailId)}else e.lockSaveMore=!1,e.saveAxios()})},clickSaveMore:function(){var e=this;this.lockSaveMore=!0,this.$refs.addUserForm.validate(function(t){t&&e.saveAxios()})},cancelAddAvatar:function(){this.showAddAvatarModal=!1,this.$refs.cropper.cropDone()},submitAddAvatar:function(){var e=this.$refs.cropper.ajaxUpload(),t=this.dataURLtoFile(e.base64,"avatar.jpg");this.addUserForm.addAvartFormData=t,this.addUserForm.addAvartBase64=e.base64,this.showAddAvatarModal=!1,this.$refs.cropper.cropDone()},dataURLtoFile:function(e,t){for(var a=e.split(","),i=a[0].match(/:(.*?);/)[1],s=atob(a[1]),r=s.length,o=new Uint8Array(r);r--;)o[r]=s.charCodeAt(r);return new File([o],t,{type:i})},handleWechatCodeChange:function(e,t){var a="image/jpeg"===e.raw.type||"image/gif"===e.raw.type||"image/png"===e.raw.type,i=e.raw.size/1024/1024<2;return a||(t.length>1?t.splice(1,1):t.splice(0,1),this.$message({message:"上传二维码只能是 JPG GIF PNG 格式!",type:"error"})),i||(t.length>1?t.splice(1,1):t.splice(0,1),this.$message({message:"上传二维码大小不能超过 2MB!",type:"error"})),a&&i&&t.length>1&&t.splice(0,1),a&&i},clickPsw:function(){this.showResetPassModal=!0},cancelResetPass:function(){this.$refs.resetPassForm.resetFields(),this.passRestLevel=0,this.showResetPassModal=!1},submitResetPass:function(){var e=this;this.$refs.resetPassForm.validate(function(t){if(t){JSON.parse(s()(e.resetPassForm));e.$refs.resetPassForm.resetFields(),e.passRestLevel=0,e.showResetPassModal=!1,e.$message({message:"重置成功",type:"success"})}})},makeRandomPwd:function(){this.isRand=!0,this.addUserForm.pass="123456",this.addUserForm.checkPass="123456"},makeManualPwd:function(){this.isRand=!1,this.addUserForm.pass="",this.addUserForm.checkPass=""},showSelectRole:function(){this.userRoleOp=[{value:1,label:"管理员"},{value:2,label:"员工"}]},clickTransfer:function(e){if(this.showTransferModal=!0,this.homeTransfer=!1,"group"===e){this.transferTitle="选择成员所在组",this.transferItemTitle=["未选中的部门","已选中的部门"],this.transferVal=this.addUserForm.transferGroup;this.transferGroupData=[{key:1,label:"部门1"},{key:2,label:"部门2"},{key:3,label:"部门3"}],this.transferData=this.transferGroupData}else if("tags"===e){this.transferTitle="选择成员所在标签",this.transferItemTitle=["未选中的标签","已选中的标签"],this.transferVal=this.addUserForm.transferTag;this.transferTagData=[{key:1,label:"部门1"},{key:2,label:"部门2"},{key:3,label:"部门3"}],this.transferData=this.transferTagData}},delPopover:l.d},components:{"v-confirmModal":r.a,"v-cropper":o.a,"v-transfer":n.a}}}).call(t,a("7t+N"))},vCQE:function(e,t,a){"use strict";var i=a("7t+N"),s=a.n(i),r=(a("El2O"),{props:{id:String},data:function(){return{$container:null,$avatarView:null,$avatarModal:null,$loading:null,$avatarForm:null,$avatarUpload:null,$avatarSrc:null,$avatarData:null,$avatarInput:null,$avatarSave:null,$avatarBtns:null,$avatarWrapper:null,$avatarPreview:null,support:{fileList:!!s()('<input type="file">').prop("files"),blobURLs:!!window.URL&&URL.createObjectURL,formData:!!window.FormData}}},mounted:function(){this.$container=s()("#"+this.id),this.$avatarForm=this.$container.find(".avatar-form"),this.$avatarUpload=this.$avatarForm.find(".avatar-upload"),this.$avatarSrc=this.$avatarForm.find(".avatar-src"),this.$avatarData=this.$avatarForm.find(".avatar-data"),this.$avatarInput=this.$avatarForm.find(".avatar-input"),this.$avatarSave=this.$avatarForm.find(".avatar-save"),this.$avatarWrapper=this.$container.find(".avatar-wrapper"),this.$avatarPreview=this.$container.find(".avatar-preview"),this.$avatarBtns=this.$container.find(".avatar-btns"),this.$nextTick(function(){this.init()})},methods:{init:function(){this.support.datauri=this.support.fileList&&this.support.blobURLs,this.addListener()},addListener:function(){this.$avatarInput.on("change",s.a.proxy(this.change,this)),this.$avatarForm.on("submit",s.a.proxy(this.submit,this)),this.$avatarBtns.on("click",s.a.proxy(this.rotate,this))},initPreview:function(){var e=this.$avatar.attr("src");this.$avatarPreview.html('<img src="'+e+'">')},initIframe:function(){var e="upload-iframe-"+(new Date).getTime(),t=s()("<iframe>").attr({name:e,src:""}),a=this;t.one("load",function(){t.on("load",function(){var e;try{e=s()(this).contents().find("body").text()}catch(e){}if(e){try{e=s.a.parseJSON(e)}catch(e){}a.submitDone(e)}a.submitEnd()})}),this.$iframe=t,this.$avatarForm.attr("target",e).after(t.hide())},click:function(){this.initPreview()},change:function(){var e,t;this.support.datauri?(e=this.$avatarInput.prop("files")).length>0&&(t=e[0],this.isImageFile(t)&&(this.url&&URL.revokeObjectURL(this.url),this.url=URL.createObjectURL(t),this.startCropper())):(t=this.$avatarInput.val(),this.isImageFile(t)&&this.syncUpload())},submit:function(){return!(!this.$avatarSrc.val()&&!this.$avatarInput.val())&&(this.support.formData?(this.ajaxUpload(),!1):void 0)},rotate:function(e){var t;this.active&&(t=s()(e.target).data()).method&&this.$img.cropper(t.method,t.option)},isImageFile:function(e){var t="image/jpeg"===e.type||"image/gif"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message({message:"上传二维码只能是 JPG GIF PNG 格式!",type:"error"}),a||this.$message({message:"上传二维码大小不能超过 2MB!",type:"error"}),t&&a},startCropper:function(){var e=this;this.active?this.$img.cropper("replace",this.url):(this.$img=s()('<img src="'+this.url+'">'),this.$avatarWrapper.empty().html(this.$img),this.$img.cropper({viewMode:1,aspectRatio:1,preview:this.$avatarPreview,restore:!1,crop:function(t){var a=['{"x":'+t.x,'"y":'+t.y,'"height":'+t.height,'"width":'+t.width,'"rotate":'+t.rotate+"}"].join();e.$avatarData.val(a)}}),this.active=!0)},stopCropper:function(){this.active&&(this.$img.cropper("destroy"),this.$img.remove(),this.active=!1)},ajaxUpload:function(){return{base64:s()(".avatar-wrapper>img").cropper("getCroppedCanvas").toDataURL(),data:this.$avatarInput[0]}},syncUpload:function(){this.$avatarSave.click()},submitDone:function(e){s.a.isPlainObject(e)&&200===e.state&&(e.result?(this.url=e.result,this.support.datauri||this.uploaded?(this.uploaded=!1,this.cropDone()):(this.uploaded=!0,this.$avatarSrc.val(this.url),this.startCropper()),this.$avatarInput.val("")):e.message)},cropDone:function(){this.stopCropper()}}}),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:this.id}},[t("form",{staticClass:"avatar-form",attrs:{enctype:"multipart/form-data",method:"post"}},[t("div",{staticClass:"avatar-body"},[this._m(0),this._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("div",{staticClass:"avatar-wrapper",staticStyle:{border:"1px solid #ccc"}})]),this._v(" "),t("el-col",{attrs:{span:12}},[t("div",{staticStyle:{"padding-left":"10px"}},[t("p",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[this._v("预览")]),this._v(" "),t("div",{staticClass:"avatar-preview preview-lg avatar-preview-round"})])])],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"avatar-upload"},[t("input",{staticClass:"avatar-src",attrs:{type:"hidden",name:"avatar_src"}}),this._v(" "),t("input",{staticClass:"avatar-data",attrs:{type:"hidden",name:"ci"}}),this._v(" "),t("label",{staticClass:"el-button el-button--primary",attrs:{for:"avatarInput"}},[this._v("选择图片")]),this._v(" "),t("input",{staticClass:"avatar-input",staticStyle:{visibility:"hidden"},attrs:{type:"file",id:"avatarInput",accept:"image/png, image/jpeg, image/gif, image/jpg",name:"file"}})])}]};var n=a("VU/8")(r,o,!1,function(e){a("7MA5")},null,null);t.a=n.exports},y4oF:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-dialog__wrapper",attrs:{id:"transferModal"}},[a("div",{staticClass:"haigui-modal transferModal"},[a("div",{staticClass:"haigui-modal-title"},[a("p",[e._v(e._s(e.transferTitle))]),e._v(" "),a("el-button",{staticClass:"haigui-modal-close",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(t){e.$emit("close")}}})],1),e._v(" "),a("div",{staticClass:"haigui-modal-content"},[a("el-transfer",{attrs:{titles:e.transferItemTitle,data:e.transferData},on:{change:e.handleChange},model:{value:e.transferValue,callback:function(t){e.transferValue=t},expression:"transferValue"}})],1),e._v(" "),a("div",{staticClass:"haigui-modal-btn"},[a("el-button",{on:{click:function(t){e.$emit("close")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)])])},staticRenderFns:[]};var s=a("VU/8")({props:["transferTitle","transferItemTitle","transferData","transferVal"],data:function(){return{transferValue:this.transferVal,value3:[1,8]}},methods:{handleChange:function(e,t,a){},save:function(){this.$emit("saveTransfer",this.transferValue)}}},i,!1,function(e){a("XCvn"),a("j3We")},null,null);t.a=s.exports}});