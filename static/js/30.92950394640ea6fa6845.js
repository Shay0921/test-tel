webpackJsonp([30],{oDeJ:function(t,s){},pS3k:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("mvHQ"),a=e.n(i),n=e("7t+N"),r=e.n(n),u=(e("NZyr"),{data:function(){return{showResultMX:!1,searchMX:"",resultMX:"",count:"",resultList:[]}},computed:{vuexDomain:{get:function(){if(this.$store.getters.vuexDomain)return this.$store.getters.vuexDomain},set:function(t){this.$store.getters.vuexDomain=t}}},watch:{vuexDomain:function(){var t=this;this.vuexDomain&&(this.resultList=[],this.searchMX=this.vuexDomain,this.resultMX=this.vuexDomain,this.showResultMX=!0,r.a.ajax({type:"get",data:{domain:this.resultMX},url:"http://api.qiye163.com/api/api/chk_mx?domain=haigui.cn",success:function(s){var e=JSON.parse(s);t.count=e.count,t.resultList=e.result},error:function(t){}})),this.$store.dispatch("searchVuexMX","")}},mounted:function(){this.vuexDomain?(this.searchMX=this.vuexDomain,this.resultMX=this.vuexDomain,this.showResultMX=!0):(this.searchMX="",this.resultMX="")},methods:{searchMXFun:function(){var t=this;/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/.test(this.searchMX)?(this.resultMX=JSON.parse(a()(this.searchMX)),this.showResultMX=!0,r.a.ajax({type:"get",data:{domain:this.resultMX},url:"http://api.qiye163.com/api/api/chk_mx?domain=haigui.cn",success:function(s){var e=JSON.parse(s);t.count=e.count,t.resultList=e.result},error:function(t){}})):(this.showResultMX=!1,this.$message({message:"请输入正确格式的域名",type:"error"}))},pushWhois:function(){this.$store.dispatch("searchVuexMX",this.resultMX).then(function(){})}}}),c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"searchMX"},[e("div",{staticClass:"haigui-title"},[t._v("域名MX记录查询")]),t._v(" "),e("div",{staticClass:"haigui-section scrollbar"},[e("h1",[t._v("域名MX记录查询")]),t._v(" "),e("div",{staticClass:"searchBox"},[e("el-input",{attrs:{placeholder:"请输入您要查询的域名，如haigui.cn",icon:"search",maxlength:30},nativeOn:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13,s.key,"Enter"))return null;t.searchMXFun()}},model:{value:t.searchMX,callback:function(s){t.searchMX=s},expression:"searchMX"}}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(s){t.searchMXFun()}}},[t._v("查询")])],1),t._v(" "),t.showResultMX?e("div",{staticClass:"searchResult"},[e("p",[t._v("您查询的域名为:"),e("span",[t._v(t._s(t.resultMX))])]),e("a",{attrs:{href:"javascript:;"},on:{click:t.pushWhois}},[t._v("查询该域名whois信息")]),t._v(" "),e("ul",[e("li",[t._v("该域名共绑定了"),e("i",[t._v(t._s(t.count))]),t._v("条MX记录：")]),t._v(" "),t._l(t.resultList,function(s,i){return e("li",[t._v("第"),e("i",[t._v(t._s(i+1))]),t._v("条MX邮件记录："),e("b",[t._v(t._s(s.exchanger))])])})],2)]):t._e()])])},staticRenderFns:[]};var o=e("VU/8")(u,c,!1,function(t){e("oDeJ")},null,null);s.default=o.exports}});